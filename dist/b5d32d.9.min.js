(window.webpackJsonp=window.webpackJsonp||[]).push([[9,29,30,55,80],{158:function(e,r,l){"use strict";l.r(r),l.d(r,"default",(function(){return O}));var a=l(7),n=l.n(a),t=(l(149),l(59)),u=l(78),m=l.n(u),c=(l(150),l(79)),o=(l(77),l(28)),i=l(578),s=(l(219),l(89)),b=(l(148),l(49)),N=(l(294),l(106)),_=l(50),f=l.n(_),d=l(0),p=l.n(d),g=l(218),E="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/addRoleForm/index.jsx",v=N.a.Item,h={labelCol:{span:7},wrapperCol:{span:17}},y={wrapperCol:{span:17,offset:7}};function O(e){var r=e.clickItem,l=e.closeModalAndRequest,a=(e.dmlist,Object(d.useRef)());return p.a.createElement("div",{__source:{fileName:E,lineNumber:25,columnNumber:5}},p.a.createElement(N.a,n()({ref:a},h,{__source:{fileName:E,lineNumber:26,columnNumber:7}}),p.a.createElement(N.a.List,{field:"role_array",__source:{fileName:E,lineNumber:27,columnNumber:9}},(function(e,r){var l=r.add,a=r.remove;r.move;return p.a.createElement("div",{__source:{fileName:E,lineNumber:30,columnNumber:15}},e.map((function(e,r){return p.a.createElement("div",{key:e.key,__source:{fileName:E,lineNumber:33,columnNumber:21}},p.a.createElement(N.a.Item,{label:"角色"+(r+1),__source:{fileName:E,lineNumber:34,columnNumber:23}},p.a.createElement(c.a,{__source:{fileName:E,lineNumber:35,columnNumber:25}},p.a.createElement(N.a.Item,{label:"角色名称",field:e.field+".role_name",rules:[{required:!0}],noStyle:!0,__source:{fileName:E,lineNumber:36,columnNumber:27}},p.a.createElement(b.a,{placeholder:"角色名称",__source:{fileName:E,lineNumber:42,columnNumber:29}})),p.a.createElement(N.a.Item,{label:"角色封面",field:e.field+".role_cover",rules:[{required:!0}],noStyle:!0,__source:{fileName:E,lineNumber:44,columnNumber:27}},p.a.createElement(b.a,{placeholder:"角色封面",__source:{fileName:E,lineNumber:50,columnNumber:29}})),p.a.createElement(N.a.Item,{label:"角色简介",field:e.field+".role_brief",rules:[{required:!0}],noStyle:!0,__source:{fileName:E,lineNumber:52,columnNumber:27}},p.a.createElement(b.a,{placeholder:"角色简介",__source:{fileName:E,lineNumber:58,columnNumber:29}})),p.a.createElement(N.a.Item,{label:"角色备注",field:e.field+".role_remarks",rules:[{required:!0}],noStyle:!0,__source:{fileName:E,lineNumber:60,columnNumber:27}},p.a.createElement(b.a,{placeholder:"角色备注",__source:{fileName:E,lineNumber:66,columnNumber:29}})),p.a.createElement(N.a.Item,{label:"是否凶手",field:e.field+".is_murderer",rules:[{required:!0}],noStyle:!0,__source:{fileName:E,lineNumber:68,columnNumber:27}},p.a.createElement(s.a,{placeholder:"是否凶手",__source:{fileName:E,lineNumber:74,columnNumber:29}},p.a.createElement(s.a.Option,{value:!0,__source:{fileName:E,lineNumber:75,columnNumber:31}},"是"),p.a.createElement(s.a.Option,{value:!1,__source:{fileName:E,lineNumber:76,columnNumber:31}},"否"))),p.a.createElement(o.a,{icon:p.a.createElement(i.a,{__source:{fileName:E,lineNumber:80,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return a(r)},__source:{fileName:E,lineNumber:79,columnNumber:27}}))))})),p.a.createElement(N.a.Item,{wrapperCol:{offset:5},__source:{fileName:E,lineNumber:90,columnNumber:17}},p.a.createElement(o.a,{onClick:function(){l()},__source:{fileName:E,lineNumber:91,columnNumber:19}},"添加角色")))})),p.a.createElement(v,n()({},y,{__source:{fileName:E,lineNumber:103,columnNumber:9}}),p.a.createElement(o.a,{onClick:m()(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=20;break}return e.prev=1,e.next=4,a.current.validate();case 4:return e.next=6,a.current.validate();case 6:return(n=e.sent).gb_code=r.gb_code,e.next=10,Object(g.n)(n);case 10:e.sent.code,t.a.info("提交成功！"),l(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(a.current.getFieldsError()),t.a.error("校验失败，请检查字段！");case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),type:"primary",style:{marginRight:24},__source:{fileName:E,lineNumber:104,columnNumber:11}},"提交"),p.a.createElement(o.a,{onClick:function(){a.current.resetFields()},__source:{fileName:E,lineNumber:127,columnNumber:11}},"重置"))))}},159:function(e,r,l){"use strict";l.r(r),l.d(r,"default",(function(){return v}));var a=l(7),n=l.n(a),t=(l(77),l(28)),u=(l(149),l(59)),m=l(78),c=l.n(m),o=(l(219),l(89)),i=(l(294),l(106)),s=l(50),b=l.n(s),N=l(0),_=l.n(N),f=l(218),d="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/dmform/index.jsx",p=i.a.Item,g={labelCol:{span:7},wrapperCol:{span:17}},E={wrapperCol:{span:17,offset:7}};function v(e){var r=e.clickItem,l=e.closeModalAndRequest,a=e.dmlist,m=Object(N.useRef)();return _.a.createElement("div",{__source:{fileName:d,lineNumber:42,columnNumber:5}},_.a.createElement(i.a,n()({ref:m},g,{__source:{fileName:d,lineNumber:43,columnNumber:7}}),_.a.createElement(p,{label:"选择DM",required:!0,field:"dm_array",rules:[{required:!0,minLength:1,message:"choice is required"}],__source:{fileName:d,lineNumber:44,columnNumber:9}},_.a.createElement(o.a,{mode:"multiple",allowCreate:!0,placeholder:"请选择dm",__source:{fileName:d,lineNumber:56,columnNumber:11}},null==a?void 0:a.map((function(e){return _.a.createElement(o.a.Option,{key:e.user_account,value:e.user_account,__source:{fileName:d,lineNumber:59,columnNumber:17}},e.user_nick)})))),_.a.createElement(p,n()({},E,{__source:{fileName:d,lineNumber:66,columnNumber:9}}),_.a.createElement(t.a,{onClick:c()(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.current){e.next=21;break}return e.prev=1,e.next=4,m.current.validate();case 4:return e.next=6,m.current.validate();case 6:return(a=e.sent).gb_code=r.gb_code,a.dm_array=a.dm_array.map((function(e){return{user_account:e}})),e.next=11,Object(f.m)(a);case 11:e.sent.code,u.a.info("提交成功！"),l(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(m.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 21:case"end":return e.stop()}}),e,null,[[1,17]])}))),type:"primary",style:{marginRight:24},__source:{fileName:d,lineNumber:67,columnNumber:11}},"提交"),_.a.createElement(t.a,{onClick:function(){m.current.resetFields()},__source:{fileName:d,lineNumber:93,columnNumber:11}},"重置"))))}},160:function(e,r,l){"use strict";l.r(r);var a=l(7),n=l.n(a),t=(l(77),l(28)),u=(l(149),l(59)),m=l(78),c=l.n(m),o=(l(591),l(589)),i=(l(607),l(611)),s=(l(295),l(220)),b=(l(219),l(89)),N=(l(608),l(610)),_=(l(576),l(579)),f=(l(148),l(49)),d=l(5),p=l.n(d),g=l(24),E=l.n(g),v=(l(294),l(106)),h=l(50),y=l.n(h),O=l(0),w=l.n(O),j=l(218),x="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/form/index.jsx";function k(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,a)}return l}function C(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?k(Object(l),!0).forEach((function(r){p()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):k(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}var q=v.a.Item,I={labelCol:{span:7},wrapperCol:{span:17}},P={wrapperCol:{span:17,offset:7}};r.default=function(e){var r,l,a,m,d=e.labelData,p=e.closeModalAndRequest,g=Object(O.useRef)(),h=Object(O.useState)(null),k=E()(h,2),S=(k[0],k[1]),T=Object(O.useState)("default"),D=E()(T,2),A=D[0],R=(D[1],Object(O.useState)([])),F=E()(R,2),U=F[0],z=F[1],M=Object(O.useState)([]),L=E()(M,2),G=L[0],J=L[1],H=Object(O.useState)([]),V=E()(H,2),W=(V[0],V[1]),B=Object(O.useState)([]),K=E()(B,2),X=K[0],Q=K[1],Y=Object(O.useState)([]),Z=E()(Y,2),$=Z[0],ee=Z[1];return Object(O.useEffect)((function(){for(var e=0;e<d.length;e++){var r=d[e];"app_gb_type"===r.dict_code&&z(r),"app_gb_level"===r.dict_code&&J(r),"app_gb_people"===r.dict_code&&W(r),"app_gb_text_tag"===r.dict_code&&Q(r),"app_gb_status"===r.dict_code&&ee(r)}}),[]),w.a.createElement("div",{style:{maxWidth:650},__source:{fileName:x,lineNumber:75,columnNumber:5}},w.a.createElement(v.a,n()({ref:g},I,{size:A,onSubmit:function(e){var r=C(C({},e),{},{gb_cover:e.gb_cover.response.data.file_url});console.log(r)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:x,lineNumber:76,columnNumber:7}}),w.a.createElement(q,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:x,lineNumber:90,columnNumber:9}},w.a.createElement(f.a,{placeholder:"请填写剧本名称...",__source:{fileName:x,lineNumber:95,columnNumber:11}})),w.a.createElement(v.a.Item,{rules:[{required:!0,message:"请上传剧本封面"}],label:"剧本封面",field:"gb_cover",triggerPropName:"fileList",initialValue:[{uid:"1",url:"//p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/e278888093bef8910e829486fb45dd69.png~tplv-uwbnlip3yd-webp.webp",name:"20200717"}],__source:{fileName:x,lineNumber:97,columnNumber:9}},w.a.createElement(N.a,{limit:1,listType:"picture-card",multiple:!0,name:"gb_cover",customRequest:function(e){var r=e.onProgress,l=e.onError,a=e.onSuccess,n=e.file,t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(e){var l;e.total>0&&(l=e.loaded/e.total*100),r(parseInt(l,10),e)}),t.onerror=function(e){l(e)},t.onload=function(){if(t.status<200||t.status>=300)return l(t.responseText);S(JSON.parse(t.responseText)),a(JSON.parse(t.responseText),t)};var u=new FormData;u.append("up_file",n),u.append("module","drama"),t.open("post","https://gbs.toptian.com/system/upload/image",!0),t.setRequestHeader("Authorization",localStorage.getItem("token")),t.send(u)},onPreview:function(e){_.a.info({title:"Preview",content:w.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:x,lineNumber:149,columnNumber:19}})})},__source:{fileName:x,lineNumber:111,columnNumber:11}})),w.a.createElement(q,{label:"剧本类型",field:"gb_type",rules:[{required:!0,message:"请填写剧本类型"}],__source:{fileName:x,lineNumber:158,columnNumber:9}},w.a.createElement(b.a,{placeholder:"请选择剧本类型",__source:{fileName:x,lineNumber:163,columnNumber:11}},null==U||null===(r=U.dict_label)||void 0===r?void 0:r.map((function(e){return w.a.createElement(b.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:166,columnNumber:17}},e.label_zh)})))),w.a.createElement(q,{label:"剧本难度",field:"gb_level",rules:[{required:!0,message:"请选中剧本难度"}],__source:{fileName:x,lineNumber:173,columnNumber:9}},w.a.createElement(b.a,{placeholder:"请选择剧本难度",__source:{fileName:x,lineNumber:178,columnNumber:11}},null==G||null===(l=G.dict_label)||void 0===l?void 0:l.map((function(e){return w.a.createElement(b.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:181,columnNumber:17}},e.label_zh)})))),w.a.createElement(q,{label:"玩家人数",field:"gb_people",rules:[{required:!0,message:"请填写玩家说明"}],__source:{fileName:x,lineNumber:189,columnNumber:9}},w.a.createElement(s.a,{placeholder:"请填写玩家说明...",__source:{fileName:x,lineNumber:194,columnNumber:11}})),w.a.createElement(q,{label:"剧本状态",field:"gb_status",rules:[{required:!1,message:"请选择剧本状态"}],__source:{fileName:x,lineNumber:197,columnNumber:9}},w.a.createElement(b.a,{placeholder:"请选择剧本状态",__source:{fileName:x,lineNumber:202,columnNumber:11}},null==$||null===(a=$.dict_label)||void 0===a?void 0:a.map((function(e){return w.a.createElement(b.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:205,columnNumber:17}},e.label_zh)})))),w.a.createElement(q,{label:"玩家说明",field:"gb_people_note",rules:[{required:!0,message:"请填写玩家说明"}],__source:{fileName:x,lineNumber:214,columnNumber:9}},w.a.createElement(f.a,{placeholder:"请填写玩家说明...",__source:{fileName:x,lineNumber:219,columnNumber:11}})),w.a.createElement(q,{label:"剧本标签",field:"gb_text_tag_arr",rules:[{required:!0,message:"请选择剧本标签"}],__source:{fileName:x,lineNumber:221,columnNumber:9}},w.a.createElement(b.a,{mode:"multiple",allowClear:!0,placeholder:"请选择剧本标签",__source:{fileName:x,lineNumber:226,columnNumber:11}},null==X||null===(m=X.dict_label)||void 0===m?void 0:m.map((function(e){return w.a.createElement(b.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:229,columnNumber:17}},e.label_zh)})))),w.a.createElement(q,{label:"剧本时长/小时",field:"gb_hour",rules:[{type:"number",required:!0}],__source:{fileName:x,lineNumber:237,columnNumber:9}},w.a.createElement(s.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:x,lineNumber:242,columnNumber:11}})),w.a.createElement(q,{label:"工作日价格",field:"gb_price",rules:[{type:"number",required:!0}],__source:{fileName:x,lineNumber:244,columnNumber:9}},w.a.createElement(s.a,{min:1,placeholder:"请输入工作日价格",__source:{fileName:x,lineNumber:245,columnNumber:11}})),w.a.createElement(q,{label:"周末价格",field:"gb_price2",rules:[{type:"number",required:!0}],__source:{fileName:x,lineNumber:247,columnNumber:9}},w.a.createElement(s.a,{min:1,placeholder:"请输入工作日价格",__source:{fileName:x,lineNumber:248,columnNumber:11}})),w.a.createElement(q,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!0,type:"number"}],__source:{fileName:x,lineNumber:251,columnNumber:9}},w.a.createElement(i.a,{allowHalf:!0,__source:{fileName:x,lineNumber:261,columnNumber:11}})),w.a.createElement(q,{label:"剧本概要",field:"gb_text_brief",rules:[{required:!0,message:"请填写剧本概要"}],__source:{fileName:x,lineNumber:263,columnNumber:9}},w.a.createElement(f.a,{placeholder:"请填写剧本概要...",__source:{fileName:x,lineNumber:268,columnNumber:11}})),w.a.createElement(q,{label:"剧本描述",field:"gb_text_content",rules:[{required:!1,message:"请填写剧本描述"}],__source:{fileName:x,lineNumber:270,columnNumber:9}},w.a.createElement(f.a,{placeholder:"请填写剧本描述...",__source:{fileName:x,lineNumber:275,columnNumber:11}})),w.a.createElement(q,{label:"上架时间",field:"gb_add_time",rules:[{required:!1,message:"gb_add_time is required"}],__source:{fileName:x,lineNumber:278,columnNumber:9}},w.a.createElement(o.a,{showTime:!0,__source:{fileName:x,lineNumber:288,columnNumber:11}})),w.a.createElement(q,{label:"是否新本",field:"is_new",rules:[{required:!1,message:"请填写版权信息"}],__source:{fileName:x,lineNumber:290,columnNumber:9}},w.a.createElement(b.a,{placeholder:"是否新本",__source:{fileName:x,lineNumber:295,columnNumber:11}},w.a.createElement(b.a.Option,{value:1,__source:{fileName:x,lineNumber:296,columnNumber:13}},"是"),w.a.createElement(b.a.Option,{value:0,__source:{fileName:x,lineNumber:297,columnNumber:13}},"否"))),w.a.createElement(q,{label:"是否热门",field:"is_hot",rules:[{required:!1,message:"请填写版权信息"}],__source:{fileName:x,lineNumber:300,columnNumber:9}},w.a.createElement(b.a,{placeholder:"是否热门",__source:{fileName:x,lineNumber:305,columnNumber:11}},w.a.createElement(b.a.Option,{value:1,__source:{fileName:x,lineNumber:306,columnNumber:13}},"是"),w.a.createElement(b.a.Option,{value:0,__source:{fileName:x,lineNumber:307,columnNumber:13}},"否"))),w.a.createElement(q,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:x,lineNumber:310,columnNumber:9}},w.a.createElement(f.a,{placeholder:"请填写版权信息...",__source:{fileName:x,lineNumber:315,columnNumber:11}})),w.a.createElement(q,{label:"备注说明",field:"gb_remarks",rules:[{required:!1,message:"请填写备注说明"}],__source:{fileName:x,lineNumber:318,columnNumber:9}},w.a.createElement(f.a,{placeholder:"请填写备注说明...",__source:{fileName:x,lineNumber:323,columnNumber:11}})),w.a.createElement(q,n()({},P,{__source:{fileName:x,lineNumber:392,columnNumber:9}}),w.a.createElement(t.a,{onClick:c()(y.a.mark((function e(){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.current){e.next=17;break}return e.prev=1,e.next=4,g.current.validate();case 4:return console.log(g.current.getFields()),(r=g.current.getFields()).gb_cover=r.gb_cover[0].response.data.file_url,e.next=9,Object(j.b)(r);case 9:200===e.sent.code&&(u.a.success("添加成功"),p()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(g.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),type:"primary",style:{marginRight:24},__source:{fileName:x,lineNumber:393,columnNumber:11}},"Submit"),w.a.createElement(t.a,{onClick:function(){g.current.resetFields()},__source:{fileName:x,lineNumber:417,columnNumber:11}},"Reset"))))}},178:function(e,r,l){"use strict";l.r(r);l(584);var a=l(583),n=(l(574),l(582)),t=(l(148),l(49)),u=(l(575),l(581)),m=(l(576),l(579)),c=l(5),o=l.n(c),i=l(78),s=l.n(i),b=(l(150),l(79)),N=(l(77),l(28)),_=(l(151),l(60)),f=l(24),d=l.n(f),p=l(50),g=l.n(p),E=l(0),v=l.n(E),h=l(29),y=l(218),O=l(296),w=l(33),j=l(559),x=l.n(j),k=l(160),C=l(159),q=l(158),I="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/index.tsx";function P(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,a)}return l}function S(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?P(Object(l),!0).forEach((function(r){o()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):P(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}r.default=function(){var e=Object(w.a)(),r=Object(E.useState)([]),l=d()(r,2),c=l[0],o=l[1],i=Object(E.useState)({}),f=d()(i,2),p=f[0],j=f[1],P=Object(E.useState)(!1),T=d()(P,2),D=T[0],A=T[1],R=Object(E.useState)(!1),F=d()(R,2),U=F[0],z=F[1],M=Object(E.useState)(!1),L=d()(M,2),G=L[0],J=L[1],H=Object(E.useState)([]),V=d()(H,2),W=V[0],B=V[1],K=[{title:"剧本ID",dataIndex:"gb_id"},{title:"剧本标题",dataIndex:"gb_title"},{title:"剧本类型",dataIndex:"gb_type",render:function(e){return v.a.createElement(_.a.Text,{copyable:!0,__source:{fileName:I,lineNumber:47,columnNumber:26}},e)}},{title:"剧本区域",dataIndex:"gb_area"},{title:"剧本封面",dataIndex:"gb_cover",render:function(e,r){return v.a.createElement("img",{style:{width:60,height:90},src:r.gb_cover,__source:{fileName:I,lineNumber:57,columnNumber:16}})}},{title:e["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:e["searchTable.columns.operations"],dataIndex:"operations",render:function(r,l){return v.a.createElement("div",{className:x.a.operations,__source:{fileName:I,lineNumber:72,columnNumber:9}},v.a.createElement(b.a,{__source:{fileName:I,lineNumber:73,columnNumber:11}},v.a.createElement(N.a,{onClick:function(){J(!0),j(l)},type:"primary",size:"mini",__source:{fileName:I,lineNumber:74,columnNumber:13}},"添加角色"),v.a.createElement(N.a,{onClick:function(){j(l),A(!0)},type:"primary",size:"mini",__source:{fileName:I,lineNumber:84,columnNumber:13}},"添加dm"),v.a.createElement(N.a,{type:"primary",size:"mini",__source:{fileName:I,lineNumber:94,columnNumber:13}},e["searchTable.columns.operations.update"])))}}],X=Object(h.c)((function(e){return e.searchTable})),Q=X.data,Y=X.pagination,Z=X.loading,$=X.formParams,ee=Object(h.b)();Object(E.useEffect)((function(){ae()}),[]),Object(E.useEffect)((function(){re(),le()}),[]);var re=function(){var e=s()(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.j)();case 2:r=e.sent,B(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=s()(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.i)();case 2:r=e.sent,console.log("data: ",r),o(r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(y.h)({page:e,page_size:r});a.then((function(e){console.log(e);var r=e.data,a=e.paginator;ee({type:O.UPDATE_LIST,payload:{data:r}}),ee({type:O.UPDATE_PAGINATION,payload:{pagination:S(S({},Y),{},{current:a.page,pageSize:a.page_size,total:a.total_count})}}),ee({type:O.UPDATE_LOADING,payload:{loading:!1}}),ee({type:O.UPDATE_FORM_PARAMS,payload:{params:l}})}))}return v.a.createElement("div",{className:x.a.container,__source:{fileName:I,lineNumber:159,columnNumber:5}},v.a.createElement(m.a,{style:{width:800},unmountOnExit:!0,footer:null,title:"添加角色",visible:G,onCancel:function(){J(!1)},__source:{fileName:I,lineNumber:161,columnNumber:7}},v.a.createElement(q.default,{clickItem:p,__source:{fileName:I,lineNumber:171,columnNumber:9}})),v.a.createElement(m.a,{onCancel:function(){A(!1)},visible:D,unmountOnExit:!0,footer:null,title:"添加dm",__source:{fileName:I,lineNumber:173,columnNumber:7}},v.a.createElement(C.default,{closeModalAndRequest:function(){ae(),A(!1)},dmlist:c,clickItem:p,__source:{fileName:I,lineNumber:182,columnNumber:9}})),v.a.createElement(m.a,{title:"添加剧本",footer:null,onCancel:function(){z(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:U,__source:{fileName:I,lineNumber:191,columnNumber:7}},v.a.createElement(k.default,{closeModalAndRequest:function(){ae(),z(!1)},labelData:W,__source:{fileName:I,lineNumber:201,columnNumber:9}})),v.a.createElement(u.a,{style:{marginBottom:20},__source:{fileName:I,lineNumber:209,columnNumber:7}},v.a.createElement(u.a.Item,{__source:{fileName:I,lineNumber:210,columnNumber:9}},"运营管理"),v.a.createElement(u.a.Item,{__source:{fileName:I,lineNumber:211,columnNumber:9}},"剧本管理")),v.a.createElement("div",{__source:{fileName:I,lineNumber:213,columnNumber:7}},v.a.createElement(n.a,{style:{marginBottom:20},__source:{fileName:I,lineNumber:214,columnNumber:9}},v.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:I,lineNumber:215,columnNumber:11}},v.a.createElement(N.a,{style:{marginRight:20},onClick:function(){z(!0)},type:"primary",__source:{fileName:I,lineNumber:216,columnNumber:13}},"添加剧本"),v.a.createElement("div",{__source:{fileName:I,lineNumber:225,columnNumber:13}},v.a.createElement(b.a,{style:{flex:1},wrap:!0,__source:{fileName:I,lineNumber:226,columnNumber:15}},v.a.createElement(t.a,{onChange:function(){},placeholder:"请输入剧本标题",style:{width:200},__source:{fileName:I,lineNumber:227,columnNumber:17}}),v.a.createElement(t.a,{onChange:function(){},placeholder:"剧本类型",style:{width:200},__source:{fileName:I,lineNumber:232,columnNumber:17}}),v.a.createElement(t.a,{onChange:function(){},placeholder:"剧本区域",style:{width:200},__source:{fileName:I,lineNumber:233,columnNumber:17}}),v.a.createElement(t.a,{onChange:function(){},placeholder:"玩家人数",style:{width:200},__source:{fileName:I,lineNumber:234,columnNumber:17}}),v.a.createElement(t.a,{onChange:function(){},placeholder:"剧本状态",style:{width:200},__source:{fileName:I,lineNumber:235,columnNumber:17}}),v.a.createElement(N.a,{onClick:function(){},__source:{fileName:I,lineNumber:236,columnNumber:17}},"重置"),v.a.createElement(N.a,{onClick:function(){ae()},type:"primary",__source:{fileName:I,lineNumber:237,columnNumber:17}},"搜索")))))),v.a.createElement(n.a,{bordered:!1,__source:{fileName:I,lineNumber:250,columnNumber:7}},v.a.createElement(a.a,{rowKey:"gb_id",loading:Z,onChange:function(e){ae(e.current,e.pageSize,$)},pagination:Y,columns:K,data:Q,__source:{fileName:I,lineNumber:251,columnNumber:9}})))}},296:function(e,r,l){"use strict";l.r(r),l.d(r,"UPDATE_LIST",(function(){return a})),l.d(r,"UPDATE_LOADING",(function(){return n})),l.d(r,"UPDATE_PAGINATION",(function(){return t})),l.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var a="searchTable_update_list",n="searchTable_update_loading",t="searchTable_update_pagination",u="searchTable_update_formParams"},559:function(e,r,l){e.exports={container:"container-50d7a459ef",toolbar:"toolbar-603124241c",operations:"operations-1e37fde15b"}}}]);