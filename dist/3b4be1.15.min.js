(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{155:function(e,r,l){"use strict";l.r(r);var a=l(7),n=l.n(a),t=(l(76),l(27)),u=(l(148),l(58)),m=l(77),o=l.n(m),c=(l(544),l(543)),i=(l(559),l(567)),s=(l(276),l(202)),b=(l(560),l(565)),d=(l(534),l(537)),f=(l(147),l(48)),N=l(23),_=l.n(N),p=(l(272),l(106)),g=l(51),E=l.n(g),h=l(0),v=l.n(h),w=l(531),q="/Users/mrhh/Desktop/gbs-admin/src/pages/drama-table/form/index.jsx",j=p.a.Item,y={labelCol:{span:7},wrapperCol:{span:17}},O={wrapperCol:{span:17,offset:7}};r.default=function(){var e=Object(h.useRef)(),r=Object(h.useState)("default"),l=_()(r,2),a=l[0];return l[1],Object(h.useEffect)((function(){}),[]),v.a.createElement("div",{style:{maxWidth:650},__source:{fileName:q,lineNumber:53,columnNumber:5}},v.a.createElement(p.a,n()({ref:e},y,{size:a,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:q,lineNumber:54,columnNumber:7}}),v.a.createElement(j,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:q,lineNumber:68,columnNumber:9}},v.a.createElement(f.a,{placeholder:"请填写剧本名称...",__source:{fileName:q,lineNumber:73,columnNumber:11}})),v.a.createElement(j,{label:"剧本类型",field:"gb_type",rules:[{required:!1,message:"请填写剧本类型"}],__source:{fileName:q,lineNumber:75,columnNumber:9}},v.a.createElement(f.a,{placeholder:"请填写剧本类型...",__source:{fileName:q,lineNumber:80,columnNumber:11}})),v.a.createElement(j,{label:"剧本区域",field:"gb_area",rules:[{required:!1,message:"请填写剧本区域"}],__source:{fileName:q,lineNumber:82,columnNumber:9}},v.a.createElement(f.a,{placeholder:"请填写剧本区域...",__source:{fileName:q,lineNumber:87,columnNumber:11}})),v.a.createElement(p.a.Item,{label:"剧本封面",field:"upload",triggerPropName:"fileList",__source:{fileName:q,lineNumber:90,columnNumber:9}},v.a.createElement(b.a,{listType:"picture-card",multiple:!0,name:"files",customRequest:function(e){console.log(e);var r=e.onProgress,l=e.onError,a=e.onSuccess,n=e.file;console.log("file: ",n);var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(e){var l;e.total>0&&(l=e.loaded/e.total*100),r(parseInt(l,10),e)}),t.onerror=function(e){l(e)},t.onload=function(){if(t.status<200||t.status>=300)return l(t.responseText);a(t.responseText,t)};var u=new FormData;u.append("up_file",n),u.append("module","drama"),t.open("post","http://120.24.188.169:8000/system/upload/image",!0),t.setRequestHeader("Authorization",localStorage.getItem("token")),t.send(u)},onPreview:function(e){d.a.info({title:"Preview",content:v.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:q,lineNumber:142,columnNumber:19}})})},__source:{fileName:q,lineNumber:103,columnNumber:11}})),v.a.createElement(j,{label:"玩家人数",field:"gb_people",rules:[{type:"number",required:!1}],__source:{fileName:q,lineNumber:151,columnNumber:9}},v.a.createElement(s.a,{min:1,placeholder:"请输入玩家人数",__source:{fileName:q,lineNumber:152,columnNumber:11}})),v.a.createElement(j,{label:"参考价格",field:"gb_price",rules:[{type:"number",required:!1}],__source:{fileName:q,lineNumber:154,columnNumber:9}},v.a.createElement(s.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:q,lineNumber:155,columnNumber:11}})),v.a.createElement(j,{label:"玩家说明",field:"gb_people_note",rules:[{required:!1,message:"请填写玩家说明"}],__source:{fileName:q,lineNumber:157,columnNumber:9}},v.a.createElement(f.a,{placeholder:"请填写玩家说明...",__source:{fileName:q,lineNumber:162,columnNumber:11}})),v.a.createElement(j,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!1,type:"number"}],__source:{fileName:q,lineNumber:217,columnNumber:9}},v.a.createElement(i.a,{allowHalf:!0,__source:{fileName:q,lineNumber:227,columnNumber:11}})),v.a.createElement(j,{label:"上架时间",field:"gb_add_time",rules:[{required:!0,message:"gb_add_time is required"}],__source:{fileName:q,lineNumber:230,columnNumber:9}},v.a.createElement(c.a,{showTime:!0,__source:{fileName:q,lineNumber:240,columnNumber:11}})),v.a.createElement(j,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:q,lineNumber:242,columnNumber:9}},v.a.createElement(f.a,{placeholder:"请填写版权信息...",__source:{fileName:q,lineNumber:247,columnNumber:11}})),v.a.createElement(j,{label:"备注说明",field:"gb_remarks",rules:[{required:!0,message:"请填写备注说明"}],__source:{fileName:q,lineNumber:249,columnNumber:9}},v.a.createElement(f.a,{placeholder:"请填写备注说明...",__source:{fileName:q,lineNumber:254,columnNumber:11}})),v.a.createElement(j,n()({},O,{__source:{fileName:q,lineNumber:323,columnNumber:9}}),v.a.createElement(t.a,{onClick:o()(E.a.mark((function r(){var l;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.current){r.next=16;break}return r.prev=1,r.next=4,e.current.validate();case 4:return console.log(e.current),console.log(e.current.getFields()),r.next=8,Object(w.a)(e.current.getFields());case 8:l=r.sent,console.log("param: ",l),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(e.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 16:case"end":return r.stop()}}),r,null,[[1,12]])}))),type:"primary",style:{marginRight:24},__source:{fileName:q,lineNumber:324,columnNumber:11}},"Submit"),v.a.createElement(t.a,{onClick:function(){e.current.resetFields()},__source:{fileName:q,lineNumber:346,columnNumber:11}},"Reset"))))}},531:function(e,r,l){"use strict";l.d(r,"d",(function(){return n})),l.d(r,"c",(function(){return t})),l.d(r,"f",(function(){return u})),l.d(r,"e",(function(){return m})),l.d(r,"a",(function(){return o})),l.d(r,"b",(function(){return c})),l.d(r,"g",(function(){return i}));var a=l(88);function n(e){return Object(a.a)({url:"/system/dict/labels",method:"POST"})}function t(e){return Object(a.a)({url:"/v1/drama/list",data:e})}function u(e){return Object(a.a)({url:"/v1/store/list",data:e,method:"post"})}function m(e){return Object(a.a)({url:"/system/menu/list",data:e,method:"post"})}function o(e){return Object(a.a)({url:"/v1/drama/add",data:e})}function c(e){return Object(a.a)({url:"/v1/store/add",data:e})}function i(e){return Object(a.a)({url:"/v1/store/edit",data:e})}}}]);