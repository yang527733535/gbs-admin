(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{168:function(e,r,l){"use strict";l.r(r);l(77);var a=l(28),u=l(78),m=l.n(u),n=(l(604),l(602)),o=(l(304),l(227)),t=(l(606),l(608)),s=(l(593),l(594)),i=(l(150),l(49)),c=(l(226),l(89)),N=(l(151),l(50)),b=l(24),_=l.n(b),f=(l(303),l(106)),d=l(51),p=l.n(d),g=l(0),E=l.n(g),h=l(225),q=l(4),w=l.n(q),v="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-staff-dm/form/index.jsx",k=f.a.Item;function x(e){var r=e.UserList,l=e.closeModalAndReqNewTableData,u=f.a.useForm(),b=_()(u,1)[0];return E.a.createElement("div",{__source:{fileName:v,lineNumber:19,columnNumber:5}},E.a.createElement(f.a,{onSubmit:function(e){console.log(e),N.a.success("success")},form:b,__source:{fileName:v,lineNumber:20,columnNumber:7}},E.a.createElement(k,{rules:[{required:!0,message:"请选择账号"}],field:"user_account",label:"选择账号",__source:{fileName:v,lineNumber:27,columnNumber:9}},E.a.createElement(c.a,{placeholder:"请选择账号",__source:{fileName:v,lineNumber:32,columnNumber:11}},null==r?void 0:r.map((function(e){return E.a.createElement(c.a.Option,{key:e.user_account,__source:{fileName:v,lineNumber:34,columnNumber:22}},e.user_account)})))),E.a.createElement(k,{rules:[{required:!0,message:"请输入昵称"}],field:"user_nick",label:"昵称",__source:{fileName:v,lineNumber:38,columnNumber:9}},E.a.createElement(i.a,{placeholder:"请输入昵称",__source:{fileName:v,lineNumber:43,columnNumber:11}})),E.a.createElement(k,{rules:[{required:!0,message:"请输入星座"}],field:"star_sign",label:"星座",__source:{fileName:v,lineNumber:45,columnNumber:9}},E.a.createElement(i.a,{placeholder:"请输入星座",__source:{fileName:v,lineNumber:50,columnNumber:11}})),E.a.createElement(k,{rules:[{required:!0,message:"请输入DM简介"}],field:"user_brief",label:"DM简介",__source:{fileName:v,lineNumber:52,columnNumber:9}},E.a.createElement(i.a.TextArea,{placeholder:"请输入DM简介",__source:{fileName:v,lineNumber:57,columnNumber:11}})),E.a.createElement(k,{rules:[{required:!0,message:"请输入擅长剧本"}],field:"skilled_drama",label:"擅长剧本",__source:{fileName:v,lineNumber:59,columnNumber:9}},E.a.createElement(c.a,{allowCreate:!0,mode:"multiple",placeholder:"擅长剧本",allowClear:!0,__source:{fileName:v,lineNumber:64,columnNumber:11}})),E.a.createElement(f.a.Item,{rules:[{required:!0,message:"请上传DM相片"}],label:"DM相片",field:"user_photo",triggerPropName:"fileList",__source:{fileName:v,lineNumber:66,columnNumber:9}},E.a.createElement(t.a,{limit:1,listType:"picture-card",name:"user_photo",customRequest:function(e){var r=e.onProgress,l=e.onError,a=e.onSuccess,u=e.file,m=new XMLHttpRequest;m.upload&&(m.upload.onprogress=function(e){var l;e.total>0&&(l=e.loaded/e.total*100),r(parseInt(l,10),e)}),m.onerror=function(e){l(e)},m.onload=function(){m.status<200||m.status,a(JSON.parse(m.responseText))};var n=new FormData;n.append("up_file",u),n.append("module","drama"),m.open("post","https://gbs.toptian.com/system/upload/image",!0),m.setRequestHeader("Authorization",localStorage.getItem("token")),m.send(n)},onPreview:function(e){s.a.info({title:"Preview",content:E.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:v,lineNumber:107,columnNumber:19}})})},__source:{fileName:v,lineNumber:72,columnNumber:11}})),E.a.createElement(k,{rules:[{required:!0,message:"请选择性别"}],field:"user_gender",label:"性别",__source:{fileName:v,lineNumber:116,columnNumber:9}},E.a.createElement(c.a,{__source:{fileName:v,lineNumber:121,columnNumber:11}},E.a.createElement(c.a.Option,{value:"0",__source:{fileName:v,lineNumber:122,columnNumber:13}},"未知"),E.a.createElement(c.a.Option,{value:"1",__source:{fileName:v,lineNumber:123,columnNumber:13}},"男"),E.a.createElement(c.a.Option,{value:"2",__source:{fileName:v,lineNumber:124,columnNumber:13}},"女"))),E.a.createElement(k,{rules:[{required:!0,message:"请输入获赞次数"}],field:"praise_qty",label:"获赞次数",__source:{fileName:v,lineNumber:127,columnNumber:9}},E.a.createElement(o.a,{__source:{fileName:v,lineNumber:132,columnNumber:11}})),E.a.createElement(k,{rules:[{required:!0,message:"请输入带场次数"}],field:"exp_value",label:"带场次数",__source:{fileName:v,lineNumber:134,columnNumber:9}},E.a.createElement(o.a,{__source:{fileName:v,lineNumber:139,columnNumber:11}})),E.a.createElement(k,{label:"加入时间",field:"join_date",rules:[{required:!0,message:"join_date is required"}],__source:{fileName:v,lineNumber:141,columnNumber:9}},E.a.createElement(n.a,{showTime:!0,__source:{fileName:v,lineNumber:151,columnNumber:11}})),E.a.createElement(k,{wrapperCol:{offset:5},__source:{fileName:v,lineNumber:153,columnNumber:9}},E.a.createElement(a.a,{onClick:m()(p.a.mark((function e(){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=b.getFields()).user_photo=r.user_photo[0].url||r.user_photo[0].response.data.file_url,console.log(r),e.next=5,Object(h.g)(r);case 5:a=e.sent,console.log("data: ",a),200===a.code&&l();case 8:case"end":return e.stop()}}),e)}))),type:"primary",__source:{fileName:v,lineNumber:158,columnNumber:11}},"Submit"))))}x.propTypes={name:w.a.string.isRequired},r.default=x}}]);