(window.webpackJsonp=window.webpackJsonp||[]).push([[28,40,103],{169:function(e,a,n){"use strict";n.r(a);var r=n(5),l=n.n(r),t=(n(77),n(30)),u=(n(148),n(52)),m=n(78),c=n.n(m),o=(n(312),n(234)),i=(n(230),n(89)),s=(n(149),n(53)),b=n(24),N=n.n(b),f=(n(311),n(104)),_=n(51),d=n.n(_),p=n(0),g=n.n(p),E=n(229),h="/Users/mrhh/Desktop/gbs-admin/src/pages/menu-table/form/index.jsx",y=f.a.Item,O={labelCol:{span:7},wrapperCol:{span:17}},v={wrapperCol:{span:17,offset:7}};a.default=function(e){var a=e.closeModalAndReqTable,n=Object(p.useRef)(),r=Object(p.useState)("default"),m=N()(r,2),b=m[0],_=(m[1],Object(p.useState)([])),j=N()(_,2),w=j[0],C=j[1];return Object(p.useEffect)((function(){}),[]),Object(p.useEffect)((function(){JSON.parse(localStorage.getItem("dicts")).forEach((function(e){console.log("element: ",e),"is_enable"===e.dict_code&&C(e.dict_label)}))}),[]),console.log(w),g.a.createElement("div",{style:{maxWidth:650},__source:{fileName:h,lineNumber:63,columnNumber:5}},g.a.createElement(f.a,l()({ref:n},O,{size:b,onSubmit:function(e){console.log(e)},onValuesChange:function(e,a){console.log("onValuesChange: ",e,a)},scrollToFirstError:!0,__source:{fileName:h,lineNumber:64,columnNumber:7}}),g.a.createElement(y,{label:"菜单名称",field:"menu_name",rules:[{required:!0,message:"请填写菜单名称"}],__source:{fileName:h,lineNumber:78,columnNumber:9}},g.a.createElement(s.a,{placeholder:"请填写菜单名称...",__source:{fileName:h,lineNumber:83,columnNumber:11}})),g.a.createElement(y,{label:"菜单状态",field:"menu_status",rules:[{required:!0,message:"请填写菜单状态"}],__source:{fileName:h,lineNumber:85,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请选择菜单状态",__source:{fileName:h,lineNumber:90,columnNumber:11}},w.map((function(e){var a=e.label_value,n=e.label_zh;return g.a.createElement(i.a.Option,{value:a,__source:{fileName:h,lineNumber:92,columnNumber:22}},n)})))),g.a.createElement(y,{label:"菜单路径",field:"menu_key",rules:[{required:!1,message:"请填写菜单路径"}],__source:{fileName:h,lineNumber:96,columnNumber:9}},g.a.createElement(s.a,{placeholder:"请填写菜单路径...",__source:{fileName:h,lineNumber:101,columnNumber:11}})),g.a.createElement(y,{label:"组件路径",field:"menu_path",rules:[{required:!1,message:"请填写组件路径"}],__source:{fileName:h,lineNumber:103,columnNumber:9}},g.a.createElement(s.a,{placeholder:"请填写组件路径...",__source:{fileName:h,lineNumber:108,columnNumber:11}})),g.a.createElement(y,{label:"菜单图标",field:"menu_icon",rules:[{required:!1,message:"请填写菜单图标"}],__source:{fileName:h,lineNumber:110,columnNumber:9}},g.a.createElement(s.a,{placeholder:"请填写菜单图标...",__source:{fileName:h,lineNumber:115,columnNumber:11}})),g.a.createElement(y,{label:"父级Id",field:"parent_id",rules:[{required:!1,message:"请填写父级Id"}],__source:{fileName:h,lineNumber:117,columnNumber:9}},g.a.createElement(o.a,{placeholder:"请填写父级Id...",__source:{fileName:h,lineNumber:122,columnNumber:11}})),g.a.createElement(y,{label:"菜单等级",field:"menu_lev",rules:[{required:!1,message:"请填写菜单等级"}],__source:{fileName:h,lineNumber:124,columnNumber:9}},g.a.createElement(o.a,{placeholder:"请填写菜单等级...",__source:{fileName:h,lineNumber:129,columnNumber:11}})),g.a.createElement(y,{label:"菜单排序",field:"menu_sort",rules:[{required:!1,message:"请填写菜单排序"}],__source:{fileName:h,lineNumber:131,columnNumber:9}},g.a.createElement(o.a,{placeholder:"请填写菜单排序...",__source:{fileName:h,lineNumber:136,columnNumber:11}})),g.a.createElement(y,l()({},v,{__source:{fileName:h,lineNumber:139,columnNumber:9}}),g.a.createElement(t.a,{onClick:c()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=14;break}return e.prev=1,e.next=4,n.current.validate();case 4:return e.next=6,Object(E.g)(n.current.getFields());case 6:200===e.sent.code&&(u.a.success("添加成功"),a()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(n.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),type:"primary",style:{marginRight:24},__source:{fileName:h,lineNumber:140,columnNumber:11}},"Submit"),g.a.createElement(t.a,{onClick:function(){n.current.resetFields()},__source:{fileName:h,lineNumber:162,columnNumber:11}},"Reset"))))}},185:function(e,a,n){"use strict";n.r(a);n(645);var r=n(644),l=(n(616),n(617)),t=(n(150),n(79)),u=(n(149),n(53)),m=(n(637),n(640)),c=(n(614),n(615)),o=n(4),i=n.n(o),s=(n(77),n(30)),b=n(24),N=n.n(b),f=n(638),_=n.n(f),d=n(0),p=n.n(d),g=n(32),E=n(229),h=n(74),y=n(34),O=n(593),v=n.n(O),j=n(169),w="/Users/mrhh/Desktop/gbs-admin/src/pages/menu-table/index.tsx";function C(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?C(Object(n),!0).forEach((function(a){i()(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}a.default=function(e){_()(e);var a=Object(y.a)(),n=Object(d.useState)(!1),o=N()(n,2),i=o[0],b=o[1],f=Object(d.useState)(""),O=N()(f,2),C=O[0],x=O[1],I=Object(d.useState)(""),k=N()(I,2),P=k[0],T=k[1],D=Object(d.useState)(""),q=N()(D,2),A=q[0],z=q[1],R=Object(d.useState)(""),U=N()(R,2),F=U[0],M=U[1],J=Object(d.useState)(null),L=N()(J,2),B=L[0],G=L[1],V=[{title:"菜单名称",dataIndex:"menu_name"},{title:"菜单编码",dataIndex:"menu_code"},{title:"菜单路径",dataIndex:"menu_path"},{title:"菜单ID",dataIndex:"menu_id"},{title:a["searchTable.columns.operations"],render:function(e,n){return p.a.createElement(s.a,{onClick:function(){console.log(e,n),G(n),b(!0)},size:"small",__source:{fileName:w,lineNumber:46,columnNumber:9}},a["searchTable.columns.operations.update"])}}],W=Object(g.c)((function(e){return e.searchTable})),K=W.data,H=W.pagination,Q=W.loading,X=W.formParams,Y=Object(g.b)();function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(E.q)({page:e,page_size:a,menu_code:C,menu_status:P,menu_name:A,menu_path:F});r.then((function(e){var a=e.data,r=e.paginator;Y({type:h.UPDATE_LIST,payload:{data:a}}),Y({type:h.UPDATE_PAGINATION,payload:{pagination:S(S({},H),{},{current:r.page,pageSize:r.page_size,total:r.total_count})}}),Y({type:h.UPDATE_LOADING,payload:{loading:!1}}),Y({type:h.UPDATE_FORM_PARAMS,payload:{params:n}})}))}return Object(d.useEffect)((function(){Z()}),[]),p.a.createElement("div",{className:v.a.container,__source:{fileName:w,lineNumber:103,columnNumber:5}},p.a.createElement(c.a,{title:null===B?"添加菜单":"修改菜单",footer:null,onCancel:function(){b(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:i,__source:{fileName:w,lineNumber:104,columnNumber:7}},p.a.createElement(j.default,{clickItem:B,closeModalAndReqTable:function(){b(!1),Z()},__source:{fileName:w,lineNumber:114,columnNumber:9}})),p.a.createElement(m.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:122,columnNumber:7}},p.a.createElement(m.a.Item,{__source:{fileName:w,lineNumber:123,columnNumber:9}},a["menu.list"]),p.a.createElement(m.a.Item,{__source:{fileName:w,lineNumber:124,columnNumber:9}},a["menu.list.searchTable"])),p.a.createElement("div",{__source:{fileName:w,lineNumber:126,columnNumber:7}},p.a.createElement(l.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:127,columnNumber:9}},p.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:w,lineNumber:128,columnNumber:11}},p.a.createElement(s.a,{onClick:function(){b(!0),G(null)},type:"primary",__source:{fileName:w,lineNumber:129,columnNumber:13}},"添加菜单"),p.a.createElement("div",{__source:{fileName:w,lineNumber:139,columnNumber:13}},p.a.createElement(t.a,{style:{marginLeft:20},wrap:!0,__source:{fileName:w,lineNumber:140,columnNumber:15}},p.a.createElement(u.a,{value:C,onChange:function(e){x(e)},placeholder:"请输入菜单编码",style:{width:200},__source:{fileName:w,lineNumber:141,columnNumber:17}}),p.a.createElement(u.a,{value:P,onChange:function(e){T(e)},placeholder:"请选择菜单状态",style:{width:200},__source:{fileName:w,lineNumber:149,columnNumber:17}}),p.a.createElement(u.a,{value:A,onChange:function(e){z(e)},placeholder:"请输入菜单名称",style:{width:200},__source:{fileName:w,lineNumber:157,columnNumber:17}}),p.a.createElement(u.a,{onChange:function(e){M(e)},placeholder:"菜单路径",value:F,style:{width:200},__source:{fileName:w,lineNumber:165,columnNumber:17}}),p.a.createElement(s.a,{onClick:function(){x(""),T(""),z(""),M("")},__source:{fileName:w,lineNumber:174,columnNumber:17}},"重置"),p.a.createElement(s.a,{onClick:function(){Z()},type:"primary",__source:{fileName:w,lineNumber:184,columnNumber:17}},"搜索")))))),p.a.createElement(l.a,{bordered:!1,__source:{fileName:w,lineNumber:197,columnNumber:7}},p.a.createElement(r.a,{rowKey:"menu_id",loading:Q,onChange:function(e){Z(e.current,e.pageSize,X)},pagination:H,columns:V,data:K,__source:{fileName:w,lineNumber:198,columnNumber:9}})))}},593:function(e,a,n){e.exports={container:"container-a20be868dd",toolbar:"toolbar-0bab599eaf",operations:"operations-e7fbab6537"}}}]);