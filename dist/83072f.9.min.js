(window.webpackJsonp=window.webpackJsonp||[]).push([[9,29,30,55,80],{158:function(e,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return j}));var l=a(7),t=a.n(l),n=(a(149),a(59)),u=a(78),c=a.n(u),m=(a(150),a(79)),o=(a(77),a(28)),i=a(578),s=(a(219),a(89)),b=(a(148),a(49)),N=(a(294),a(106)),_=(a(222),a(170)),f=a(50),d=a.n(f),p=a(0),g=a.n(p),E=a(218),v="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/addRoleForm/index.jsx",h=_.a.Row,y=(_.a.Col,N.a.Item),O={labelCol:{span:4},wrapperCol:{span:17}};function j(e){var r=e.clickItem,a=e.closeModalAndRequest,l=(e.dmlist,Object(p.useRef)());return g.a.createElement("div",{__source:{fileName:v,lineNumber:26,columnNumber:5}},g.a.createElement(N.a,t()({layout:"vertical",ref:l},O,{__source:{fileName:v,lineNumber:27,columnNumber:7}}),g.a.createElement(N.a.List,{field:"role_array",__source:{fileName:v,lineNumber:28,columnNumber:9}},(function(e,r){var a=r.add,l=r.remove;r.move;return g.a.createElement("div",{__source:{fileName:v,lineNumber:31,columnNumber:15}},e.map((function(e,r){return g.a.createElement("div",{key:e.key,__source:{fileName:v,lineNumber:34,columnNumber:21}},g.a.createElement(N.a.Item,{label:"角色"+(r+1),__source:{fileName:v,lineNumber:35,columnNumber:23}},g.a.createElement(m.a,{__source:{fileName:v,lineNumber:36,columnNumber:25}},g.a.createElement(h,{__source:{fileName:v,lineNumber:37,columnNumber:27}},g.a.createElement(N.a.Item,{label:"角色名称",field:e.field+".role_name",rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:38,columnNumber:29}},g.a.createElement(b.a,{placeholder:"角色名称",__source:{fileName:v,lineNumber:44,columnNumber:31}}))),g.a.createElement(N.a.Item,{label:"角色简介",field:e.field+".role_brief",rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:48,columnNumber:27}},g.a.createElement(b.a,{placeholder:"角色简介",__source:{fileName:v,lineNumber:54,columnNumber:29}})),g.a.createElement(N.a.Item,{label:"角色备注",field:e.field+".role_remarks",rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:56,columnNumber:27}},g.a.createElement(b.a,{placeholder:"角色备注",__source:{fileName:v,lineNumber:62,columnNumber:29}})),g.a.createElement(N.a.Item,{label:"是否凶手",field:e.field+".is_murderer",rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:64,columnNumber:27}},g.a.createElement(s.a,{placeholder:"是否凶手",__source:{fileName:v,lineNumber:70,columnNumber:29}},g.a.createElement(s.a.Option,{value:!0,__source:{fileName:v,lineNumber:71,columnNumber:31}},"是"),g.a.createElement(s.a.Option,{value:!1,__source:{fileName:v,lineNumber:72,columnNumber:31}},"否"))),g.a.createElement(N.a.Item,{label:"角色封面",field:e.field+".role_cover",rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:75,columnNumber:27}},g.a.createElement(b.a,{placeholder:"角色封面",__source:{fileName:v,lineNumber:89,columnNumber:29}})),g.a.createElement(o.a,{icon:g.a.createElement(i.a,{__source:{fileName:v,lineNumber:109,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return l(r)},__source:{fileName:v,lineNumber:108,columnNumber:27}}))))})),g.a.createElement(N.a.Item,{wrapperCol:{offset:4},__source:{fileName:v,lineNumber:119,columnNumber:17}},g.a.createElement(o.a,{onClick:function(){a()},__source:{fileName:v,lineNumber:120,columnNumber:19}},"添加角色")))})),g.a.createElement(y,{wrapperCol:{offset:4},__source:{fileName:v,lineNumber:132,columnNumber:9}},g.a.createElement(o.a,{onClick:c()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=16;break}return e.prev=1,e.next=4,l.current.validate();case 4:return e.next=6,l.current.validate();case 6:return(t=e.sent).gb_code=r.gb_code,e.next=10,Object(E.p)(t);case 10:200===e.sent.code&&(n.a.info("提交成功！"),a()),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,null,[[1,14]])}))),type:"primary",style:{marginRight:24},__source:{fileName:v,lineNumber:133,columnNumber:11}},"提交"),g.a.createElement(o.a,{onClick:function(){l.current.resetFields()},__source:{fileName:v,lineNumber:156,columnNumber:11}},"重置"))))}},159:function(e,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return v}));var l=a(7),t=a.n(l),n=(a(77),a(28)),u=(a(149),a(59)),c=a(78),m=a.n(c),o=(a(219),a(89)),i=(a(294),a(106)),s=a(50),b=a.n(s),N=a(0),_=a.n(N),f=a(218),d="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/dmform/index.jsx",p=i.a.Item,g={labelCol:{span:7},wrapperCol:{span:17}},E={wrapperCol:{span:17,offset:7}};function v(e){var r=e.clickItem,a=e.closeModalAndRequest,l=e.dmlist,c=Object(N.useRef)();return _.a.createElement("div",{__source:{fileName:d,lineNumber:42,columnNumber:5}},_.a.createElement(i.a,t()({ref:c},g,{__source:{fileName:d,lineNumber:43,columnNumber:7}}),_.a.createElement(p,{label:"选择DM",required:!0,field:"dm_array",rules:[{required:!0,minLength:1,message:"choice is required"}],__source:{fileName:d,lineNumber:44,columnNumber:9}},_.a.createElement(o.a,{mode:"multiple",allowCreate:!0,placeholder:"请选择dm",__source:{fileName:d,lineNumber:56,columnNumber:11}},null==l?void 0:l.map((function(e){return _.a.createElement(o.a.Option,{key:e.user_account,value:e.user_account,__source:{fileName:d,lineNumber:59,columnNumber:17}},e.user_nick)})))),_.a.createElement(p,t()({},E,{__source:{fileName:d,lineNumber:66,columnNumber:9}}),_.a.createElement(n.a,{onClick:m()(b.a.mark((function e(){var l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.current){e.next=21;break}return e.prev=1,e.next=4,c.current.validate();case 4:return e.next=6,c.current.validate();case 6:return(l=e.sent).gb_code=r.gb_code,l.dm_array=l.dm_array.map((function(e){return{user_account:e}})),e.next=11,Object(f.o)(l);case 11:e.sent.code,u.a.info("提交成功！"),a(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(c.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 21:case"end":return e.stop()}}),e,null,[[1,17]])}))),type:"primary",style:{marginRight:24},__source:{fileName:d,lineNumber:67,columnNumber:11}},"提交"),_.a.createElement(n.a,{onClick:function(){c.current.resetFields()},__source:{fileName:d,lineNumber:93,columnNumber:11}},"重置"))))}},160:function(e,r,a){"use strict";a.r(r);a(151);var l=a(68),t=a(7),n=a.n(t),u=(a(77),a(28)),c=(a(149),a(59)),m=(a(591),a(589)),o=(a(607),a(611)),i=(a(295),a(220)),s=(a(219),a(89)),b=(a(608),a(610)),N=(a(576),a(579)),_=(a(148),a(49)),f=a(5),d=a.n(f),p=a(78),g=a.n(p),E=a(24),v=a.n(E),h=(a(294),a(106)),y=a(50),O=a.n(y),j=a(0),w=a.n(j),k=a(218),x="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/form/index.jsx";function C(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,l)}return a}function I(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?C(Object(a),!0).forEach((function(r){d()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}var q=h.a.Item,S={labelCol:{span:7},wrapperCol:{span:17}},P={wrapperCol:{span:17,offset:7}};r.default=function(e){var r,a,t,f,d=e.labelData,p=e.clickItem,E=e.modalType,y=e.closeModalAndRequest,C=Object(j.useRef)(),T=Object(j.useState)(null),D=v()(T,2),R=(D[0],D[1]),A=Object(j.useState)(!1),F=v()(A,2),U=F[0],z=F[1],M=Object(j.useState)("default"),L=v()(M,2),G=L[0],J=(L[1],Object(j.useState)([])),H=v()(J,2),V=H[0],W=H[1],B=Object(j.useState)([]),K=v()(B,2),X=K[0],Q=K[1],Y=Object(j.useState)([]),Z=v()(Y,2),$=(Z[0],Z[1]),ee=Object(j.useState)([]),re=v()(ee,2),ae=re[0],le=re[1],te=Object(j.useState)([]),ne=v()(te,2),ue=ne[0],ce=ne[1];Object(j.useEffect)((function(){"edit"===E&&me()}),[]);var me=function(){var e=g()(O.a.mark((function e(){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,Object(k.h)({gb_code:p.gb_code});case 3:r=e.sent,a=r.data,z(!1),C.current.setFieldsValue(I(I({},a),{},{gb_cover:[{uid:"1",url:a.gb_cover,name:"20200717"}]}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){for(var e=0;e<d.length;e++){var r=d[e];"app_gb_type"===r.dict_code&&W(r),"app_gb_level"===r.dict_code&&Q(r),"app_gb_people"===r.dict_code&&$(r),"app_gb_text_tag"===r.dict_code&&le(r),"app_gb_status"===r.dict_code&&ce(r)}}),[]),w.a.createElement(l.a,{style:{width:"100%"},loading:U,__source:{fileName:x,lineNumber:94,columnNumber:5}},w.a.createElement("div",{style:{maxWidth:650},__source:{fileName:x,lineNumber:95,columnNumber:7}},w.a.createElement(h.a,n()({ref:C},S,{size:G,onSubmit:function(e){console.log(param)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:x,lineNumber:96,columnNumber:9}}),w.a.createElement(q,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:x,lineNumber:110,columnNumber:11}},w.a.createElement(_.a,{placeholder:"请填写剧本名称...",__source:{fileName:x,lineNumber:115,columnNumber:13}})),w.a.createElement(h.a.Item,{rules:[{required:!0,message:"请上传剧本封面"}],label:"剧本封面",field:"gb_cover",triggerPropName:"fileList",__source:{fileName:x,lineNumber:117,columnNumber:11}},w.a.createElement(b.a,{limit:1,listType:"picture-card",name:"gb_cover",customRequest:function(e){var r=e.onProgress,a=e.onError,l=e.onSuccess,t=e.file,n=new XMLHttpRequest;n.upload&&(n.upload.onprogress=function(e){var a;e.total>0&&(a=e.loaded/e.total*100),r(parseInt(a,10),e)}),n.onerror=function(e){a(e)},n.onload=function(){if(n.status<200||n.status>=300)return a(n.responseText);R(JSON.parse(n.responseText)),l(JSON.parse(n.responseText),n)};var u=new FormData;u.append("up_file",t),u.append("module","drama"),n.open("post","https://gbs.toptian.com/system/upload/image",!0),n.setRequestHeader("Authorization",localStorage.getItem("token")),n.send(u)},onPreview:function(e){N.a.info({title:"Preview",content:w.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:x,lineNumber:160,columnNumber:21}})})},__source:{fileName:x,lineNumber:123,columnNumber:13}})),w.a.createElement(q,{label:"剧本类型",field:"gb_type",rules:[{required:!0,message:"请填写剧本类型"}],__source:{fileName:x,lineNumber:169,columnNumber:11}},w.a.createElement(s.a,{placeholder:"请选择剧本类型",__source:{fileName:x,lineNumber:174,columnNumber:13}},null==V||null===(r=V.dict_label)||void 0===r?void 0:r.map((function(e){return w.a.createElement(s.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:177,columnNumber:19}},e.label_zh)})))),w.a.createElement(q,{label:"剧本难度",field:"gb_level",rules:[{required:!0,message:"请选中剧本难度"}],__source:{fileName:x,lineNumber:184,columnNumber:11}},w.a.createElement(s.a,{placeholder:"请选择剧本难度",__source:{fileName:x,lineNumber:189,columnNumber:13}},null==X||null===(a=X.dict_label)||void 0===a?void 0:a.map((function(e){return w.a.createElement(s.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:192,columnNumber:19}},e.label_zh)})))),w.a.createElement(q,{label:"玩家人数",field:"gb_people",rules:[{required:!0,message:"请填写玩家说明"}],__source:{fileName:x,lineNumber:199,columnNumber:11}},w.a.createElement(i.a,{placeholder:"请填写玩家说明...",__source:{fileName:x,lineNumber:204,columnNumber:13}})),w.a.createElement(q,{label:"剧本状态",field:"gb_status",rules:[{required:!1,message:"请选择剧本状态"}],__source:{fileName:x,lineNumber:206,columnNumber:11}},w.a.createElement(s.a,{placeholder:"请选择剧本状态",__source:{fileName:x,lineNumber:211,columnNumber:13}},null==ue||null===(t=ue.dict_label)||void 0===t?void 0:t.map((function(e){return w.a.createElement(s.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:214,columnNumber:19}},e.label_zh)})))),w.a.createElement(q,{label:"玩家说明",field:"gb_people_note",rules:[{required:!0,message:"请填写玩家说明"}],__source:{fileName:x,lineNumber:221,columnNumber:11}},w.a.createElement(_.a,{placeholder:"请填写玩家说明...",__source:{fileName:x,lineNumber:226,columnNumber:13}})),w.a.createElement(q,{label:"剧本标签",field:"gb_text_tag_arr",rules:[{required:!0,message:"请选择剧本标签"}],__source:{fileName:x,lineNumber:228,columnNumber:11}},w.a.createElement(s.a,{mode:"multiple",allowClear:!0,placeholder:"请选择剧本标签",__source:{fileName:x,lineNumber:233,columnNumber:13}},null==ae||null===(f=ae.dict_label)||void 0===f?void 0:f.map((function(e){return w.a.createElement(s.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:x,lineNumber:236,columnNumber:19}},e.label_zh)})))),w.a.createElement(q,{label:"剧本时长/小时",field:"gb_hour",rules:[{type:"number",required:!0}],__source:{fileName:x,lineNumber:243,columnNumber:11}},w.a.createElement(i.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:x,lineNumber:248,columnNumber:13}})),w.a.createElement(q,{label:"工作日价格",field:"gb_price",rules:[{type:"number",required:!0}],__source:{fileName:x,lineNumber:250,columnNumber:11}},w.a.createElement(i.a,{min:1,placeholder:"请输入工作日价格",__source:{fileName:x,lineNumber:255,columnNumber:13}})),w.a.createElement(q,{label:"周末价格",field:"gb_price2",rules:[{type:"number",required:!0}],__source:{fileName:x,lineNumber:257,columnNumber:11}},w.a.createElement(i.a,{min:1,placeholder:"请输入工作日价格",__source:{fileName:x,lineNumber:258,columnNumber:13}})),w.a.createElement(q,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!0,type:"number"}],__source:{fileName:x,lineNumber:260,columnNumber:11}},w.a.createElement(o.a,{allowHalf:!0,__source:{fileName:x,lineNumber:270,columnNumber:13}})),w.a.createElement(q,{label:"剧本概要",field:"gb_text_brief",rules:[{required:!0,message:"请填写剧本概要"}],__source:{fileName:x,lineNumber:272,columnNumber:11}},w.a.createElement(_.a,{placeholder:"请填写剧本概要...",__source:{fileName:x,lineNumber:277,columnNumber:13}})),w.a.createElement(q,{label:"剧本描述",field:"gb_text_content",rules:[{required:!1,message:"请填写剧本描述"}],__source:{fileName:x,lineNumber:279,columnNumber:11}},w.a.createElement(_.a,{placeholder:"请填写剧本描述...",__source:{fileName:x,lineNumber:284,columnNumber:13}})),w.a.createElement(q,{label:"上架时间",field:"gb_add_time",rules:[{required:!1,message:"gb_add_time is required"}],__source:{fileName:x,lineNumber:287,columnNumber:11}},w.a.createElement(m.a,{showTime:!0,__source:{fileName:x,lineNumber:297,columnNumber:13}})),w.a.createElement(q,{label:"是否新本",field:"is_new",rules:[{required:!1,message:"请填写版权信息"}],__source:{fileName:x,lineNumber:299,columnNumber:11}},w.a.createElement(s.a,{placeholder:"是否新本",__source:{fileName:x,lineNumber:304,columnNumber:13}},w.a.createElement(s.a.Option,{value:1,__source:{fileName:x,lineNumber:305,columnNumber:15}},"是"),w.a.createElement(s.a.Option,{value:0,__source:{fileName:x,lineNumber:306,columnNumber:15}},"否"))),w.a.createElement(q,{label:"是否热门",field:"is_hot",rules:[{required:!1,message:"请填写版权信息"}],__source:{fileName:x,lineNumber:309,columnNumber:11}},w.a.createElement(s.a,{placeholder:"是否热门",__source:{fileName:x,lineNumber:314,columnNumber:13}},w.a.createElement(s.a.Option,{value:1,__source:{fileName:x,lineNumber:315,columnNumber:15}},"是"),w.a.createElement(s.a.Option,{value:0,__source:{fileName:x,lineNumber:316,columnNumber:15}},"否"))),w.a.createElement(q,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:x,lineNumber:319,columnNumber:11}},w.a.createElement(_.a,{placeholder:"请填写版权信息...",__source:{fileName:x,lineNumber:324,columnNumber:13}})),w.a.createElement(q,{label:"备注说明",field:"gb_remarks",rules:[{required:!1,message:"请填写备注说明"}],__source:{fileName:x,lineNumber:327,columnNumber:11}},w.a.createElement(_.a,{placeholder:"请填写备注说明...",__source:{fileName:x,lineNumber:332,columnNumber:13}})),w.a.createElement(q,n()({},P,{__source:{fileName:x,lineNumber:335,columnNumber:11}}),w.a.createElement(u.a,{onClick:g()(O.a.mark((function e(){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.current){e.next=27;break}return console.log(C.current.getFields()),e.prev=2,e.next=5,C.current.validate();case 5:if(console.log(C.current.getFields()),(r=C.current.getFields()).gb_cover=r.gb_cover[0].url||r.gb_cover[0].response.data.file_url,"edit"!==E){e.next=16;break}return e.next=11,Object(k.j)(r);case 11:return 200===e.sent.code&&(c.a.success("修改成功"),y()),e.abrupt("return");case 16:return e.next=18,Object(k.b)(r);case 18:200===e.sent.code&&(c.a.success("添加成功"),y());case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0),console.log("formRef.current.getFieldsError()",C.current.getFieldsError()),c.a.error("校验失败，请检查字段！");case 27:case"end":return e.stop()}}),e,null,[[2,22]])}))),type:"primary",style:{marginRight:24},__source:{fileName:x,lineNumber:336,columnNumber:13}},"Submit"),w.a.createElement(u.a,{onClick:function(){C.current.resetFields()},__source:{fileName:x,lineNumber:376,columnNumber:13}},"Reset"))))," ")}},179:function(e,r,a){"use strict";a.r(r);a(584);var l=a(583),t=(a(574),a(582)),n=(a(148),a(49)),u=(a(575),a(581)),c=(a(576),a(579)),m=a(5),o=a.n(m),i=a(78),s=a.n(i),b=(a(150),a(79)),N=(a(77),a(28)),_=(a(152),a(60)),f=a(24),d=a.n(f),p=a(50),g=a.n(p),E=a(0),v=a.n(E),h=a(29),y=a(218),O=a(296),j=a(33),w=a(559),k=a.n(w),x=a(160),C=a(159),I=a(158),q="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/index.tsx";function S(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,l)}return a}function P(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?S(Object(a),!0).forEach((function(r){o()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}r.default=function(){var e=Object(j.a)(),r=Object(E.useState)([]),a=d()(r,2),m=a[0],o=a[1],i=Object(E.useState)({}),f=d()(i,2),p=f[0],w=f[1],S=Object(E.useState)(!1),T=d()(S,2),D=T[0],R=T[1],A=Object(E.useState)(""),F=d()(A,2),U=F[0],z=F[1],M=Object(E.useState)(!1),L=d()(M,2),G=L[0],J=L[1],H=Object(E.useState)(!1),V=d()(H,2),W=V[0],B=V[1],K=Object(E.useState)([]),X=d()(K,2),Q=X[0],Y=X[1],Z=[{title:"剧本ID",dataIndex:"gb_id"},{title:"剧本标题",dataIndex:"gb_title"},{title:"剧本类型",dataIndex:"gb_type",render:function(e){return v.a.createElement(_.a.Text,{copyable:!0,__source:{fileName:q,lineNumber:48,columnNumber:26}},e)}},{title:"剧本区域",dataIndex:"gb_area"},{title:"剧本封面",dataIndex:"gb_cover",render:function(e,r){return v.a.createElement("img",{style:{width:60,height:90},src:r.gb_cover,__source:{fileName:q,lineNumber:58,columnNumber:16}})}},{title:e["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:e["searchTable.columns.operations"],dataIndex:"operations",render:function(r,a){return v.a.createElement("div",{className:k.a.operations,__source:{fileName:q,lineNumber:73,columnNumber:9}},v.a.createElement(b.a,{__source:{fileName:q,lineNumber:74,columnNumber:11}},v.a.createElement(N.a,{onClick:function(){B(!0),w(a)},type:"primary",size:"mini",__source:{fileName:q,lineNumber:75,columnNumber:13}},"添加角色"),v.a.createElement(N.a,{onClick:function(){w(a),R(!0)},type:"primary",size:"mini",__source:{fileName:q,lineNumber:85,columnNumber:13}},"添加dm"),v.a.createElement(N.a,{onClick:function(){J(!0),w(a),z("edit")},type:"primary",size:"mini",__source:{fileName:q,lineNumber:95,columnNumber:13}},e["searchTable.columns.operations.update"])))}}],$=Object(h.c)((function(e){return e.searchTable})),ee=$.data,re=$.pagination,ae=$.loading,le=$.formParams,te=Object(h.b)();Object(E.useEffect)((function(){ce()}),[]),Object(E.useEffect)((function(){ne(),ue()}),[]);var ne=function(){var e=s()(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.l)();case 2:r=e.sent,Y(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=s()(g.a.mark((function e(){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.k)();case 2:r=e.sent,console.log("data: ",r),o(r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=Object(y.i)({page:e,page_size:r});l.then((function(e){console.log(e);var r=e.data,l=e.paginator;te({type:O.UPDATE_LIST,payload:{data:r}}),te({type:O.UPDATE_PAGINATION,payload:{pagination:P(P({},re),{},{current:l.page,pageSize:l.page_size,total:l.total_count})}}),te({type:O.UPDATE_LOADING,payload:{loading:!1}}),te({type:O.UPDATE_FORM_PARAMS,payload:{params:a}})}))}return v.a.createElement("div",{className:k.a.container,__source:{fileName:q,lineNumber:168,columnNumber:5}},v.a.createElement(c.a,{style:{width:800},unmountOnExit:!0,footer:null,title:"添加角色",visible:W,onCancel:function(){B(!1)},__source:{fileName:q,lineNumber:170,columnNumber:7}},v.a.createElement(I.default,{closeModalAndRequest:function(){B(!1)},clickItem:p,__source:{fileName:q,lineNumber:180,columnNumber:9}})),v.a.createElement(c.a,{onCancel:function(){R(!1)},visible:D,unmountOnExit:!0,footer:null,title:"添加dm",__source:{fileName:q,lineNumber:187,columnNumber:7}},v.a.createElement(C.default,{closeModalAndRequest:function(){ce(),R(!1)},dmlist:m,clickItem:p,__source:{fileName:q,lineNumber:196,columnNumber:9}})),v.a.createElement(c.a,{title:"添加剧本",footer:null,onCancel:function(){J(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:G,__source:{fileName:q,lineNumber:205,columnNumber:7}},v.a.createElement(x.default,{modalType:U,clickItem:p,closeModalAndRequest:function(){w(null),ce(),J(!1)},labelData:Q,__source:{fileName:q,lineNumber:215,columnNumber:9}})),v.a.createElement(u.a,{style:{marginBottom:20},__source:{fileName:q,lineNumber:226,columnNumber:7}},v.a.createElement(u.a.Item,{__source:{fileName:q,lineNumber:227,columnNumber:9}},"运营管理"),v.a.createElement(u.a.Item,{__source:{fileName:q,lineNumber:228,columnNumber:9}},"剧本管理")),v.a.createElement("div",{__source:{fileName:q,lineNumber:230,columnNumber:7}},v.a.createElement(t.a,{style:{marginBottom:20},__source:{fileName:q,lineNumber:231,columnNumber:9}},v.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:q,lineNumber:232,columnNumber:11}},v.a.createElement(N.a,{style:{marginRight:20},onClick:function(){z("add"),J(!0)},type:"primary",__source:{fileName:q,lineNumber:233,columnNumber:13}},"添加剧本"),v.a.createElement("div",{__source:{fileName:q,lineNumber:243,columnNumber:13}},v.a.createElement(b.a,{style:{flex:1},wrap:!0,__source:{fileName:q,lineNumber:244,columnNumber:15}},v.a.createElement(n.a,{onChange:function(){},placeholder:"请输入剧本标题",style:{width:200},__source:{fileName:q,lineNumber:245,columnNumber:17}}),v.a.createElement(n.a,{onChange:function(){},placeholder:"剧本类型",style:{width:200},__source:{fileName:q,lineNumber:250,columnNumber:17}}),v.a.createElement(n.a,{onChange:function(){},placeholder:"剧本区域",style:{width:200},__source:{fileName:q,lineNumber:251,columnNumber:17}}),v.a.createElement(n.a,{onChange:function(){},placeholder:"玩家人数",style:{width:200},__source:{fileName:q,lineNumber:252,columnNumber:17}}),v.a.createElement(n.a,{onChange:function(){},placeholder:"剧本状态",style:{width:200},__source:{fileName:q,lineNumber:253,columnNumber:17}}),v.a.createElement(N.a,{onClick:function(){},__source:{fileName:q,lineNumber:254,columnNumber:17}},"重置"),v.a.createElement(N.a,{onClick:function(){ce()},type:"primary",__source:{fileName:q,lineNumber:255,columnNumber:17}},"搜索")))))),v.a.createElement(t.a,{bordered:!1,__source:{fileName:q,lineNumber:268,columnNumber:7}},v.a.createElement(l.a,{rowKey:"gb_id",loading:ae,onChange:function(e){ce(e.current,e.pageSize,le)},pagination:re,columns:Z,data:ee,__source:{fileName:q,lineNumber:269,columnNumber:9}})))}},296:function(e,r,a){"use strict";a.r(r),a.d(r,"UPDATE_LIST",(function(){return l})),a.d(r,"UPDATE_LOADING",(function(){return t})),a.d(r,"UPDATE_PAGINATION",(function(){return n})),a.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var l="searchTable_update_list",t="searchTable_update_loading",n="searchTable_update_pagination",u="searchTable_update_formParams"},559:function(e,r,a){e.exports={container:"container-50d7a459ef",toolbar:"toolbar-603124241c",operations:"operations-1e37fde15b"}}}]);