{"version":3,"file":"68.min.js","sources":["webpack:///./src/pages/store-notice/form/index.jsx"],"sourcesContent":["import \"@arco-design/web-react/es/Button/style\";\nimport _Button from \"@arco-design/web-react/es/Button\";\nimport \"@arco-design/web-react/es/DatePicker/style\";\nimport _DatePicker from \"@arco-design/web-react/es/DatePicker\";\nimport \"@arco-design/web-react/es/Input/style\";\nimport _Input from \"@arco-design/web-react/es/Input\";\nimport \"@arco-design/web-react/es/Select/style\";\nimport _Select from \"@arco-design/web-react/es/Select\";\nimport \"@arco-design/web-react/es/Message/style\";\nimport _Message from \"@arco-design/web-react/es/Message\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"@arco-design/web-react/es/Form/style\";\nimport _Form from \"@arco-design/web-react/es/Form\";\nvar _jsxFileName = \"/Users/mrhh/Desktop/gbs-admin/src/pages/store-notice/form/index.jsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { shopList, Addnotice, Editnotice } from '../../../api/drama.js';\nvar FormItem = _Form.Item;\n\nfunction Index(_ref) {\n  var UserList = _ref.UserList,\n      clickItem = _ref.clickItem,\n      closeModalAndReqNewTableData = _ref.closeModalAndReqNewTableData;\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      shopListOption = _useState2[0],\n      setshopListOption = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      shopListLoading = _useState4[0],\n      setshopListLoading = _useState4[1];\n\n  var getShopList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$shopList, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return shopList();\n\n            case 2:\n              _yield$shopList = _context.sent;\n              data = _yield$shopList.data;\n              setshopListLoading(false);\n              setshopListOption(data);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getShopList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getShopList();\n  }, []);\n\n  var editForm = function editForm() {\n    form.setFieldsValue(clickItem);\n  };\n\n  useEffect(function () {\n    if (clickItem) {\n      console.log('clickItem', clickItem);\n      editForm();\n    }\n  }, []);\n  useEffect(function () {\n    if (localStorage.getItem('nowshop')) {\n      form.setFieldsValue({\n        store_code: localStorage.getItem('nowshop')\n      });\n    }\n  }, []); // form.setFieldsValue(clickItem);\n  // console.log('clickItem', clickItem);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Form, {\n    onSubmit: function onSubmit(v) {\n      _Message.success('success');\n    },\n    form: form,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormItem, {\n    rules: [{\n      required: true,\n      message: '请选择公告类型'\n    }],\n    field: \"notice_type\",\n    label: \"\\u516C\\u544A\\u7C7B\\u578B\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u516C\\u544A\\u7C7B\\u578B\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"notice_system\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"\\u7CFB\\u7EDF\\u516C\\u544A\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"notice_store\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"\\u5E97\\u94FA\\u516C\\u544A\"))), /*#__PURE__*/React.createElement(FormItem, {\n    rules: [{\n      required: true,\n      message: '请输入公告标题'\n    }],\n    field: \"notice_title\",\n    label: \"\\u516C\\u544A\\u6807\\u9898\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u516C\\u544A\\u6807\\u9898\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormItem, {\n    rules: [{\n      required: true,\n      message: '请输入公告内容'\n    }],\n    field: \"notice_content\",\n    label: \"\\u516C\\u544A\\u5185\\u5BB9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Input.TextArea, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u516C\\u544A\\u5185\\u5BB9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormItem, {\n    rules: [{\n      required: true,\n      message: '请选择是否显示'\n    }],\n    field: \"is_display\",\n    label: \"\\u662F\\u5426\\u663E\\u793A\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"\\u663E\\u793A\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"\\u4E0D\\u663E\\u793A\"))), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u9009\\u62E9\\u5E97\\u94FA\",\n    field: \"store_code\",\n    rules: [{\n      required: false,\n      message: '请填写店铺编码'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    loading: shopListLoading,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u5E97\\u94FA\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, shopListOption === null || shopListOption === void 0 ? void 0 : shopListOption.map(function (item) {\n    return /*#__PURE__*/React.createElement(_Select.Option, {\n      key: item.store_code,\n      value: item.store_code,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, item.store_name);\n  }))), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u53D1\\u5E03\\u65F6\\u95F4\",\n    field: \"notice_date\",\n    rules: [{\n      required: true,\n      message: 'notice_date is required'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_DatePicker, {\n    showTime: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormItem, {\n    wrapperCol: {\n      offset: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var param, _data, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              param = form.getFields();\n\n              if (!clickItem) {\n                _context2.next = 8;\n                break;\n              }\n\n              param.notice_id = clickItem.notice_id;\n              _context2.next = 5;\n              return Editnotice(param);\n\n            case 5:\n              _data = _context2.sent;\n\n              if (_data.code === 200) {\n                closeModalAndReqNewTableData();\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 8:\n              _context2.next = 10;\n              return Addnotice(param);\n\n            case 10:\n              data = _context2.sent;\n\n              if (data.code === 200) {\n                closeModalAndReqNewTableData();\n              }\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })),\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, \"Submit\"))));\n}\n\nexport default Index;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}