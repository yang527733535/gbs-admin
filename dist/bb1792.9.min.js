(window.webpackJsonp=window.webpackJsonp||[]).push([[9,16,34,56],{156:function(e,r,t){"use strict";t.r(r);t(149);var n=t(58),a=t(77),l=t.n(a),u=t(7),c=t.n(u),o=(t(150),t(78)),i=(t(76),t(27)),m=t(546),s=(t(203),t(89)),b=(t(275),t(204)),f=(t(148),t(48)),d=t(23),N=t.n(d),_=(t(274),t(106)),p=t(49),g=t.n(p),h=t(0),E=t.n(h),O=t(539),y="/Users/mrhh/Desktop/gbs-admin/src/pages/car-table/form/index.jsx",v=_.a.Item,j={labelCol:{span:7},wrapperCol:{span:17}},w={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.closeModalAndReqTable,t=e.clickItem,a=Object(h.useRef)(),u=Object(h.useState)("default"),d=N()(u,2),p=d[0],P=(d[1],Object(h.useState)([])),k=N()(P,2),T=(k[0],k[1]);return console.log(t),Object(h.useEffect)((function(){a.current.setFieldsValue(t)}),[]),Object(h.useEffect)((function(){Object(O.g)().then((function(e){console.log("res: ",e);var r,t=e.data;r=t.map((function(e){return function e(r){var t=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:t?r.region_children.map((function(r){return e(r)})):[]}}(e)})),console.log(r),T(r)}))}),[]),E.a.createElement("div",{style:{maxWidth:650},__source:{fileName:y,lineNumber:76,columnNumber:5}},E.a.createElement(_.a,c()({ref:a},j,{size:p,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:y,lineNumber:77,columnNumber:7}}),E.a.createElement(v,{label:"店铺编码",field:"store_code",rules:[{required:!0,message:"请填写店铺编码"}],__source:{fileName:y,lineNumber:91,columnNumber:9}},E.a.createElement(f.a,{placeholder:"请填写店铺编码...",__source:{fileName:y,lineNumber:96,columnNumber:11}})),E.a.createElement(v,{label:"剧本编码",field:"gb_code",rules:[{required:!0,message:"请填写剧本编码"}],__source:{fileName:y,lineNumber:98,columnNumber:9}},E.a.createElement(f.a,{placeholder:"请填写剧本编码...",__source:{fileName:y,lineNumber:103,columnNumber:11}})),E.a.createElement(v,{label:"剧本价格",field:"gb_price",rules:[{required:!0,message:"请填写剧本价格"}],__source:{fileName:y,lineNumber:105,columnNumber:9}},E.a.createElement(b.a,{min:0,placeholder:"请填写剧本价格...",__source:{fileName:y,lineNumber:110,columnNumber:11}})),E.a.createElement(v,{label:"玩家人数",field:"game_people",rules:[{required:!0,message:"请填写玩家人数"}],__source:{fileName:y,lineNumber:112,columnNumber:9}},E.a.createElement(b.a,{min:2,placeholder:"请填写玩家人数...",__source:{fileName:y,lineNumber:117,columnNumber:11}})),E.a.createElement(v,{label:"主持人",field:"dm_user",rules:[{required:!0,message:"请填写主持人"}],__source:{fileName:y,lineNumber:119,columnNumber:9}},E.a.createElement(f.a,{min:2,placeholder:"请填写主持人...",__source:{fileName:y,lineNumber:124,columnNumber:11}})),E.a.createElement(_.a.List,{field:"game_player",__source:{fileName:y,lineNumber:127,columnNumber:9}},(function(e,r){var t=r.add,n=r.remove;r.move;return E.a.createElement("div",{__source:{fileName:y,lineNumber:130,columnNumber:15}},e.map((function(e,r){return E.a.createElement("div",{key:e.key,__source:{fileName:y,lineNumber:133,columnNumber:21}},E.a.createElement(_.a.Item,{label:"玩家"+(1+r),__source:{fileName:y,lineNumber:134,columnNumber:23}},E.a.createElement(o.a,{__source:{fileName:y,lineNumber:135,columnNumber:25}},E.a.createElement(_.a.Item,{field:e.field+".player_user",rules:[{required:!0}],noStyle:!0,__source:{fileName:y,lineNumber:136,columnNumber:27}},E.a.createElement(f.a,{placeholder:"玩家账号",__source:{fileName:y,lineNumber:141,columnNumber:29}})),E.a.createElement(_.a.Item,{field:e.field+".player_type",rules:[{required:!0}],noStyle:!0,__source:{fileName:y,lineNumber:143,columnNumber:27}},E.a.createElement(s.a,{placeholder:"玩家类型",__source:{fileName:y,lineNumber:148,columnNumber:29}},E.a.createElement(s.a.Option,{value:"player",__source:{fileName:y,lineNumber:149,columnNumber:31}},"player"),E.a.createElement(s.a.Option,{value:"worker",__source:{fileName:y,lineNumber:150,columnNumber:31}},"worker"))),E.a.createElement(_.a.Item,{field:e.field+".player_name",rules:[{required:!0}],noStyle:!0,__source:{fileName:y,lineNumber:154,columnNumber:27}},E.a.createElement(f.a,{placeholder:"玩家名称",__source:{fileName:y,lineNumber:159,columnNumber:29}})),E.a.createElement(_.a.Item,{field:e.field+".player_note",rules:[{required:!0}],noStyle:!0,__source:{fileName:y,lineNumber:161,columnNumber:27}},E.a.createElement(f.a,{placeholder:"玩家备注",__source:{fileName:y,lineNumber:166,columnNumber:29}})),E.a.createElement(i.a,{icon:E.a.createElement(m.a,{__source:{fileName:y,lineNumber:169,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return n(r)},__source:{fileName:y,lineNumber:168,columnNumber:27}}))))})),E.a.createElement(_.a.Item,c()({},w,{__source:{fileName:y,lineNumber:179,columnNumber:17}}),E.a.createElement(i.a,{onClick:function(){t()},__source:{fileName:y,lineNumber:180,columnNumber:19}},"添加玩家")))})),E.a.createElement(v,c()({},w,{__source:{fileName:y,lineNumber:206,columnNumber:9}}),E.a.createElement(i.a,{onClick:l()(g.a.mark((function e(){var l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=26;break}return e.prev=1,e.next=4,a.current.validate();case 4:if(null!==t){e.next=11;break}return console.log(a.current.getFields()),e.next=8,Object(O.b)(a.current.getFields());case 8:l=e.sent,e.next=17;break;case 11:return u=a.current.getFields(),console.log("param: ",u),u.store_code=t.store_code,e.next=16,Object(O.i)(u);case 16:l=e.sent;case 17:console.log("data: ",l),200===l.code&&(n.a.success("添加成功"),r()),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),console.log(a.current.getFieldsError()),n.a.error("校验失败，请检查字段！");case 26:case"end":return e.stop()}}),e,null,[[1,21]])}))),type:"primary",style:{marginRight:24},__source:{fileName:y,lineNumber:207,columnNumber:11}},"提交"),E.a.createElement(i.a,{onClick:function(){a.current.resetFields()},__source:{fileName:y,lineNumber:239,columnNumber:11}},"重置"))))}},167:function(e,r,t){"use strict";t.r(r);t(553);var n=t(552),a=(t(540),t(541)),l=(t(150),t(78)),u=(t(148),t(48)),c=(t(542),t(545)),o=(t(543),t(544)),i=t(5),m=t.n(i),s=(t(76),t(27)),b=t(23),f=t.n(b),d=t(549),N=t.n(d),_=t(0),p=t.n(_),g=t(31),h=t(539),E=t(276),O=t(32),y=t(530),v=t.n(y),j=t(156),w="/Users/mrhh/Desktop/gbs-admin/src/pages/car-table/index.tsx";function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){m()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.default=function(e){N()(e);var r=Object(O.a)(),t=Object(_.useState)(!1),i=f()(t,2),m=i[0],b=i[1],d=Object(_.useState)(""),y=f()(d,2),P=y[0],T=y[1],x=Object(_.useState)(""),S=f()(x,2),I=S[0],C=S[1],A=Object(_.useState)(""),D=f()(A,2),q=D[0],U=D[1],F=Object(_.useState)(""),M=f()(F,2),R=M[0],z=M[1],L=Object(_.useState)(""),G=f()(L,2),V=G[0],B=G[1],H=Object(_.useState)(null),W=f()(H,2),J=W[0],K=W[1],Q=[{title:"店铺名称",dataIndex:"store_name"},{title:"店铺地址",dataIndex:"position_address"},{title:r["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:r["searchTable.columns.operations"],render:function(e,t){return p.a.createElement(s.a,{onClick:function(){console.log(e,t),K(t),b(!0)},size:"small",__source:{fileName:w,lineNumber:46,columnNumber:9}},r["searchTable.columns.operations.update"])}}],X=Object(g.c)((function(e){return e.searchTable})),Y=X.data,Z=X.pagination,$=X.loading,ee=X.formParams,re=Object(g.b)();function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object(h.h)({page:e,page_size:r,store_name:P,store_type:I,store_status:q,store_level:R,position_city:V});n.then((function(e){var r=e.data,n=e.paginator;re({type:E.UPDATE_LIST,payload:{data:r}}),re({type:E.UPDATE_PAGINATION,payload:{pagination:k(k({},Z),{},{current:n.page,pageSize:n.page_size,total:n.total_count})}}),re({type:E.UPDATE_LOADING,payload:{loading:!1}}),re({type:E.UPDATE_FORM_PARAMS,payload:{params:t}})}))}return Object(_.useEffect)((function(){te()}),[]),Object(_.useEffect)((function(){var e=Object(h.e)();console.log("data: ",e)}),[]),p.a.createElement("div",{className:v.a.container,__source:{fileName:w,lineNumber:136,columnNumber:5}},p.a.createElement(o.a,{title:null===J?"添加组局":"修改组局",footer:null,onCancel:function(){b(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:m,__source:{fileName:w,lineNumber:137,columnNumber:7}},p.a.createElement(j.default,{clickItem:J,closeModalAndReqTable:function(){b(!1),te()},__source:{fileName:w,lineNumber:147,columnNumber:9}})),p.a.createElement(c.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:155,columnNumber:7}},p.a.createElement(c.a.Item,{__source:{fileName:w,lineNumber:156,columnNumber:9}},r["menu.list"]),p.a.createElement(c.a.Item,{__source:{fileName:w,lineNumber:157,columnNumber:9}},r["menu.list.searchTable"])),p.a.createElement("div",{__source:{fileName:w,lineNumber:159,columnNumber:7}},p.a.createElement(a.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:160,columnNumber:9}},p.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:w,lineNumber:161,columnNumber:11}},p.a.createElement(s.a,{onClick:function(){b(!0),K(null)},type:"primary",__source:{fileName:w,lineNumber:162,columnNumber:13}},"添加组局"),p.a.createElement("div",{__source:{fileName:w,lineNumber:172,columnNumber:13}},p.a.createElement(l.a,{style:{marginLeft:20},wrap:!0,__source:{fileName:w,lineNumber:173,columnNumber:15}},p.a.createElement(u.a,{value:P,onChange:function(e){T(e)},placeholder:"请输入店铺名称",style:{width:200},__source:{fileName:w,lineNumber:174,columnNumber:17}}),p.a.createElement(u.a,{value:I,onChange:function(e){C(e)},placeholder:"请选择门店类型",style:{width:200},__source:{fileName:w,lineNumber:182,columnNumber:17}}),p.a.createElement(u.a,{value:q,onChange:function(e){U(e)},placeholder:"请选择门店状态",style:{width:200},__source:{fileName:w,lineNumber:190,columnNumber:17}}),p.a.createElement(u.a,{onChange:function(e){z(e)},placeholder:"门店等级",value:R,style:{width:200},__source:{fileName:w,lineNumber:198,columnNumber:17}}),p.a.createElement(u.a,{onChange:function(e){B(e)},value:V,placeholder:"所在城市",style:{width:200},__source:{fileName:w,lineNumber:206,columnNumber:17}}),p.a.createElement(s.a,{onClick:function(){T(""),C(""),U(""),z(""),B("")},__source:{fileName:w,lineNumber:214,columnNumber:17}},"重置"),p.a.createElement(s.a,{onClick:function(){te()},type:"primary",__source:{fileName:w,lineNumber:225,columnNumber:17}},"搜索")))))),p.a.createElement(a.a,{bordered:!1,__source:{fileName:w,lineNumber:238,columnNumber:7}},p.a.createElement(n.a,{rowKey:"user_account",loading:$,onChange:function(e){te(e.current,e.pageSize,ee)},pagination:Z,columns:Q,data:Y,__source:{fileName:w,lineNumber:239,columnNumber:9}})))}},276:function(e,r,t){"use strict";t.r(r),t.d(r,"UPDATE_LIST",(function(){return n})),t.d(r,"UPDATE_LOADING",(function(){return a})),t.d(r,"UPDATE_PAGINATION",(function(){return l})),t.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var n="searchTable_update_list",a="searchTable_update_loading",l="searchTable_update_pagination",u="searchTable_update_formParams"},530:function(e,r,t){e.exports={container:"container-62c4415f00",toolbar:"toolbar-82c1b92d67",operations:"operations-61ba76e148"}},539:function(e,r,t){"use strict";t.d(r,"e",(function(){return a})),t.d(r,"d",(function(){return l})),t.d(r,"h",(function(){return u})),t.d(r,"f",(function(){return c})),t.d(r,"a",(function(){return o})),t.d(r,"c",(function(){return i})),t.d(r,"b",(function(){return m})),t.d(r,"i",(function(){return s})),t.d(r,"g",(function(){return b}));var n=t(88);function a(e){return Object(n.a)({url:"/system/dict/labels",method:"POST"})}function l(e){return Object(n.a)({url:"/v1/drama/list",data:e})}function u(e){return Object(n.a)({url:"/v1/store/list",data:e,method:"post"})}function c(e){return Object(n.a)({url:"/system/menu/list",data:e,method:"post"})}function o(e){return Object(n.a)({url:"/v1/drama/add",data:e})}function i(e){return Object(n.a)({url:"/v1/store/add",data:e})}function m(e){return Object(n.a)({url:"/v1/game/added",data:e})}function s(e){return Object(n.a)({url:"/v1/store/edit",data:e})}function b(){return Object(n.a)({url:"/system/basic/regions",method:"GET"})}},546:function(e,r,t){"use strict";var n=t(7),a=t.n(n),l=t(5),u=t.n(l),c=t(0),o=t.n(c),i=t(8);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){u()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function b(e,r){var t=Object(c.useContext)(i.a).prefixCls,n=e.spin,l=e.className,u=s(s({ref:r},e),{},{className:"".concat(l?l+" ":"").concat(t,"-icon ").concat(t,"-icon-delete")});return n&&(u.className="".concat(u.className," ").concat(t,"-icon-loading")),delete u.spin,delete u.isIcon,o.a.createElement("svg",a()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},u),o.a.createElement("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"}))}var f=o.a.forwardRef(b);f.defaultProps={isIcon:!0},f.displayName="IconDelete",r.a=f},549:function(e,r){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.exports.default=e.exports,e.exports.__esModule=!0}}]);