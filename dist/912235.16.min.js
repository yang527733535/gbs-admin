(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{156:function(e,r,n){"use strict";n.r(r);n(149);var t=n(58),a=n(77),l=n.n(a),u=n(7),c=n.n(u),o=(n(150),n(78)),m=(n(76),n(27)),i=n(546),s=(n(203),n(89)),b=(n(275),n(204)),f=(n(148),n(48)),d=n(23),N=n.n(d),_=(n(274),n(106)),p=n(49),g=n.n(p),h=n(0),E=n.n(h),v=n(539),O="/Users/mrhh/Desktop/gbs-admin/src/pages/car-table/form/index.jsx",y=_.a.Item,j={labelCol:{span:7},wrapperCol:{span:17}},k={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.closeModalAndReqTable,n=e.clickItem,a=Object(h.useRef)(),u=Object(h.useState)("default"),d=N()(u,2),p=d[0],w=(d[1],Object(h.useState)([])),x=N()(w,2),C=(x[0],x[1]);return console.log(n),Object(h.useEffect)((function(){a.current.setFieldsValue(n)}),[]),Object(h.useEffect)((function(){Object(v.g)().then((function(e){console.log("res: ",e);var r,n=e.data;r=n.map((function(e){return function e(r){var n=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:n?r.region_children.map((function(r){return e(r)})):[]}}(e)})),console.log(r),C(r)}))}),[]),E.a.createElement("div",{style:{maxWidth:650},__source:{fileName:O,lineNumber:76,columnNumber:5}},E.a.createElement(_.a,c()({ref:a},j,{size:p,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:O,lineNumber:77,columnNumber:7}}),E.a.createElement(y,{label:"店铺编码",field:"store_code",rules:[{required:!0,message:"请填写店铺编码"}],__source:{fileName:O,lineNumber:91,columnNumber:9}},E.a.createElement(f.a,{placeholder:"请填写店铺编码...",__source:{fileName:O,lineNumber:96,columnNumber:11}})),E.a.createElement(y,{label:"剧本编码",field:"gb_code",rules:[{required:!0,message:"请填写剧本编码"}],__source:{fileName:O,lineNumber:98,columnNumber:9}},E.a.createElement(f.a,{placeholder:"请填写剧本编码...",__source:{fileName:O,lineNumber:103,columnNumber:11}})),E.a.createElement(y,{label:"剧本价格",field:"gb_price",rules:[{required:!0,message:"请填写剧本价格"}],__source:{fileName:O,lineNumber:105,columnNumber:9}},E.a.createElement(b.a,{min:0,placeholder:"请填写剧本价格...",__source:{fileName:O,lineNumber:110,columnNumber:11}})),E.a.createElement(y,{label:"玩家人数",field:"game_people",rules:[{required:!0,message:"请填写玩家人数"}],__source:{fileName:O,lineNumber:112,columnNumber:9}},E.a.createElement(b.a,{min:2,placeholder:"请填写玩家人数...",__source:{fileName:O,lineNumber:117,columnNumber:11}})),E.a.createElement(y,{label:"主持人",field:"dm_user",rules:[{required:!0,message:"请填写主持人"}],__source:{fileName:O,lineNumber:119,columnNumber:9}},E.a.createElement(f.a,{min:2,placeholder:"请填写主持人...",__source:{fileName:O,lineNumber:124,columnNumber:11}})),E.a.createElement(_.a.List,{field:"game_player",__source:{fileName:O,lineNumber:127,columnNumber:9}},(function(e,r){var n=r.add,t=r.remove;r.move;return E.a.createElement("div",{__source:{fileName:O,lineNumber:130,columnNumber:15}},e.map((function(e,r){return E.a.createElement("div",{key:e.key,__source:{fileName:O,lineNumber:133,columnNumber:21}},E.a.createElement(_.a.Item,{label:"玩家"+(1+r),__source:{fileName:O,lineNumber:134,columnNumber:23}},E.a.createElement(o.a,{__source:{fileName:O,lineNumber:135,columnNumber:25}},E.a.createElement(_.a.Item,{field:e.field+".player_user",rules:[{required:!0}],noStyle:!0,__source:{fileName:O,lineNumber:136,columnNumber:27}},E.a.createElement(f.a,{placeholder:"玩家账号",__source:{fileName:O,lineNumber:141,columnNumber:29}})),E.a.createElement(_.a.Item,{field:e.field+".player_type",rules:[{required:!0}],noStyle:!0,__source:{fileName:O,lineNumber:143,columnNumber:27}},E.a.createElement(s.a,{placeholder:"玩家类型",__source:{fileName:O,lineNumber:148,columnNumber:29}},E.a.createElement(s.a.Option,{value:"player",__source:{fileName:O,lineNumber:149,columnNumber:31}},"player"),E.a.createElement(s.a.Option,{value:"worker",__source:{fileName:O,lineNumber:150,columnNumber:31}},"worker"))),E.a.createElement(_.a.Item,{field:e.field+".player_name",rules:[{required:!0}],noStyle:!0,__source:{fileName:O,lineNumber:154,columnNumber:27}},E.a.createElement(f.a,{placeholder:"玩家名称",__source:{fileName:O,lineNumber:159,columnNumber:29}})),E.a.createElement(_.a.Item,{field:e.field+".player_note",rules:[{required:!0}],noStyle:!0,__source:{fileName:O,lineNumber:161,columnNumber:27}},E.a.createElement(f.a,{placeholder:"玩家备注",__source:{fileName:O,lineNumber:166,columnNumber:29}})),E.a.createElement(m.a,{icon:E.a.createElement(i.a,{__source:{fileName:O,lineNumber:169,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return t(r)},__source:{fileName:O,lineNumber:168,columnNumber:27}}))))})),E.a.createElement(_.a.Item,c()({},k,{__source:{fileName:O,lineNumber:179,columnNumber:17}}),E.a.createElement(m.a,{onClick:function(){n()},__source:{fileName:O,lineNumber:180,columnNumber:19}},"添加玩家")))})),E.a.createElement(y,c()({},k,{__source:{fileName:O,lineNumber:206,columnNumber:9}}),E.a.createElement(m.a,{onClick:l()(g.a.mark((function e(){var l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=26;break}return e.prev=1,e.next=4,a.current.validate();case 4:if(null!==n){e.next=11;break}return console.log(a.current.getFields()),e.next=8,Object(v.b)(a.current.getFields());case 8:l=e.sent,e.next=17;break;case 11:return u=a.current.getFields(),console.log("param: ",u),u.store_code=n.store_code,e.next=16,Object(v.i)(u);case 16:l=e.sent;case 17:console.log("data: ",l),200===l.code&&(t.a.success("添加成功"),r()),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),console.log(a.current.getFieldsError()),t.a.error("校验失败，请检查字段！");case 26:case"end":return e.stop()}}),e,null,[[1,21]])}))),type:"primary",style:{marginRight:24},__source:{fileName:O,lineNumber:207,columnNumber:11}},"提交"),E.a.createElement(m.a,{onClick:function(){a.current.resetFields()},__source:{fileName:O,lineNumber:239,columnNumber:11}},"重置"))))}},539:function(e,r,n){"use strict";n.d(r,"e",(function(){return a})),n.d(r,"d",(function(){return l})),n.d(r,"h",(function(){return u})),n.d(r,"f",(function(){return c})),n.d(r,"a",(function(){return o})),n.d(r,"c",(function(){return m})),n.d(r,"b",(function(){return i})),n.d(r,"i",(function(){return s})),n.d(r,"g",(function(){return b}));var t=n(88);function a(e){return Object(t.a)({url:"/system/dict/labels",method:"POST"})}function l(e){return Object(t.a)({url:"/v1/drama/list",data:e})}function u(e){return Object(t.a)({url:"/v1/store/list",data:e,method:"post"})}function c(e){return Object(t.a)({url:"/system/menu/list",data:e,method:"post"})}function o(e){return Object(t.a)({url:"/v1/drama/add",data:e})}function m(e){return Object(t.a)({url:"/v1/store/add",data:e})}function i(e){return Object(t.a)({url:"/v1/game/added",data:e})}function s(e){return Object(t.a)({url:"/v1/store/edit",data:e})}function b(){return Object(t.a)({url:"/system/basic/regions",method:"GET"})}},546:function(e,r,n){"use strict";var t=n(7),a=n.n(t),l=n(5),u=n.n(l),c=n(0),o=n.n(c),m=n(8);function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){u()(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function b(e,r){var n=Object(c.useContext)(m.a).prefixCls,t=e.spin,l=e.className,u=s(s({ref:r},e),{},{className:"".concat(l?l+" ":"").concat(n,"-icon ").concat(n,"-icon-delete")});return t&&(u.className="".concat(u.className," ").concat(n,"-icon-loading")),delete u.spin,delete u.isIcon,o.a.createElement("svg",a()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},u),o.a.createElement("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"}))}var f=o.a.forwardRef(b);f.defaultProps={isIcon:!0},f.displayName="IconDelete",r.a=f}}]);