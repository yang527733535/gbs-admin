(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{177:function(e,r,l){"use strict";l.r(r);l(148);var n=l(52),a=l(78),t=l.n(a),c=l(5),u=l.n(c),m=(l(150),l(79)),o=(l(77),l(30)),i=l(612),s=(l(229),l(89)),b=(l(311),l(233)),N=(l(149),l(53)),f=l(24),_=l.n(f),d=(l(310),l(104)),p=l(51),g=l.n(p),E=l(0),h=l.n(E),y=l(228),v="/Users/mrhh/Desktop/gbs-admin/src/pages/store-game/form/index.jsx",O=d.a.Item,j={labelCol:{span:7},wrapperCol:{span:17}},k={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.closeModalAndReqTable,l=e.clickItem,a=Object(E.useRef)(),c=Object(E.useState)("default"),f=_()(c,2),p=f[0],w=(f[1],Object(E.useState)([])),x=_()(w,2),C=(x[0],x[1]);return console.log(l),Object(E.useEffect)((function(){a.current.setFieldsValue(l)}),[]),Object(E.useEffect)((function(){Object(y.r)().then((function(e){console.log("res: ",e);var r,l=e.data;r=l.map((function(e){return function e(r){var l=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:l?r.region_children.map((function(r){return e(r)})):[]}}(e)})),console.log(r),C(r)}))}),[]),h.a.createElement("div",{style:{maxWidth:650},__source:{fileName:v,lineNumber:77,columnNumber:5}},h.a.createElement(d.a,u()({ref:a},j,{size:p,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:v,lineNumber:78,columnNumber:7}}),h.a.createElement(O,{label:"店铺编码",field:"store_code",rules:[{required:!0,message:"请填写店铺编码"}],__source:{fileName:v,lineNumber:92,columnNumber:9}},h.a.createElement(N.a,{placeholder:"请填写店铺编码...",__source:{fileName:v,lineNumber:97,columnNumber:11}})),h.a.createElement(O,{label:"剧本编码",field:"gb_code",rules:[{required:!0,message:"请填写剧本编码"}],__source:{fileName:v,lineNumber:99,columnNumber:9}},h.a.createElement(N.a,{placeholder:"请填写剧本编码...",__source:{fileName:v,lineNumber:104,columnNumber:11}})),h.a.createElement(O,{label:"剧本价格",field:"gb_price",rules:[{required:!0,message:"请填写剧本价格"}],__source:{fileName:v,lineNumber:106,columnNumber:9}},h.a.createElement(b.a,{min:0,placeholder:"请填写剧本价格...",__source:{fileName:v,lineNumber:111,columnNumber:11}})),h.a.createElement(O,{label:"玩家人数",field:"game_people",rules:[{required:!0,message:"请填写玩家人数"}],__source:{fileName:v,lineNumber:113,columnNumber:9}},h.a.createElement(b.a,{min:2,placeholder:"请填写玩家人数...",__source:{fileName:v,lineNumber:118,columnNumber:11}})),h.a.createElement(O,{label:"主持人",field:"dm_user",rules:[{required:!0,message:"请填写主持人"}],__source:{fileName:v,lineNumber:120,columnNumber:9}},h.a.createElement(N.a,{min:2,placeholder:"请填写主持人...",__source:{fileName:v,lineNumber:125,columnNumber:11}})),h.a.createElement(d.a.List,{field:"game_player",__source:{fileName:v,lineNumber:128,columnNumber:9}},(function(e,r){var l=r.add,n=r.remove;r.move;return h.a.createElement("div",{__source:{fileName:v,lineNumber:131,columnNumber:15}},e.map((function(e,r){return h.a.createElement("div",{key:e.key,__source:{fileName:v,lineNumber:134,columnNumber:21}},h.a.createElement(d.a.Item,{label:"玩家".concat(1+r),__source:{fileName:v,lineNumber:135,columnNumber:23}},h.a.createElement(m.a,{__source:{fileName:v,lineNumber:136,columnNumber:25}},h.a.createElement(d.a.Item,{field:"".concat(e.field,".player_user"),rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:137,columnNumber:27}},h.a.createElement(N.a,{placeholder:"玩家账号",__source:{fileName:v,lineNumber:142,columnNumber:29}})),h.a.createElement(d.a.Item,{field:"".concat(e.field,".player_type"),rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:144,columnNumber:27}},h.a.createElement(s.a,{placeholder:"玩家类型",__source:{fileName:v,lineNumber:149,columnNumber:29}},h.a.createElement(s.a.Option,{value:"player",__source:{fileName:v,lineNumber:150,columnNumber:31}},"player"),h.a.createElement(s.a.Option,{value:"worker",__source:{fileName:v,lineNumber:151,columnNumber:31}},"worker"))),h.a.createElement(d.a.Item,{field:"".concat(e.field,".player_name"),rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:155,columnNumber:27}},h.a.createElement(N.a,{placeholder:"玩家名称",__source:{fileName:v,lineNumber:160,columnNumber:29}})),h.a.createElement(d.a.Item,{field:"".concat(e.field,".player_note"),rules:[{required:!0}],noStyle:!0,__source:{fileName:v,lineNumber:162,columnNumber:27}},h.a.createElement(N.a,{placeholder:"玩家备注",__source:{fileName:v,lineNumber:167,columnNumber:29}})),h.a.createElement(o.a,{icon:h.a.createElement(i.a,{__source:{fileName:v,lineNumber:170,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return n(r)},__source:{fileName:v,lineNumber:169,columnNumber:27}}))))})),h.a.createElement(d.a.Item,u()({},k,{__source:{fileName:v,lineNumber:180,columnNumber:17}}),h.a.createElement(o.a,{onClick:function(){l()},__source:{fileName:v,lineNumber:181,columnNumber:19}},"添加玩家")))})),h.a.createElement(O,u()({},k,{__source:{fileName:v,lineNumber:207,columnNumber:9}}),h.a.createElement(o.a,{onClick:t()(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=25;break}return e.prev=1,e.next=4,a.current.validate();case 4:if(null!==l){e.next=11;break}return console.log(a.current.getFields()),e.next=8,Object(y.e)(a.current.getFields());case 8:t=e.sent,e.next=17;break;case 11:return c=a.current.getFields(),console.log("param: ",c),c.store_code=l.store_code,e.next=16,Object(y.A)(c);case 16:t=e.sent;case 17:200===t.code&&(n.a.success("添加成功"),r()),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0),console.log(a.current.getFieldsError()),n.a.error("校验失败，请检查字段！");case 25:case"end":return e.stop()}}),e,null,[[1,20]])}))),type:"primary",style:{marginRight:24},__source:{fileName:v,lineNumber:208,columnNumber:11}},"提交"),h.a.createElement(o.a,{onClick:function(){a.current.resetFields()},__source:{fileName:v,lineNumber:239,columnNumber:11}},"重置"))))}},612:function(e,r,l){"use strict";var n=l(5),a=l.n(n),t=l(4),c=l.n(t),u=l(0),m=l.n(u),o=l(6);function i(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,n)}return l}function s(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?i(Object(l),!0).forEach((function(r){c()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}function b(e,r){var l=Object(u.useContext)(o.a).prefixCls,n=e.spin,t=e.className,c=s(s({ref:r},e),{},{className:"".concat(t?t+" ":"").concat(l,"-icon ").concat(l,"-icon-delete")});return n&&(c.className="".concat(c.className," ").concat(l,"-icon-loading")),delete c.spin,delete c.isIcon,m.a.createElement("svg",a()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},c),m.a.createElement("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"}))}var N=m.a.forwardRef(b);N.defaultProps={isIcon:!0},N.displayName="IconDelete",r.a=N}}]);