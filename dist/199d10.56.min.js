(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{190:function(e,r,a){"use strict";a.r(r);a(65);var t=a(24),n=(a(675),a(674)),l=(a(113),a(40)),u=(a(248),a(96)),c=(a(112),a(45)),m=a(56),o=a.n(m),i=a(22),s=a.n(i),N=(a(247),a(73)),b=a(35),_=a.n(b),f=a(0),d=a.n(f),p=a(111),E="/Users/mrhh/Desktop/gbs-admin/src/pages/store-notice/form/index.jsx",g=N.a.Item;r.default=function(e){e.UserList;var r=e.clickItem,a=e.closeModalAndReqNewTableData,m=N.a.useForm(),i=s()(m,1)[0],b=Object(f.useState)([]),w=s()(b,2),v=w[0],h=w[1],O=Object(f.useState)(!0),k=s()(O,2),j=k[0],x=k[1],q=function(){var e=o()(_.a.mark((function e(){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.N)();case 2:r=e.sent,a=r.data,x(!1),h(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){q()}),[]),Object(f.useEffect)((function(){r&&(console.log("clickItem",r),i.setFieldsValue(r))}),[]),Object(f.useEffect)((function(){localStorage.getItem("nowshop")&&i.setFieldsValue({store_code:localStorage.getItem("nowshop")})}),[]),d.a.createElement("div",{__source:{fileName:E,lineNumber:38,columnNumber:5}},d.a.createElement(N.a,{onSubmit:function(e){c.a.success("success")},form:i,__source:{fileName:E,lineNumber:39,columnNumber:7}},d.a.createElement(g,{rules:[{required:!0,message:"请选择公告类型"}],field:"notice_type",label:"公告类型",__source:{fileName:E,lineNumber:45,columnNumber:9}},d.a.createElement(u.a,{placeholder:"请选择公告类型",__source:{fileName:E,lineNumber:50,columnNumber:11}},d.a.createElement(u.a.Option,{value:"notice_system",__source:{fileName:E,lineNumber:51,columnNumber:13}},"系统公告"),d.a.createElement(u.a.Option,{value:"notice_store",__source:{fileName:E,lineNumber:52,columnNumber:13}},"店铺公告"))),d.a.createElement(g,{rules:[{required:!0,message:"请输入公告标题"}],field:"notice_title",label:"公告标题",__source:{fileName:E,lineNumber:55,columnNumber:9}},d.a.createElement(l.a,{placeholder:"请输入公告标题",__source:{fileName:E,lineNumber:60,columnNumber:11}})),d.a.createElement(g,{rules:[{required:!0,message:"请输入公告内容"}],field:"notice_content",label:"公告内容",__source:{fileName:E,lineNumber:62,columnNumber:9}},d.a.createElement(l.a.TextArea,{placeholder:"请输入公告内容",__source:{fileName:E,lineNumber:67,columnNumber:11}})),d.a.createElement(g,{rules:[{required:!0,message:"请选择是否显示"}],field:"is_display",label:"是否显示",__source:{fileName:E,lineNumber:70,columnNumber:9}},d.a.createElement(u.a,{__source:{fileName:E,lineNumber:75,columnNumber:11}},d.a.createElement(u.a.Option,{value:"1",__source:{fileName:E,lineNumber:76,columnNumber:13}},"显示"),d.a.createElement(u.a.Option,{value:"0",__source:{fileName:E,lineNumber:77,columnNumber:13}},"不显示"))),d.a.createElement(g,{label:"选择店铺",field:"store_code",rules:[{required:!1,message:"请填写店铺编码"}],__source:{fileName:E,lineNumber:80,columnNumber:9}},d.a.createElement(u.a,{loading:j,placeholder:"请选择店铺",__source:{fileName:E,lineNumber:85,columnNumber:11}},null==v?void 0:v.map((function(e){return d.a.createElement(u.a.Option,{key:e.store_code,value:e.store_code,__source:{fileName:E,lineNumber:88,columnNumber:17}},e.store_name)})))),d.a.createElement(g,{label:"发布时间",field:"notice_date",rules:[{required:!0,message:"notice_date is required"}],__source:{fileName:E,lineNumber:96,columnNumber:9}},d.a.createElement(n.a,{showTime:!0,__source:{fileName:E,lineNumber:106,columnNumber:11}})),d.a.createElement(g,{wrapperCol:{offset:5},__source:{fileName:E,lineNumber:108,columnNumber:9}},d.a.createElement(t.a,{onClick:o()(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.getFields(),!r){e.next=8;break}return t.notice_id=r.notice_id,e.next=5,Object(p.e)(t);case 5:return 200===e.sent.code&&a(),e.abrupt("return");case 8:return e.next=10,Object(p.a)(t);case 10:200===e.sent.code&&a();case 12:case"end":return e.stop()}}),e)}))),type:"primary",__source:{fileName:E,lineNumber:113,columnNumber:11}},"Submit"))))}}}]);