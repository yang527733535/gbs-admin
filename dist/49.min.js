(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[49],{

/***/ "./src/pages/step-form/index.tsx":
/*!***************************************!*\
  !*** ./src/pages/step-form/index.tsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _arco_design_web_react_es_Spin_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arco-design/web-react/es/Spin/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Spin/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Spin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arco-design/web-react/es/Spin */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Spin/index.js");
/* harmony import */ var _arco_design_web_react_es_Steps_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arco-design/web-react/es/Steps/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Steps/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Steps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arco-design/web-react/es/Steps */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Steps/index.js");
/* harmony import */ var _arco_design_web_react_es_Breadcrumb_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arco-design/web-react/es/Breadcrumb/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Breadcrumb/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Breadcrumb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arco-design/web-react/es/Breadcrumb */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Breadcrumb/index.js");
/* harmony import */ var _arco_design_web_react_es_Card_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @arco-design/web-react/es/Card/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Card/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @arco-design/web-react/es/Card */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Card/index.js");
/* harmony import */ var _arco_design_web_react_es_Space_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @arco-design/web-react/es/Space/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Space/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Space__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @arco-design/web-react/es/Space */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Space/index.js");
/* harmony import */ var _arco_design_web_react_es_Button_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @arco-design/web-react/es/Button/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Button/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arco-design/web-react/es/Button */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Button/index.js");
/* harmony import */ var _arco_design_web_react_es_Message_style__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arco-design/web-react/es/Message/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Message/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Message__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @arco-design/web-react/es/Message */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Message/index.js");
/* harmony import */ var _arco_design_web_react_es_Input_style__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arco-design/web-react/es/Input/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Input/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Input__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @arco-design/web-react/es/Input */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Input/index.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/_@babel_runtime@7.16.7@@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react */ "./node_modules/_react@16.14.0@react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-redux */ "./node_modules/_react-redux@7.2.6@react-redux/es/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! axios */ "./node_modules/_axios@0.20.0@axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var _base_info__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./base-info */ "./src/pages/step-form/base-info.tsx");
/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./service */ "./src/pages/step-form/service.tsx");
/* harmony import */ var _success__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./success */ "./src/pages/step-form/success.tsx");
/* harmony import */ var _redux_actionTypes__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./redux/actionTypes */ "./src/pages/step-form/redux/actionTypes.ts");
/* harmony import */ var _utils_useLocale__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../utils/useLocale */ "./src/utils/useLocale.ts");
/* harmony import */ var _style_index_module_less__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./style/index.module.less */ "./src/pages/step-form/style/index.module.less");
/* harmony import */ var _style_index_module_less__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_style_index_module_less__WEBPACK_IMPORTED_MODULE_25__);

















var _jsxFileName = "/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/index.tsx";










function StepForm() {
  var locale = Object(_utils_useLocale__WEBPACK_IMPORTED_MODULE_24__["default"])();
  var state = Object(react_redux__WEBPACK_IMPORTED_MODULE_18__["useSelector"])(function (state) {
    return state.stepForm;
  });
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_18__["useDispatch"])();
  var myinput = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_17__["createRef"])();
  var loading = state.loading,
      step = state.step;

  var fetchData = function fetchData() {
    axios__WEBPACK_IMPORTED_MODULE_19___default.a.get('/api/stepForm').then(function (res) {
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_23__["UPDATE_FORM"],
        payload: {
          data: res.data || {}
        }
      });
    })["finally"](function () {
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_23__["UPDATE_LOADING"],
        payload: {
          loading: false
        }
      });
    });
  };

  Object(react__WEBPACK_IMPORTED_MODULE_17__["useEffect"])(function () {
    fetchData();
  }, []);

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_17__["useState"])(null),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default()(_useState, 2),
      ds = _useState2[0],
      setds = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_17__["useState"])(5),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default()(_useState3, 2),
      time = _useState4[0],
      settime = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_17__["useState"])(null),
      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default()(_useState5, 2),
      phoneNum = _useState6[0],
      setphoneNum = _useState6[1];

  Object(react__WEBPACK_IMPORTED_MODULE_17__["useEffect"])(function () {
    document.addEventListener('', function () {});
  }, []);
  var myreg = /^[1][3,4,5,7,8,9][0-9]{9}$/;

  var myfn = function myfn() {
    // 在这里启动一个计时器
    var id = setInterval(function () {
      console.log(time);

      if (time === 0) {
        clearInterval(ds);
      } else {
        var _id = settime(function (time) {
          return time - 1;
        });

        setds(_id);
      }
    }, 1000);
    setds(id);
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement("div", {
    className: _style_index_module_less__WEBPACK_IMPORTED_MODULE_25___default.a.container,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 67,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Card__WEBPACK_IMPORTED_MODULE_7__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 68,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Space__WEBPACK_IMPORTED_MODULE_9__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 69,
      columnNumber: 9
    }
  }, time, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Input__WEBPACK_IMPORTED_MODULE_15__["default"], {
    onChange: function onChange(e) {
      setphoneNum(e);
    },
    placeholder: "\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 71,
      columnNumber: 11
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    disabled: time != 5,
    onClick: function onClick() {
      console.log(myinput.current); // console.log(myinput.focus());

      if (!myreg.test(phoneNum)) {
        // message('请填写正确的手机号码');
        _arco_design_web_react_es_Message__WEBPACK_IMPORTED_MODULE_13__["default"].error('请填写正确的手机号码');

        return;
      }

      myfn();
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 77,
      columnNumber: 11
    }
  }, time === 5 ? '获取验证码' : time))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Breadcrumb__WEBPACK_IMPORTED_MODULE_5__["default"], {
    style: {
      marginBottom: 5
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 94,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Breadcrumb__WEBPACK_IMPORTED_MODULE_5__["default"].Item, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 95,
      columnNumber: 9
    }
  }, locale['menu.form.step'])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Spin__WEBPACK_IMPORTED_MODULE_1__["default"], {
    loading: loading,
    style: {
      width: '100%'
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 97,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement("div", {
    className: _style_index_module_less__WEBPACK_IMPORTED_MODULE_25___default.a.wrapper,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 98,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Steps__WEBPACK_IMPORTED_MODULE_3__["default"], {
    labelPlacement: "vertical",
    className: _style_index_module_less__WEBPACK_IMPORTED_MODULE_25___default.a.steps,
    current: step,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 99,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Steps__WEBPACK_IMPORTED_MODULE_3__["default"].Step, {
    title: locale['stepForm.step.title.baseInfo'],
    description: locale['stepForm.step.subTitle.baseInfo'],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 100,
      columnNumber: 13
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Steps__WEBPACK_IMPORTED_MODULE_3__["default"].Step, {
    title: locale['stepForm.step.title.target'],
    description: locale['stepForm.step.subTitle.target'],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 104,
      columnNumber: 13
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_arco_design_web_react_es_Steps__WEBPACK_IMPORTED_MODULE_3__["default"].Step, {
    title: locale['stepForm.step.title.finish'],
    description: locale['stepForm.step.subTitle.finish'],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 108,
      columnNumber: 13
    }
  })), step === 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_base_info__WEBPACK_IMPORTED_MODULE_20__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 113,
      columnNumber: 26
    }
  }), step === 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_service__WEBPACK_IMPORTED_MODULE_21__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 114,
      columnNumber: 26
    }
  }), step === 3 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_success__WEBPACK_IMPORTED_MODULE_22__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 115,
      columnNumber: 26
    }
  }))));
}

/* harmony default export */ __webpack_exports__["default"] = (StepForm);

/***/ }),

/***/ "./src/pages/step-form/service.tsx":
/*!*****************************************!*\
  !*** ./src/pages/step-form/service.tsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _arco_design_web_react_es_Button_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arco-design/web-react/es/Button/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Button/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arco-design/web-react/es/Button */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Button/index.js");
/* harmony import */ var _arco_design_web_react_es_Select_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arco-design/web-react/es/Select/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Select/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arco-design/web-react/es/Select */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Select/index.js");
/* harmony import */ var _arco_design_web_react_es_Link_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arco-design/web-react/es/Link/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Link/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Link__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arco-design/web-react/es/Link */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Link/index.js");
/* harmony import */ var _arco_design_web_react_es_Grid_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @arco-design/web-react/es/Grid/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Grid/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @arco-design/web-react/es/Grid */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Grid/index.js");
/* harmony import */ var _arco_design_web_react_es_Form_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @arco-design/web-react/es/Form/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Form/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @arco-design/web-react/es/Form */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Form/index.js");
/* harmony import */ var _arco_design_web_react_es_Input_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @arco-design/web-react/es/Input/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Input/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arco-design/web-react/es/Input */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Input/index.js");
/* harmony import */ var _arco_design_web_react_es_Typography_style__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arco-design/web-react/es/Typography/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Typography/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Typography__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @arco-design/web-react/es/Typography */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Typography/index.js");
/* harmony import */ var _arco_design_web_react_es_Message_style__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arco-design/web-react/es/Message/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Message/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Message__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @arco-design/web-react/es/Message */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Message/index.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/_@babel_runtime@7.16.7@@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/_@babel_runtime@7.16.7@@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react */ "./node_modules/_react@16.14.0@react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-redux */ "./node_modules/_react-redux@7.2.6@react-redux/es/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! axios */ "./node_modules/_axios@0.20.0@axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./redux/actionTypes */ "./src/pages/step-form/redux/actionTypes.ts");
/* harmony import */ var _utils_useLocale__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/useLocale */ "./src/utils/useLocale.ts");
/* harmony import */ var _style_index_module_less__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./style/index.module.less */ "./src/pages/step-form/style/index.module.less");
/* harmony import */ var _style_index_module_less__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_style_index_module_less__WEBPACK_IMPORTED_MODULE_23__);


















var _jsxFileName = "/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/service.tsx";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }








function Service() {
  var locale = Object(_utils_useLocale__WEBPACK_IMPORTED_MODULE_22__["default"])();
  var state = Object(react_redux__WEBPACK_IMPORTED_MODULE_19__["useSelector"])(function (state) {
    return state.stepForm;
  });
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_19__["useDispatch"])();
  var data = state.data;
  var formRef = Object(react__WEBPACK_IMPORTED_MODULE_18__["useRef"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_18__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17___default()(_useState, 2),
      loading = _useState2[0],
      setLoading = _useState2[1];

  var submit = function submit() {
    setLoading(true);
    var formData = formRef.current.getFieldsValue();
    console.log('formData: ', formData);
    console.log(data);
    axios__WEBPACK_IMPORTED_MODULE_20___default.a.post('/api/domainApply', {
      data: _objectSpread(_objectSpread({}, data), formData)
    })["finally"](function () {
      setLoading(false);
    }).then(function () {
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__["GO_NEXT"]
      });
    })["catch"](function (error) {
      _arco_design_web_react_es_Message__WEBPACK_IMPORTED_MODULE_15__["default"].error(error.message);
    });
  };

  var onSubmitClick = function onSubmitClick() {
    formRef.current.validate().then(function () {
      submit();
    });
  };

  Object(react__WEBPACK_IMPORTED_MODULE_18__["useEffect"])(function () {
    formRef.current.setFieldsValue(data);
  }, [data]);
  Object(react__WEBPACK_IMPORTED_MODULE_18__["useEffect"])(function () {
    return function () {
      var _formRef$current;

      var formData = ((_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldsValue()) || {};
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__["UPDATE_FORM"],
        payload: {
          data: formData
        }
      });
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"], {
    ref: formRef,
    className: _style_index_module_less__WEBPACK_IMPORTED_MODULE_23___default.a.form,
    labelCol: {
      span: 5
    },
    wrapperCol: {
      span: 19
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 71,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Typography__WEBPACK_IMPORTED_MODULE_13__["default"].Title, {
    style: {
      marginTop: 0,
      marginBottom: 16
    },
    heading: 6,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 72,
      columnNumber: 7
    }
  }, locale['stepForm.form.title.upstream']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    label: "P.S.M",
    extra: locale['stepForm.form.extra.psm'],
    required: true,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 75,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Row, {
    align: "center",
    justify: "space-around",
    gutter: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 76,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 16,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 77,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    field: "psm",
    rules: [{
      required: true,
      message: locale['stepForm.form.error.psm.required']
    }],
    style: {
      marginBottom: 0
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 78,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Input__WEBPACK_IMPORTED_MODULE_11__["default"], {
    placeholder: "Product.Subsystem.Module",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 83,
      columnNumber: 15
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 86,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Link__WEBPACK_IMPORTED_MODULE_5__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 87,
      columnNumber: 13
    }
  }, locale['stepForm.link.psmDefine'])))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    label: locale['stepForm.form.label.strategy'],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 91,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Row, {
    align: "center",
    justify: "space-around",
    gutter: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 92,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 16,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 93,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    field: "strategy",
    style: {
      marginBottom: 0
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 94,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__["default"], {
    placeholder: locale['stepForm.placeholder.strategy'],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 95,
      columnNumber: 15
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__["default"].Option, {
    value: "local",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 96,
      columnNumber: 17
    }
  }, "LOCAL"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__["default"].Option, {
    value: "all",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 97,
      columnNumber: 17
    }
  }, "ALL")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 101,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Link__WEBPACK_IMPORTED_MODULE_5__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 102,
      columnNumber: 13
    }
  }, locale['stepForm.link.selectStrategy'])))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("div", {
    className: _style_index_module_less__WEBPACK_IMPORTED_MODULE_23___default.a.actions,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 106,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    type: "secondary",
    onClick: function onClick() {
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__["GO_PREV"]
      });
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 107,
      columnNumber: 9
    }
  }, locale['stepForm.button.prev']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    loading: loading,
    type: "primary",
    onClick: onSubmitClick,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 115,
      columnNumber: 9
    }
  }, locale['stepForm.button.submit'])));
}

/* harmony default export */ __webpack_exports__["default"] = (Service);

/***/ }),

/***/ "./src/pages/step-form/success.tsx":
/*!*****************************************!*\
  !*** ./src/pages/step-form/success.tsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _arco_design_web_react_es_Result_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arco-design/web-react/es/Result/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Result/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arco-design/web-react/es/Result */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Result/index.js");
/* harmony import */ var _arco_design_web_react_es_Button_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arco-design/web-react/es/Button/style */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Button/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arco-design/web-react/es/Button */ "./node_modules/_@arco-design_web-react@2.28.0@@arco-design/web-react/es/Button/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/_react@16.14.0@react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/_react-redux@7.2.6@react-redux/es/index.js");
/* harmony import */ var _redux_actionTypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./redux/actionTypes */ "./src/pages/step-form/redux/actionTypes.ts");
/* harmony import */ var _utils_useLocale__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/useLocale */ "./src/utils/useLocale.ts");




var _jsxFileName = "/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/success.tsx";





function Success() {
  var locale = Object(_utils_useLocale__WEBPACK_IMPORTED_MODULE_7__["default"])();
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_arco_design_web_react_es_Result__WEBPACK_IMPORTED_MODULE_1__["default"], {
    status: "success",
    title: locale['stepForm.success.title'],
    subTitle: locale['stepForm.success.subTitle'],
    extra: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
      key: "again",
      type: "secondary",
      style: {
        marginRight: 16
      },
      onClick: function onClick() {
        dispatch({
          type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_6__["GO"],
          payload: {
            step: 1
          }
        });
      },
      __source: {
        fileName: _jsxFileName,
        lineNumber: 19,
        columnNumber: 9
      }
    }, locale['stepForm.button.again']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
      key: "view",
      type: "primary",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 29,
        columnNumber: 9
      }
    }, locale['stepForm.button.view'])],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 14,
      columnNumber: 5
    }
  });
}

/* harmony default export */ __webpack_exports__["default"] = (Success);

/***/ })

}]);
//# sourceMappingURL=49.min.js.map