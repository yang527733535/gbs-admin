{"version":3,"file":"21.min.js","sources":["webpack:///./src/pages/store-game/form/index.jsx"],"sourcesContent":["import \"@arco-design/web-react/es/Message/style\";\nimport _Message from \"@arco-design/web-react/es/Message\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport \"@arco-design/web-react/es/Space/style\";\nimport _Space from \"@arco-design/web-react/es/Space\";\nimport \"@arco-design/web-react/es/Button/style\";\nimport _Button from \"@arco-design/web-react/es/Button\";\nimport _IconDelete from \"@arco-design/web-react/icon/react-icon/IconDelete\";\nimport \"@arco-design/web-react/es/Input/style\";\nimport _Input from \"@arco-design/web-react/es/Input\";\nimport \"@arco-design/web-react/es/InputNumber/style\";\nimport _InputNumber from \"@arco-design/web-react/es/InputNumber\";\nimport \"@arco-design/web-react/es/Spin/style\";\nimport _Spin from \"@arco-design/web-react/es/Spin\";\nimport \"@arco-design/web-react/es/Select/style\";\nimport _Select from \"@arco-design/web-react/es/Select\";\nimport \"@arco-design/web-react/es/Avatar/style\";\nimport _Avatar from \"@arco-design/web-react/es/Avatar\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"@arco-design/web-react/es/Form/style\";\nimport _Form from \"@arco-design/web-react/es/Form\";\nvar _jsxFileName = \"/Users/mrhh/Desktop/gbs-admin/src/pages/store-game/form/index.jsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useRef, useEffect, useCallback, useState } from 'react';\nimport debounce from 'lodash/debounce';\nimport { shopList, addGame, updateShop, regionsList, dramaList, StoreDetailApi, getdramaprice, reqGameDetail } from '../../../api/drama.js';\nimport { dmList, memberList } from '../../../api/user.js';\nvar FormItem = _Form.Item;\nvar formItemLayout = {\n  labelCol: {\n    span: 7\n  },\n  wrapperCol: {\n    span: 17\n  }\n};\nvar noLabelLayout = {\n  wrapperCol: {\n    span: 17,\n    offset: 7\n  }\n};\n\nfunction Shop(_ref) {\n  var closeModalAndReqTable = _ref.closeModalAndReqTable,\n      clickItem = _ref.clickItem;\n  var formRef = useRef();\n  var size = 'default';\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      shopListOption = _useState2[0],\n      setshopListOption = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      shopListLoading = _useState4[0],\n      setshopListLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cascaderOptionsArr = _useState6[0],\n      setcascaderOptionsArr = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      roomListOpions = _useState8[0],\n      setroomListOpions = _useState8[1];\n\n  var _useState9 = useState(localStorage.getItem('nowshop')),\n      _useState10 = _slicedToArray(_useState9, 2),\n      nowstore_code = _useState10[0],\n      setnowstore_code = _useState10[1]; // 剧本列表\n\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      options = _useState12[0],\n      setOptions = _useState12[1]; // 剧本的fetching\n\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      fetching = _useState14[0],\n      setFetching = _useState14[1]; // 主持人列表\n\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dmListOption = _useState16[0],\n      setdmListOption = _useState16[1]; // 主持人的fetching\n\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      dmfetching = _useState18[0],\n      setdmfetching = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      price1 = _useState20[0],\n      setprice1 = _useState20[1];\n\n  var _useState21 = useState(''),\n      _useState22 = _slicedToArray(_useState21, 2),\n      price2 = _useState22[0],\n      setprice2 = _useState22[1]; //  玩家的列表\n\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      VipListOption = _useState24[0],\n      setVipListOption = _useState24[1]; // 主持人的fetching\n\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      vipfetching = _useState26[0],\n      setvipfetching = _useState26[1];\n\n  var refFetchId = useRef(null);\n\n  var onValuesChange = function onValuesChange(changeValue, values) {\n    console.log('onValuesChange: ', changeValue, values);\n  };\n\n  useEffect(function () {\n    var regionsData = regionsList();\n    regionsData.then(function (res) {\n      var data = res.data;\n\n      var mapTree = function mapTree(org) {\n        var haveChildren = Array.isArray(org.region_children) && org.region_children.length > 0;\n        return {\n          key: String(org.region_id),\n          value: String(org.region_id),\n          label: org.region_name,\n          children: haveChildren ? org.region_children.map(function (i) {\n            return mapTree(i);\n          }) : []\n        };\n      };\n\n      var arr = [];\n      arr = data.map(function (org) {\n        return mapTree(org);\n      });\n      setcascaderOptionsArr(arr);\n    });\n  }, []);\n\n  var getShopList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$shopList, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return shopList();\n\n            case 2:\n              _yield$shopList = _context.sent;\n              data = _yield$shopList.data;\n              setshopListLoading(false);\n              setshopListOption(data);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getShopList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getShopList();\n  }, []);\n  useEffect(function () {\n    formRef.current.setFieldsValue({\n      store_code: localStorage.getItem('nowshop')\n    });\n  }, []);\n  var debouncedFetchDrama = useCallback(debounce(function (inputValue) {\n    refFetchId.current = Date.now();\n    setFetching(true);\n    setOptions([]);\n    var param = {\n      gb_title: inputValue\n    };\n    var res = dramaList(param);\n    res.then(function (data) {\n      var options = data.data.map(function (drama) {\n        return {\n          label: /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(_Avatar, {\n            shape: \"square\",\n            size: 24,\n            style: {\n              marginLeft: 6,\n              marginRight: 12\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            alt: \"avatar\",\n            src: drama.gb_cover,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }\n          })), \"\".concat(drama.gb_title)),\n          value: drama.gb_code\n        };\n      });\n      setFetching(false);\n      setOptions(options);\n    });\n  }, 500), []);\n  var debouncedFetchDM = useCallback(debounce(function (inputValue) {\n    refFetchId.current = Date.now();\n    setdmfetching(true);\n    setOptions([]);\n    var param = {\n      user_nick: inputValue\n    };\n    var res = dmList(param);\n    res.then(function (data) {\n      var options = data.data.map(function (dm) {\n        return {\n          label: /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(_Avatar, {\n            size: 24,\n            style: {\n              marginLeft: 6,\n              marginRight: 12\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            alt: \"avatar\",\n            src: dm.user_photo,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }\n          })), \"\".concat(dm.user_nick)),\n          value: dm.user_account\n        };\n      });\n      setdmfetching(false);\n      setdmListOption(options);\n    });\n  }, 500), []);\n  var debouncedFetchVip = useCallback(debounce(function (inputValue) {\n    refFetchId.current = Date.now();\n    setFetching(true);\n    setOptions([]);\n    var param = {\n      member_name: inputValue\n    };\n    var res = memberList(param);\n    res.then(function (data) {\n      console.log('data: ', data);\n      var options = data.data.map(function (vip) {\n        return {\n          label: /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(_Avatar, {\n            size: 24,\n            style: {\n              marginLeft: 6,\n              marginRight: 12\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            alt: \"avatar\",\n            src: vip.member_face,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }\n          })), \"\".concat(vip.member_name)),\n          value: vip.member_account\n        };\n      });\n      setvipfetching(false);\n      console.log('options', options);\n      setVipListOption(options);\n    });\n  }, 500), []); // debouncedFetchVip\n\n  useEffect(function () {\n    debouncedFetchDrama();\n    debouncedFetchVip();\n    debouncedFetchDM();\n  }, []);\n\n  var getroomListOpions = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var parma, data, store_room;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              parma = {\n                store_code: nowstore_code\n              };\n              _context2.next = 3;\n              return StoreDetailApi(parma);\n\n            case 3:\n              data = _context2.sent;\n              store_room = data.data.store_room;\n              setroomListOpions(store_room);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getroomListOpions() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getroomListOpions();\n  }, [nowstore_code]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: 650\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Form, _extends({\n    ref: formRef\n  }, formItemLayout, {\n    size: size,\n    onSubmit: function onSubmit(e) {\n      console.log(e);\n    },\n    onValuesChange: onValuesChange,\n    scrollToFirstError: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u9009\\u62E9\\u5E97\\u94FA\",\n    field: \"store_code\",\n    rules: [{\n      required: true,\n      message: '请填写店铺编码'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    onChange: /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                setnowstore_code(e);\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    loading: shopListLoading,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u5E97\\u94FA\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, shopListOption === null || shopListOption === void 0 ? void 0 : shopListOption.map(function (item) {\n    return /*#__PURE__*/React.createElement(_Select.Option, {\n      key: item.store_code,\n      value: item.store_code,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, item.store_name);\n  }))), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u9009\\u62E9\\u623F\\u95F4\",\n    field: \"room_code\",\n    rules: [{\n      required: true,\n      message: '请填写店铺编码'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u623F\\u95F4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, roomListOpions.map(function (item) {\n    return /*#__PURE__*/React.createElement(_Select.Option, {\n      key: item.room_code,\n      value: item.room_code,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }\n    }, item.room_name);\n  }))), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u5267\\u672C\",\n    field: \"gb_code\",\n    rules: [{\n      required: true,\n      message: '请选择剧本'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    onChange: /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e) {\n        var param, _yield$getdramaprice, data, gb_price, gb_price2;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                param = {\n                  gb_code: e,\n                  store_code: nowstore_code\n                };\n                _context4.next = 3;\n                return getdramaprice(param);\n\n              case 3:\n                _yield$getdramaprice = _context4.sent;\n                data = _yield$getdramaprice.data;\n                gb_price = data.gb_price, gb_price2 = data.gb_price2;\n                setprice1(gb_price);\n                setprice2(gb_price2);\n                formRef.current.setFieldsValue({\n                  gb_price: data.is_leisure === 0 ? data.gb_price : data.gb_price2\n                });\n                console.log('data: ', data); // const data =  \bgetPriceApi(param)\n                // console.log('data: ', data);\n                // // let data = await \bgetPriceApi(param)\n                // console.log('data: ', data);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x2) {\n        return _ref5.apply(this, arguments);\n      };\n    }(),\n    style: {\n      width: 345\n    },\n    options: options,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u8981\\u641C\\u7D22\\u7684\\u5267\\u672C\",\n    filterOption: false,\n    renderFormat: function renderFormat(option) {\n      return option.children.props.children[1];\n    },\n    notFoundContent: fetching ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Spin, {\n      style: {\n        margin: 12\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 19\n      }\n    })) : null,\n    showSearch: true,\n    onSearch: debouncedFetchDrama,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  })), price1 && /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u53C2\\u8003\\u4EF7\\u683C\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, \"\\u5DE5\\u4F5C\\u65E5:\\xA5\", price1), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }\n  }, \"\\u5468\\u672B:\\xA5\", price2)), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u5267\\u672C\\u4EF7\\u683C\",\n    field: \"gb_price\",\n    rules: [{\n      required: true,\n      message: '请填写剧本价格'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_InputNumber, {\n    min: 0,\n    placeholder: \"\\u8BF7\\u586B\\u5199\\u5267\\u672C\\u4EF7\\u683C...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u73A9\\u5BB6\\u4EBA\\u6570\",\n    field: \"game_people\",\n    rules: [{\n      required: true,\n      message: '请填写玩家人数'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_InputNumber, {\n    min: 1,\n    placeholder: \"\\u8BF7\\u586B\\u5199\\u73A9\\u5BB6\\u4EBA\\u6570...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormItem, {\n    label: \"\\u4E3B\\u6301\\u4EBA\",\n    field: \"dm_user\",\n    rules: [{\n      required: true,\n      message: '请填写主持人'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    style: {\n      width: 345\n    },\n    options: dmListOption,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u4E3B\\u6301\\u4EBA\",\n    filterOption: false,\n    renderFormat: function renderFormat(option) {\n      return option.children.props.children[1];\n    },\n    notFoundContent: dmfetching ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Spin, {\n      style: {\n        margin: 12\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 19\n      }\n    })) : null,\n    showSearch: true,\n    onSearch: debouncedFetchDM,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(_Form.List, {\n    field: \"game_player\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }\n  }, function (fields, _ref6) {\n    var add = _ref6.add,\n        remove = _ref6.remove,\n        move = _ref6.move;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 15\n      }\n    }, fields.map(function (item, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: item.key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        label: \"\\u73A9\\u5BB6\".concat(1 + index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(_Space, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        field: \"\".concat(item.field, \".player_user\"),\n        rules: [{\n          required: true\n        }],\n        noStyle: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(_Select, {\n        style: {\n          width: 145\n        },\n        options: VipListOption,\n        placeholder: \"\\u8BF7\\u9009\\u62E9\\u73A9\\u5BB6\",\n        filterOption: false,\n        renderFormat: function renderFormat(option) {\n          return option.children.props.children[1];\n        },\n        notFoundContent: vipfetching ? /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(_Spin, {\n          style: {\n            margin: 12\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 37\n          }\n        })) : null,\n        showSearch: true,\n        onSearch: debouncedFetchVip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        field: \"\".concat(item.field, \".player_type\"),\n        rules: [{\n          required: true\n        }],\n        noStyle: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(_Select, {\n        placeholder: \"\\u73A9\\u5BB6\\u7C7B\\u578B\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(_Select.Option, {\n        value: \"player\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 31\n        }\n      }, \"player\"), /*#__PURE__*/React.createElement(_Select.Option, {\n        value: \"worker\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 31\n        }\n      }, \"worker\"))), /*#__PURE__*/React.createElement(_Form.Item, {\n        field: \"\".concat(item.field, \".player_name\"),\n        rules: [{\n          required: true\n        }],\n        noStyle: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u73A9\\u5BB6\\u540D\\u79F0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(_Form.Item, {\n        field: \"\".concat(item.field, \".player_note\"),\n        rules: [{\n          required: true\n        }],\n        noStyle: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"\\u73A9\\u5BB6\\u5907\\u6CE8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(_Button, {\n        icon: /*#__PURE__*/React.createElement(_IconDelete, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 35\n          }\n        }),\n        shape: \"circle\",\n        status: \"danger\",\n        onClick: function onClick() {\n          return remove(index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 27\n        }\n      }))));\n    }), /*#__PURE__*/React.createElement(_Form.Item, _extends({}, noLabelLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(_Button, {\n      onClick: function onClick() {\n        add();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 19\n      }\n    }, \"\\u6DFB\\u52A0\\u73A9\\u5BB6\")));\n  }), /*#__PURE__*/React.createElement(FormItem, _extends({}, noLabelLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(_Button, {\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var param, data, _param;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!formRef.current) {\n                _context5.next = 26;\n                break;\n              }\n\n              _context5.prev = 1;\n              _context5.next = 4;\n              return formRef.current.validate();\n\n            case 4:\n              if (!(clickItem === null)) {\n                _context5.next = 12;\n                break;\n              }\n\n              param = formRef.current.getFields();\n\n              if (param.game_player === null || param.game_player === undefined) {\n                param.game_player = [];\n              }\n\n              _context5.next = 9;\n              return addGame(param);\n\n            case 9:\n              data = _context5.sent;\n              _context5.next = 18;\n              break;\n\n            case 12:\n              _param = formRef.current.getFields();\n              console.log('param: ', _param);\n              _param.store_code = clickItem.store_code;\n              _context5.next = 17;\n              return updateShop(_param);\n\n            case 17:\n              data = _context5.sent;\n\n            case 18:\n              if (data.code === 200) {\n                _Message.success('添加成功');\n\n                closeModalAndReqTable();\n              }\n\n              _context5.next = 26;\n              break;\n\n            case 21:\n              _context5.prev = 21;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.log(_context5.t0);\n              console.log(formRef.current.getFieldsError());\n\n              _Message.error('校验失败，请检查字段！');\n\n            case 26:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[1, 21]]);\n    })),\n    type: \"primary\",\n    style: {\n      marginRight: 24\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 11\n    }\n  }, \"\\u63D0\\u4EA4\"), /*#__PURE__*/React.createElement(_Button, {\n    onClick: function onClick() {\n      formRef.current.resetFields();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 11\n    }\n  }, \"\\u91CD\\u7F6E\"))));\n}\n\nexport default Shop;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}