(window.webpackJsonp=window.webpackJsonp||[]).push([[15,66,94],{172:function(e,r,a){"use strict";a.r(r);a(77);var t=a(30),n=a(78),l=a.n(n),u=(a(622),a(619)),o=(a(306),a(228)),m=(a(617),a(618)),c=(a(595),a(596)),i=(a(148),a(51)),s=(a(225),a(89)),b=(a(149),a(52)),N=a(24),_=a.n(N),f=(a(305),a(104)),d=a(53),p=a.n(d),E=a(0),g=a.n(E),h=a(224),y=a(7),O=a.n(y),v="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-staff-dm/form/index.jsx",w=f.a.Item;function T(e){var r=e.UserList,a=e.closeModalAndReqNewTableData,n=f.a.useForm(),N=_()(n,1)[0];return g.a.createElement("div",{__source:{fileName:v,lineNumber:19,columnNumber:5}},g.a.createElement(f.a,{onSubmit:function(e){console.log(e),b.a.success("success")},form:N,__source:{fileName:v,lineNumber:20,columnNumber:7}},g.a.createElement(w,{rules:[{required:!0,message:"请选择账号"}],field:"user_account",label:"选择账号",__source:{fileName:v,lineNumber:27,columnNumber:9}},g.a.createElement(s.a,{placeholder:"请选择账号",__source:{fileName:v,lineNumber:32,columnNumber:11}},null==r?void 0:r.map((function(e){return g.a.createElement(s.a.Option,{key:e.user_account,__source:{fileName:v,lineNumber:34,columnNumber:22}},e.user_account)})))),g.a.createElement(w,{rules:[{required:!0,message:"请输入昵称"}],field:"user_nick",label:"昵称",__source:{fileName:v,lineNumber:38,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请输入昵称",__source:{fileName:v,lineNumber:43,columnNumber:11}})),g.a.createElement(w,{rules:[{required:!0,message:"请输入星座"}],field:"star_sign",label:"星座",__source:{fileName:v,lineNumber:45,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请输入星座",__source:{fileName:v,lineNumber:50,columnNumber:11}})),g.a.createElement(w,{rules:[{required:!0,message:"请输入DM简介"}],field:"user_brief",label:"DM简介",__source:{fileName:v,lineNumber:52,columnNumber:9}},g.a.createElement(i.a.TextArea,{placeholder:"请输入DM简介",__source:{fileName:v,lineNumber:57,columnNumber:11}})),g.a.createElement(w,{rules:[{required:!0,message:"请输入擅长剧本"}],field:"skilled_drama",label:"擅长剧本",__source:{fileName:v,lineNumber:59,columnNumber:9}},g.a.createElement(s.a,{allowCreate:!0,mode:"multiple",placeholder:"擅长剧本",allowClear:!0,__source:{fileName:v,lineNumber:64,columnNumber:11}})),g.a.createElement(f.a.Item,{rules:[{required:!0,message:"请上传DM相片"}],label:"DM相片",field:"user_photo",triggerPropName:"fileList",__source:{fileName:v,lineNumber:66,columnNumber:9}},g.a.createElement(m.a,{limit:1,listType:"picture-card",name:"user_photo",customRequest:function(e){var r=e.onProgress,a=e.onError,t=e.onSuccess,n=e.file,l=new XMLHttpRequest;l.upload&&(l.upload.onprogress=function(e){var a;e.total>0&&(a=e.loaded/e.total*100),r(parseInt(a,10),e)}),l.onerror=function(e){a(e)},l.onload=function(){l.status<200||l.status,t(JSON.parse(l.responseText))};var u=new FormData;u.append("up_file",n),u.append("module","drama"),l.open("post","https://gbs.toptian.com/system/upload/image",!0),l.setRequestHeader("Authorization",localStorage.getItem("token")),l.send(u)},onPreview:function(e){c.a.info({title:"Preview",content:g.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:v,lineNumber:107,columnNumber:19}})})},__source:{fileName:v,lineNumber:72,columnNumber:11}})),g.a.createElement(w,{rules:[{required:!0,message:"请选择性别"}],field:"user_gender",label:"性别",__source:{fileName:v,lineNumber:116,columnNumber:9}},g.a.createElement(s.a,{__source:{fileName:v,lineNumber:121,columnNumber:11}},g.a.createElement(s.a.Option,{value:"0",__source:{fileName:v,lineNumber:122,columnNumber:13}},"未知"),g.a.createElement(s.a.Option,{value:"1",__source:{fileName:v,lineNumber:123,columnNumber:13}},"男"),g.a.createElement(s.a.Option,{value:"2",__source:{fileName:v,lineNumber:124,columnNumber:13}},"女"))),g.a.createElement(w,{rules:[{required:!0,message:"请输入获赞次数"}],field:"praise_qty",label:"获赞次数",__source:{fileName:v,lineNumber:127,columnNumber:9}},g.a.createElement(o.a,{__source:{fileName:v,lineNumber:132,columnNumber:11}})),g.a.createElement(w,{rules:[{required:!0,message:"请输入带场次数"}],field:"exp_value",label:"带场次数",__source:{fileName:v,lineNumber:134,columnNumber:9}},g.a.createElement(o.a,{__source:{fileName:v,lineNumber:139,columnNumber:11}})),g.a.createElement(w,{label:"加入时间",field:"join_date",rules:[{required:!0,message:"join_date is required"}],__source:{fileName:v,lineNumber:141,columnNumber:9}},g.a.createElement(u.a,{showTime:!0,__source:{fileName:v,lineNumber:151,columnNumber:11}})),g.a.createElement(w,{wrapperCol:{offset:5},__source:{fileName:v,lineNumber:153,columnNumber:9}},g.a.createElement(t.a,{onClick:l()(p.a.mark((function e(){var r,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=N.getFields()).user_photo=r.user_photo[0].url||r.user_photo[0].response.data.file_url,console.log(r),e.next=5,Object(h.g)(r);case 5:t=e.sent,console.log("data: ",t),200===t.code&&a();case 8:case"end":return e.stop()}}),e)}))),type:"primary",__source:{fileName:v,lineNumber:158,columnNumber:11}},"Submit"))))}T.propTypes={name:O.a.string.isRequired},r.default=T},188:function(e,r,a){"use strict";a.r(r);a(621);var t=a(620),n=(a(599),a(603)),l=(a(150),a(79)),u=(a(148),a(51)),o=(a(606),a(607)),m=(a(595),a(596)),c=a(4),i=a.n(c),s=a(78),b=a.n(s),N=(a(77),a(30)),_=(a(162),a(63)),f=a(24),d=a.n(f),p=a(597),E=a.n(p),g=a(53),h=a.n(g),y=a(0),O=a.n(y),v=a(32),w=a(112),T=a(316),j=a(172),x=a(34),P=a(583),D=a.n(P),A="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-staff-dm/index.tsx";function I(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function S(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?I(Object(a),!0).forEach((function(r){i()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}r.default=function(e){E()(e);var r=Object(x.a)(),a=Object(y.useState)([]),c=d()(a,2),i=c[0],s=c[1],f=Object(y.useState)(),p=d()(f,2),g=p[0],P=p[1],I=Object(y.useState)(""),q=d()(I,2),k=q[0],C=q[1],U=Object(y.useState)(""),M=d()(U,2),R=M[0],L=M[1],z=Object(y.useState)(""),F=d()(z,2),G=F[0],J=F[1],B=Object(y.useState)(""),H=d()(B,2),K=H[0],W=H[1],X=[{title:"用户名称",dataIndex:"user_name"},{title:"账号",dataIndex:"user_account"},{title:"邮箱",dataIndex:"user_email",render:function(e){return O.a.createElement(_.a.Text,{copyable:!0,__source:{fileName:A,lineNumber:47,columnNumber:26}},e)}},{title:"手机号码",dataIndex:"user_mobile"},{title:r["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:r["searchTable.columns.operations"],dataIndex:"operations",render:function(){return O.a.createElement("div",{className:D.a.operations,__source:{fileName:A,lineNumber:66,columnNumber:9}},O.a.createElement(N.a,{type:"text",size:"small",__source:{fileName:A,lineNumber:67,columnNumber:11}},r["searchTable.columns.operations.view"]),O.a.createElement(N.a,{type:"text",size:"small",__source:{fileName:A,lineNumber:70,columnNumber:11}},r["searchTable.columns.operations.update"]),O.a.createElement(N.a,{type:"text",status:"danger",size:"small",__source:{fileName:A,lineNumber:73,columnNumber:11}},r["searchTable.columns.operations.delete"]))}}],Q=Object(v.c)((function(e){return e.searchTable})),V=Q.pagination,Y=Q.loading,Z=Q.formParams,$=Object(v.b)();Object(y.useEffect)((function(){re()}),[]),Object(y.useEffect)((function(){ee()}),[]);var ee=function(){var e=b()(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)();case 2:r=e.sent,s(r.data),console.log("data: ",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(w.b)({page:e,page_size:r,user_account:k,user_mobile:R,user_name:G,user_status:K});t.then((function(e){var r=e.data,t=e.paginator;$({type:T.UPDATE_LIST,payload:{data:r}}),$({type:T.UPDATE_PAGINATION,payload:{pagination:S(S({},V),{},{current:t.page,pageSize:t.page_size,total:t.total_count})}}),$({type:T.UPDATE_LOADING,payload:{loading:!1}}),$({type:T.UPDATE_FORM_PARAMS,payload:{params:a}})}))}return O.a.createElement("div",{className:D.a.container,__source:{fileName:A,lineNumber:132,columnNumber:5}},O.a.createElement(m.a,{title:"添加主持人",footer:null,onCancel:function(){P(!1)},style:{width:600},visible:g,__source:{fileName:A,lineNumber:133,columnNumber:7}},O.a.createElement(j.default,{closeModalAndReqNewTableData:function(){P(!1)},UserList:i,__source:{fileName:A,lineNumber:142,columnNumber:9}})),O.a.createElement(o.a,{style:{marginBottom:20},__source:{fileName:A,lineNumber:149,columnNumber:7}},O.a.createElement(o.a.Item,{__source:{fileName:A,lineNumber:150,columnNumber:9}},"运营管理"),O.a.createElement(o.a.Item,{__source:{fileName:A,lineNumber:151,columnNumber:9}},"人员管理")),O.a.createElement("div",{__source:{fileName:A,lineNumber:153,columnNumber:7}},O.a.createElement(n.a,{style:{marginBottom:20},__source:{fileName:A,lineNumber:154,columnNumber:9}},O.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:A,lineNumber:155,columnNumber:11}},O.a.createElement(N.a,{onClick:function(){P(!0)},type:"primary",__source:{fileName:A,lineNumber:156,columnNumber:13}},"添加主持人"),O.a.createElement("div",{__source:{fileName:A,lineNumber:164,columnNumber:13}},O.a.createElement(l.a,{__source:{fileName:A,lineNumber:165,columnNumber:15}},O.a.createElement(u.a,{onChange:function(e){C(e)},placeholder:"请输入账号",style:{width:200},__source:{fileName:A,lineNumber:166,columnNumber:17}}),O.a.createElement(u.a,{onChange:function(e){L(e)},placeholder:"请输入手机号码",style:{width:200},__source:{fileName:A,lineNumber:173,columnNumber:17}}),O.a.createElement(u.a,{onChange:function(e){J(e)},placeholder:"请输入用户名",style:{width:200},__source:{fileName:A,lineNumber:180,columnNumber:17}}),O.a.createElement(u.a,{onChange:function(e){W(e)},placeholder:"用户状态",style:{width:200},__source:{fileName:A,lineNumber:187,columnNumber:17}}),O.a.createElement(N.a,{onClick:function(){C(""),L(""),J(""),W("")},__source:{fileName:A,lineNumber:194,columnNumber:17}},"重置"),O.a.createElement(N.a,{onClick:function(){re()},type:"primary",__source:{fileName:A,lineNumber:204,columnNumber:17}},"搜索")))))),O.a.createElement(n.a,{bordered:!1,__source:{fileName:A,lineNumber:217,columnNumber:7}},O.a.createElement(t.a,{rowKey:"user_account",loading:Y,onChange:function(e){re(e.current,e.pageSize,Z)},pagination:V,columns:X,__source:{fileName:A,lineNumber:218,columnNumber:9}})))}},316:function(e,r,a){"use strict";a.r(r),a.d(r,"UPDATE_LIST",(function(){return t})),a.d(r,"UPDATE_LOADING",(function(){return n})),a.d(r,"UPDATE_PAGINATION",(function(){return l})),a.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var t="searchTable_update_list",n="searchTable_update_loading",l="searchTable_update_pagination",u="searchTable_update_formParams"},583:function(e,r,a){e.exports={container:"container-ab6aaf640e",toolbar:"toolbar-d23a17367e",operations:"operations-f3635822bd"}},597:function(e,r){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.exports.__esModule=!0,e.exports.default=e.exports}}]);