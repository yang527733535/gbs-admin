(window.webpackJsonp=window.webpackJsonp||[]).push([[5,35,91],{160:function(e,r,l){"use strict";l.r(r),l.d(r,"default",(function(){return n}));var a=l(0),t=l.n(a);function n(e){var r=e.clickItem;return console.log("clickItem: ",r),t.a.createElement("div",{__source:{fileName:"/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/DramaDetail/roleDetail/AddRoleDetailForm/index.tsx",lineNumber:5,columnNumber:10}})}},165:function(e,r,l){"use strict";l.r(r),l.d(r,"default",(function(){return g}));l(225);var a=l(89),t=l(597),n=(l(335),l(240)),c=(l(149),l(52)),u=l(78),m=l.n(u),o=l(24),i=l.n(o),s=(l(306),l(104)),b=l(53),N=l.n(b),f=l(0),_=l.n(f),d=l(32),p=l(224),E="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/DramaDetail/dmDetail/index.tsx",v=s.a.Item;function g(e){var r=e.drama_dms,l=Object(d.c)((function(e){return e.myState})).clickItem,u=Object(f.useRef)(),o=Object(f.useState)([]),b=i()(o,2),g=b[0],y=b[1],O=Object(f.useState)({}),x=i()(O,2),h=x[0],j=x[1];Object(f.useEffect)((function(){w()}),[]);var w=function(){var e=m()(N.a.mark((function e(){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.l)();case 2:r=e.sent,y(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){for(var e={},l=0;l<r.length;l++){var a=r[l];e[a.user_account]=a.user_photo}j(e),u.current.setFieldsValue({dm_array:r.map((function(e){return e.user_account}))})}),[r]);var k=function(){var e=m()(N.a.mark((function e(r,a){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changeValue: ",r),(t=new Object).gb_code=l.gb_code,t.dm_array=a.dm_array.map((function(e){return{user_account:e}})),e.next=6,Object(p.p)(t);case 6:200===e.sent.code&&c.a.info("提交成功！");case 8:case"end":return e.stop()}}),e)})));return function(r,l){return e.apply(this,arguments)}}();return _.a.createElement("div",{__source:{fileName:E,lineNumber:71,columnNumber:5}},_.a.createElement(s.a,{onValuesChange:k,ref:u,__source:{fileName:E,lineNumber:72,columnNumber:7}},_.a.createElement(v,{required:!0,field:"dm_array",rules:[{required:!0,minLength:1,message:"dm_array is required"}],__source:{fileName:E,lineNumber:73,columnNumber:9}},_.a.createElement(a.a,{renderTag:function(e){var r=e.label,l=e.value;return _.a.createElement("div",{style:{margin:"2px 6px 2px 0",display:"flex",alignItems:"center",justifyContent:"center"},__source:{fileName:E,lineNumber:57,columnNumber:7}},_.a.createElement(n.a,{color:"cyan",__source:{fileName:E,lineNumber:65,columnNumber:9}}," ",r),_.a.createElement("img",{style:{width:50,height:50},src:h[l],alt:"",__source:{fileName:E,lineNumber:66,columnNumber:9}}))},removeIcon:_.a.createElement(t.a,{__source:{fileName:E,lineNumber:86,columnNumber:25}}),mode:"multiple",allowCreate:!0,placeholder:"请选择dm",__source:{fileName:E,lineNumber:84,columnNumber:11}},null==g?void 0:g.map((function(e){return _.a.createElement(a.a.Option,{key:e.user_account,value:e.user_account,__source:{fileName:E,lineNumber:93,columnNumber:17}},e.user_nick)}))))))}},166:function(e,r,l){"use strict";l.r(r),l.d(r,"default",(function(){return D}));var a=l(5),t=l.n(a),n=(l(149),l(52)),c=l(78),u=l.n(c),m=(l(150),l(79)),o=l(597),i=(l(225),l(89)),s=(l(148),l(51)),b=(l(77),l(30)),N=(l(595),l(596)),f=l(24),_=l.n(f),d=(l(306),l(104)),p=(l(228),l(154)),E=l(53),v=l.n(E),g=l(0),y=l.n(g),O=l(32),x=l(224),h=l(160),j="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/DramaDetail/roleDetail/index.tsx",w=p.a.Row,k=p.a.Col,C=d.a.Item,P={labelCol:{span:4},wrapperCol:{span:17}};function D(e){var r=e.role_array,l=Object(g.useRef)(),a=Object(O.c)((function(e){return e.myState}));Object(g.useEffect)((function(){l.current.setFieldsValue({role_array:r})}),[r]);var c=a.clickItem,f=Object(g.useState)(!1),p=_()(f,2),E=p[0],D=p[1];return y.a.createElement(y.a.Fragment,null,y.a.createElement(N.a,{onCancel:function(){D(!1)},visible:E,__source:{fileName:j,lineNumber:39,columnNumber:7}},y.a.createElement(h.default,{clickItem:c,__source:{fileName:j,lineNumber:45,columnNumber:9}})),y.a.createElement(b.a,{onClick:function(){D(!0)},__source:{fileName:j,lineNumber:47,columnNumber:7}},"添加角色"),y.a.createElement(d.a,t()({style:{display:"none"},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},layout:"vertical",ref:l},P,{__source:{fileName:j,lineNumber:54,columnNumber:7}}),y.a.createElement(d.a.List,{field:"role_array",__source:{fileName:j,lineNumber:61,columnNumber:9}},(function(e,r){var l=r.add,a=r.remove;return y.a.createElement("div",{__source:{fileName:j,lineNumber:64,columnNumber:15}},e.map((function(e,r){return y.a.createElement("div",{key:e.key,__source:{fileName:j,lineNumber:67,columnNumber:21}},y.a.createElement(d.a.Item,{label:"角色".concat(r+1),__source:{fileName:j,lineNumber:68,columnNumber:23}},y.a.createElement(m.a,{__source:{fileName:j,lineNumber:69,columnNumber:25}},y.a.createElement(w,{__source:{fileName:j,lineNumber:70,columnNumber:27}},y.a.createElement(d.a.Item,{label:"角色名称",field:"".concat(e.field,".role_name"),rules:[{required:!0}],noStyle:!0,__source:{fileName:j,lineNumber:71,columnNumber:29}},y.a.createElement(s.a,{placeholder:"角色名称",__source:{fileName:j,lineNumber:77,columnNumber:31}}))),y.a.createElement(d.a.Item,{label:"角色简介",field:"".concat(e.field,".role_brief"),rules:[{required:!0}],noStyle:!0,__source:{fileName:j,lineNumber:81,columnNumber:27}},y.a.createElement(s.a,{placeholder:"角色简介",__source:{fileName:j,lineNumber:87,columnNumber:29}})),y.a.createElement(d.a.Item,{label:"角色备注",field:"".concat(e.field,".role_remarks"),rules:[{required:!0}],noStyle:!0,__source:{fileName:j,lineNumber:89,columnNumber:27}},y.a.createElement(s.a,{placeholder:"角色备注",__source:{fileName:j,lineNumber:95,columnNumber:29}})),y.a.createElement(d.a.Item,{label:"是否凶手",field:"".concat(e.field,".is_murderer"),rules:[{required:!0}],noStyle:!0,__source:{fileName:j,lineNumber:97,columnNumber:27}},y.a.createElement(i.a,{placeholder:"是否凶手",__source:{fileName:j,lineNumber:103,columnNumber:29}},y.a.createElement(i.a.Option,{value:"1",__source:{fileName:j,lineNumber:104,columnNumber:31}},"是"),y.a.createElement(i.a.Option,{value:"0",__source:{fileName:j,lineNumber:105,columnNumber:31}},"否"))),y.a.createElement(d.a.Item,{label:"角色封面",field:"".concat(e.field,".role_cover"),rules:[{required:!0}],noStyle:!0,__source:{fileName:j,lineNumber:108,columnNumber:27}},y.a.createElement(s.a,{placeholder:"角色封面",__source:{fileName:j,lineNumber:122,columnNumber:29}})),y.a.createElement(b.a,{icon:y.a.createElement(o.a,{__source:{fileName:j,lineNumber:142,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return a(r)},__source:{fileName:j,lineNumber:141,columnNumber:27}}))))})),y.a.createElement(d.a.Item,{__source:{fileName:j,lineNumber:152,columnNumber:17}},y.a.createElement(b.a,{onClick:function(){l()},__source:{fileName:j,lineNumber:153,columnNumber:19}},"添加角色")))})),y.a.createElement(w,{style:{width:"100%"},__source:{fileName:j,lineNumber:165,columnNumber:9}},y.a.createElement(k,{span:24,__source:{fileName:j,lineNumber:166,columnNumber:11}},y.a.createElement(C,{style:{display:"flex",justifyContent:"flex-end"},__source:{fileName:j,lineNumber:167,columnNumber:13}},y.a.createElement(m.a,{__source:{fileName:j,lineNumber:168,columnNumber:15}},y.a.createElement(b.a,{onClick:u()(v.a.mark((function e(){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=16;break}return e.prev=1,e.next=4,l.current.validate();case 4:return e.next=6,l.current.validate();case 6:return(r=e.sent).gb_code=c.gb_code,e.next=10,Object(x.q)(r);case 10:200===e.sent.code&&n.a.info("提交成功！"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,null,[[1,14]])}))),type:"primary",__source:{fileName:j,lineNumber:169,columnNumber:17}},"提交"),y.a.createElement(b.a,{onClick:function(){l.current.resetFields()},__source:{fileName:j,lineNumber:189,columnNumber:17}},"重置")))))))}},175:function(e,r,l){"use strict";l.r(r),l.d(r,"default",(function(){return B}));l(342);var a=l(276),t=(l(153),l(69)),n=(l(150),l(79)),c=(l(77),l(30)),u=(l(149),l(52)),m=(l(621),l(622)),o=(l(595),l(596)),i=(l(619),l(618)),s=(l(624),l(626)),b=(l(307),l(227)),N=(l(225),l(89)),f=(l(148),l(51)),_=l(4),d=l.n(_),p=l(78),E=l.n(p),v=l(24),g=l.n(v),y=l(600),O=l.n(y),x=(l(336),l(218)),h=(l(228),l(154)),j=(l(306),l(104)),w=l(53),k=l.n(w),C=l(0),P=l.n(C),D=l(32),S=l(580),I=l.n(S),q=l(224),R=l(166),F=l(165),M="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/DramaDetail/index.tsx";function Z(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,a)}return l}function A(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?Z(Object(l),!0).forEach((function(r){d()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Z(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}var V=j.a.Item,T=h.a.Row,H=h.a.Col,L=x.a.TabPane;function B(e){O()(e);var r=Object(C.useRef)(),l=Object(C.useState)([]),_=g()(l,2),d=_[0],p=_[1],v=Object(C.useState)([]),y=g()(v,2),h=y[0],w=y[1],S=Object(C.useState)(!1),Z=g()(S,2),B=Z[0],U=Z[1],z=Object(C.useState)([]),W=g()(z,2),J=W[0],X=W[1],G=Object(C.useState)([]),K=g()(G,2),Q=K[0],Y=K[1],$=Object(C.useState)([]),ee=g()($,2),re=ee[0],le=ee[1],ae=Object(C.useState)([]),te=g()(ae,2),ne=te[0],ce=te[1],ue=Object(D.c)((function(e){return e.myState})),me=ue.labelData,oe=ue.clickItem;Object(C.useEffect)((function(){for(var e=0;e<me.length;e++){var r=me[e];"app_gb_type"===r.dict_code&&X(r.dict_label),"app_gb_level"===r.dict_code&&Y(r.dict_label),"app_gb_text_tag"===r.dict_code&&le(r.dict_label),"app_gb_status"===r.dict_code&&ce(r.dict_label)}}),[]),Object(C.useEffect)((function(){ie()}),[]);var ie=function(){var e=E()(k.a.mark((function e(){var l,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,Object(q.i)({gb_code:oe.gb_code});case 3:l=e.sent,a=l.data,console.log("data: ",a),U(!1),p(a.drama_roles),w(a.drama_dms),r.current.setFieldsValue(A(A({},a),{},{gb_star_lev:a.gb_star_lev/2,gb_cover:[{uid:"1",url:a.gb_cover,name:"20200717"}]}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return P.a.createElement("div",{className:I.a.AllContanier,__source:{fileName:M,lineNumber:94,columnNumber:5}},P.a.createElement("div",{className:I.a.myDetail,__source:{fileName:M,lineNumber:95,columnNumber:7}},P.a.createElement(x.a,{__source:{fileName:M,lineNumber:96,columnNumber:9}},P.a.createElement(L,{key:"1",title:"剧本基础信息",__source:{fileName:M,lineNumber:97,columnNumber:11}},P.a.createElement("div",{className:I.a.myDetail_form,__source:{fileName:M,lineNumber:98,columnNumber:13}},P.a.createElement(t.a,{loading:B,style:{width:"100%"},__source:{fileName:M,lineNumber:99,columnNumber:15}},P.a.createElement("div",{__source:{fileName:M,lineNumber:100,columnNumber:17}},P.a.createElement(j.a,{ref:r,onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:M,lineNumber:101,columnNumber:19}},P.a.createElement(T,{className:"grid-demo",style:{marginBottom:10},__source:{fileName:M,lineNumber:102,columnNumber:21}},P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:103,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:104,columnNumber:25}},P.a.createElement(V,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:M,lineNumber:105,columnNumber:27}},P.a.createElement(f.a,{placeholder:"请填写剧本名称...",__source:{fileName:M,lineNumber:110,columnNumber:29}})))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:114,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:115,columnNumber:25}},P.a.createElement(V,{label:"剧本类型",field:"gb_type",rules:[{required:!0,message:"请填写剧本类型"}],__source:{fileName:M,lineNumber:116,columnNumber:27}},P.a.createElement(N.a,{placeholder:"请选择剧本类型",__source:{fileName:M,lineNumber:121,columnNumber:29}},null==J?void 0:J.map((function(e){return P.a.createElement(N.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:M,lineNumber:124,columnNumber:35}},e.label_zh)})))))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:133,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:134,columnNumber:25}},P.a.createElement(V,{label:"剧本难度",field:"gb_level",rules:[{required:!0,message:"请选中剧本难度"}],__source:{fileName:M,lineNumber:135,columnNumber:27}},P.a.createElement(N.a,{placeholder:"请选择剧本难度",__source:{fileName:M,lineNumber:140,columnNumber:29}},null==Q?void 0:Q.map((function(e){return P.a.createElement(N.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:M,lineNumber:143,columnNumber:35}},e.label_zh)}))))))),P.a.createElement(T,{__source:{fileName:M,lineNumber:153,columnNumber:21}},P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:154,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:155,columnNumber:25}},P.a.createElement(V,{label:"玩家人数",field:"gb_people",rules:[{required:!0,message:"请填写玩家说明"}],__source:{fileName:M,lineNumber:156,columnNumber:27}},P.a.createElement(b.a,{placeholder:"请填写玩家说明...",__source:{fileName:M,lineNumber:161,columnNumber:29}})))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:165,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:166,columnNumber:25}}," ",P.a.createElement(V,{label:"剧本状态",field:"gb_status",rules:[{required:!1,message:"请选择剧本状态"}],__source:{fileName:M,lineNumber:168,columnNumber:27}},P.a.createElement(N.a,{placeholder:"请选择剧本状态",__source:{fileName:M,lineNumber:173,columnNumber:29}},null==ne?void 0:ne.map((function(e){return P.a.createElement(N.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:M,lineNumber:176,columnNumber:35}},e.label_zh)})))))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:185,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:186,columnNumber:25}},P.a.createElement(V,{label:"玩家说明",field:"gb_people_note",rules:[{required:!0,message:"请填写玩家说明"}],__source:{fileName:M,lineNumber:187,columnNumber:27}},P.a.createElement(f.a,{placeholder:"请填写玩家说明...",__source:{fileName:M,lineNumber:192,columnNumber:29}}))))),P.a.createElement(T,{__source:{fileName:M,lineNumber:197,columnNumber:21}},P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:198,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:199,columnNumber:25}},P.a.createElement(V,{label:"剧本标签",field:"gb_text_tag_arr",rules:[{required:!0,message:"请选择剧本标签"}],__source:{fileName:M,lineNumber:200,columnNumber:27}},P.a.createElement(N.a,{mode:"multiple",allowClear:!0,placeholder:"请选择剧本标签",__source:{fileName:M,lineNumber:205,columnNumber:29}},null==re?void 0:re.map((function(e){return P.a.createElement(N.a.Option,{key:e.label_value,value:e.label_value,__source:{fileName:M,lineNumber:208,columnNumber:35}},e.label_zh)})))))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:217,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:218,columnNumber:25}},P.a.createElement(V,{label:"剧本时长/小时",field:"gb_hour",rules:[{type:"number",required:!0}],__source:{fileName:M,lineNumber:219,columnNumber:27}},P.a.createElement(b.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:M,lineNumber:224,columnNumber:29}})))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:228,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:229,columnNumber:25}},P.a.createElement(V,{label:"工作日价格",field:"gb_price",rules:[{type:"number",required:!0}],__source:{fileName:M,lineNumber:230,columnNumber:27}},P.a.createElement(b.a,{min:1,placeholder:"请输入工作日价格",__source:{fileName:M,lineNumber:235,columnNumber:29}}))))),P.a.createElement(T,{__source:{fileName:M,lineNumber:240,columnNumber:21}},P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:241,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:242,columnNumber:25}},P.a.createElement(V,{label:"周末价格",field:"gb_price2",rules:[{type:"number",required:!0}],__source:{fileName:M,lineNumber:243,columnNumber:27}},P.a.createElement(b.a,{min:1,placeholder:"请输入工作日价格",__source:{fileName:M,lineNumber:248,columnNumber:29}})))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:252,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:253,columnNumber:25}},P.a.createElement(V,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!0,type:"number"}],__source:{fileName:M,lineNumber:254,columnNumber:27}},P.a.createElement(s.a,{allowHalf:!0,__source:{fileName:M,lineNumber:264,columnNumber:29}})))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:268,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:269,columnNumber:25}},P.a.createElement(V,{label:"上架时间",field:"gb_add_time",rules:[{required:!1,message:"gb_add_time is required"}],__source:{fileName:M,lineNumber:270,columnNumber:27}},P.a.createElement(i.a,{showTime:!0,__source:{fileName:M,lineNumber:280,columnNumber:29}}))))),P.a.createElement(T,{__source:{fileName:M,lineNumber:285,columnNumber:21}},P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:286,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:287,columnNumber:25}},P.a.createElement(V,{label:"剧本概要",field:"gb_text_brief",rules:[{required:!0,message:"请填写剧本概要"}],__source:{fileName:M,lineNumber:288,columnNumber:27}},P.a.createElement(f.a.TextArea,{rows:5,placeholder:"请填写剧本概要...",__source:{fileName:M,lineNumber:293,columnNumber:29}})))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:297,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:298,columnNumber:25}},P.a.createElement(V,{label:"剧本描述",field:"gb_text_content",rules:[{required:!1,message:"请填写剧本描述"}],__source:{fileName:M,lineNumber:299,columnNumber:27}},P.a.createElement(f.a.TextArea,{rows:5,placeholder:"请填写剧本描述...",__source:{fileName:M,lineNumber:304,columnNumber:29}})))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:308,columnNumber:23}},P.a.createElement(V,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:M,lineNumber:309,columnNumber:25}},P.a.createElement(f.a.TextArea,{rows:5,placeholder:"请填写版权信息...",__source:{fileName:M,lineNumber:314,columnNumber:27}})))),P.a.createElement(T,{__source:{fileName:M,lineNumber:320,columnNumber:21}},P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:321,columnNumber:23}}," ",P.a.createElement(V,{label:"是否新本",field:"is_new",rules:[{required:!1,message:"是否新本"}],__source:{fileName:M,lineNumber:323,columnNumber:25}},P.a.createElement(N.a,{placeholder:"是否新本",__source:{fileName:M,lineNumber:328,columnNumber:27}},P.a.createElement(N.a.Option,{value:1,__source:{fileName:M,lineNumber:329,columnNumber:29}},"是"),P.a.createElement(N.a.Option,{value:0,__source:{fileName:M,lineNumber:330,columnNumber:29}},"否")))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:334,columnNumber:23}},P.a.createElement(V,{label:"是否热门",field:"is_hot",rules:[{required:!1,message:"是否热门"}],__source:{fileName:M,lineNumber:335,columnNumber:25}},P.a.createElement(N.a,{placeholder:"是否热门",__source:{fileName:M,lineNumber:340,columnNumber:27}},P.a.createElement(N.a.Option,{value:1,__source:{fileName:M,lineNumber:341,columnNumber:29}},"是"),P.a.createElement(N.a.Option,{value:0,__source:{fileName:M,lineNumber:342,columnNumber:29}},"否")))),P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:346,columnNumber:23}},P.a.createElement(V,{label:"备注说明",field:"gb_remarks",rules:[{required:!1,message:"请填写备注说明"}],__source:{fileName:M,lineNumber:347,columnNumber:25}},P.a.createElement(f.a,{placeholder:"请填写备注说明...",__source:{fileName:M,lineNumber:352,columnNumber:27}})))),P.a.createElement(T,{__source:{fileName:M,lineNumber:356,columnNumber:21}},P.a.createElement(H,{xs:24,sm:12,md:12,lg:8,xl:8,xxl:8,__source:{fileName:M,lineNumber:357,columnNumber:23}},P.a.createElement(j.a.Item,{rules:[{required:!0,message:"请上传剧本封面"}],label:"剧本封面",field:"gb_cover",triggerPropName:"fileList",__source:{fileName:M,lineNumber:358,columnNumber:25}},P.a.createElement(m.a,{limit:1,name:"gb_cover",customRequest:function(e){var r=e.onProgress,l=e.onError,a=e.onSuccess,t=e.file,n=new XMLHttpRequest;n.upload&&(n.upload.onprogress=function(e){var l;e.total>0&&(l=e.loaded/e.total*100),r(parseInt(l,10),e)}),n.onerror=function(e){l(e)},n.onload=function(){n.status<200||n.status,a(JSON.parse(n.responseText))};var c=new FormData;c.append("up_file",t),c.append("module","drama"),n.open("post","https://gbs.toptian.com/system/upload/image",!0),n.setRequestHeader("Authorization",localStorage.getItem("token")),n.send(c)},onPreview:function(e){o.a.info({title:"Preview",content:P.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:M,lineNumber:399,columnNumber:35}})})},__source:{fileName:M,lineNumber:364,columnNumber:27}})))),P.a.createElement(T,{__source:{fileName:M,lineNumber:411,columnNumber:21}},P.a.createElement(H,{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},span:24,__source:{fileName:M,lineNumber:412,columnNumber:23}},P.a.createElement("div",{__source:{fileName:M,lineNumber:420,columnNumber:25}},P.a.createElement(V,{__source:{fileName:M,lineNumber:421,columnNumber:27}},P.a.createElement(n.a,{__source:{fileName:M,lineNumber:422,columnNumber:29}},P.a.createElement(c.a,{onClick:E()(k.a.mark((function e(){var l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.current){e.next=19;break}return e.prev=1,e.next=4,r.current.validate();case 4:return console.log(r.current.getFields()),(l=r.current.getFields()).gb_cover=l.gb_cover[0].url||l.gb_cover[0].response.data.file_url,l.gb_star_lev=2*l.gb_star_lev,e.next=10,Object(q.k)(l);case 10:200===e.sent.code&&(u.a.success("修改成功"),ie()),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),console.log("formRef.current.getFieldsError()",r.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 19:case"end":return e.stop()}}),e,null,[[1,14]])}))),type:"primary",__source:{fileName:M,lineNumber:423,columnNumber:31}},"提交"),P.a.createElement(c.a,{onClick:function(){var e;null==r||null===(e=r.current)||void 0===e||e.resetFields()},__source:{fileName:M,lineNumber:454,columnNumber:31}},"重置"))))))))))),P.a.createElement(L,{key:"2",title:"剧本角色",__source:{fileName:M,lineNumber:471,columnNumber:11}},P.a.createElement(R.default,{role_array:d,__source:{fileName:M,lineNumber:472,columnNumber:13}})),P.a.createElement(L,{key:"3",title:"剧本DM",__source:{fileName:M,lineNumber:474,columnNumber:11}},P.a.createElement(F.default,{drama_dms:h,__source:{fileName:M,lineNumber:475,columnNumber:13}})))),P.a.createElement(a.a,{__source:{fileName:M,lineNumber:479,columnNumber:7}}))}},580:function(e,r,l){e.exports={AllContanier:"AllContanier-79759144e9",myDetail:"myDetail-574c8bfd74",otherDetail:"otherDetail-40348ddf1f"}},600:function(e,r){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.exports.__esModule=!0,e.exports.default=e.exports},624:function(e,r,l){"use strict";l(16),l(106),l(631)},626:function(e,r,l){"use strict";var a=l(0),t=l.n(a),n=l(208),c=l(1),u=l(5),m=l.n(u),o=l(4),i=l.n(o),s=l(6);function b(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,a)}return l}function N(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?b(Object(l),!0).forEach((function(r){i()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):b(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}function f(e,r){var l=Object(a.useContext)(s.a).prefixCls,n=e.spin,c=e.className,u=N(N({ref:r},e),{},{className:"".concat(c?c+" ":"").concat(l,"-icon ").concat(l,"-icon-star-fill")});return n&&(u.className="".concat(u.className," ").concat(l,"-icon-loading")),delete u.spin,delete u.isIcon,t.a.createElement("svg",m()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},u),t.a.createElement("path",{fill:"currentColor",stroke:"none",d:"M22.683 5.415c.568-1.043 2.065-1.043 2.634 0l5.507 10.098a1.5 1.5 0 0 0 1.04.756l11.306 2.117c1.168.219 1.63 1.642.814 2.505l-7.902 8.359a1.5 1.5 0 0 0-.397 1.223l1.48 11.407c.153 1.177-1.058 2.057-2.131 1.548l-10.391-4.933a1.5 1.5 0 0 0-1.287 0l-10.39 4.933c-1.073.51-2.284-.37-2.131-1.548l1.48-11.407a1.5 1.5 0 0 0-.398-1.223L4.015 20.89c-.816-.863-.353-2.286.814-2.505l11.306-2.117a1.5 1.5 0 0 0 1.04-.756l5.508-10.098Z"}))}var _=t.a.forwardRef(f);_.defaultProps={isIcon:!0},_.displayName="IconStarFill";var d=_;function p(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,a)}return l}function E(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?p(Object(l),!0).forEach((function(r){i()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):p(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}function v(e,r){var l=Object(a.useContext)(s.a).prefixCls,n=e.spin,c=e.className,u=E(E({ref:r},e),{},{className:"".concat(c?c+" ":"").concat(l,"-icon ").concat(l,"-icon-face-meh-fill")});return n&&(u.className="".concat(u.className," ").concat(l,"-icon-loading")),delete u.spin,delete u.isIcon,t.a.createElement("svg",m()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},u),t.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm7.321-26.873a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-14.646 0a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25ZM15.999 30a2 2 0 0 1 2-2h12a2 2 0 1 1 0 4H18a2 2 0 0 1-2-2Z",clipRule:"evenodd"}))}var g=t.a.forwardRef(v);g.defaultProps={isIcon:!0},g.displayName="IconFaceMehFill";var y=g;function O(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,a)}return l}function x(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?O(Object(l),!0).forEach((function(r){i()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):O(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}function h(e,r){var l=Object(a.useContext)(s.a).prefixCls,n=e.spin,c=e.className,u=x(x({ref:r},e),{},{className:"".concat(c?c+" ":"").concat(l,"-icon ").concat(l,"-icon-face-smile-fill")});return n&&(u.className="".concat(u.className," ").concat(l,"-icon-loading")),delete u.spin,delete u.isIcon,t.a.createElement("svg",m()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},u),t.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm7.321-26.873a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-14.646 0a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-.355 9.953a1.91 1.91 0 0 1 2.694.177 6.66 6.66 0 0 0 5.026 2.279c1.918 0 3.7-.81 4.961-2.206a1.91 1.91 0 0 1 2.834 2.558 10.476 10.476 0 0 1-7.795 3.466 10.477 10.477 0 0 1-7.897-3.58 1.91 1.91 0 0 1 .177-2.694Z",clipRule:"evenodd"}))}var j=t.a.forwardRef(h);j.defaultProps={isIcon:!0},j.displayName="IconFaceSmileFill";var w=j;function k(e,r){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),l.push.apply(l,a)}return l}function C(e){for(var r=1;r<arguments.length;r++){var l=null!=arguments[r]?arguments[r]:{};r%2?k(Object(l),!0).forEach((function(r){i()(e,r,l[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):k(Object(l)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(l,r))}))}return e}function P(e,r){var l=Object(a.useContext)(s.a).prefixCls,n=e.spin,c=e.className,u=C(C({ref:r},e),{},{className:"".concat(c?c+" ":"").concat(l,"-icon ").concat(l,"-icon-face-frown-fill")});return n&&(u.className="".concat(u.className," ").concat(l,"-icon-loading")),delete u.spin,delete u.isIcon,t.a.createElement("svg",m()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},u),t.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm7.322-26.873a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-14.646 0a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25ZM31.68 32.88a1.91 1.91 0 0 1-2.694-.176 6.66 6.66 0 0 0-5.026-2.28c-1.918 0-3.701.81-4.962 2.207a1.91 1.91 0 0 1-2.834-2.559 10.476 10.476 0 0 1 7.796-3.465c3.063 0 5.916 1.321 7.896 3.58a1.909 1.909 0 0 1-.176 2.693Z",clipRule:"evenodd"}))}var D=t.a.forwardRef(P);D.defaultProps={isIcon:!0},D.displayName="IconFaceFrownFill";var S=D,I=l(3),q=l(33),R=l(11),F=l(9),M=function(){return(M=Object.assign||function(e){for(var r,l=1,a=arguments.length;l<a;l++)for(var t in r=arguments[l])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}).apply(this,arguments)},Z=function(e,r){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(a=Object.getOwnPropertySymbols(e);t<a.length;t++)r.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(e,a[t])&&(l[a[t]]=e[a[t]])}return l},A=function(e,r){var l="function"==typeof Symbol&&e[Symbol.iterator];if(!l)return e;var a,t,n=l.call(e),c=[];try{for(;(void 0===r||r-- >0)&&!(a=n.next()).done;)c.push(a.value)}catch(e){t={error:e}}finally{try{a&&!a.done&&(l=n.return)&&l.call(n)}finally{if(t)throw t.error}}return c};n.a.enableBoundaryChecking(!1);var V={character:t.a.createElement(d,null),count:5};var T=t.a.forwardRef((function(e,r){var l,u=this,m=Object(a.useContext)(I.a),o=m.getPrefixCls,i=m.componentConfig,s=Object(F.a)(e,V,null==i?void 0:i.Rate),b=s.style,N=void 0===b?{}:b,f=s.className,_=s.defaultValue,d=s.character,p=s.count,E=s.value,v=s.tooltips,g=s.allowHalf,O=s.allowClear,x=s.readonly,h=s.disabled,j=s.grading,k=s.onChange,C=s.onHoverChange,P=Z(s,["style","className","defaultValue","character","count","value","tooltips","allowHalf","allowClear","readonly","disabled","grading","onChange","onHoverChange"]),D=A(Object(a.useState)(_||E||0),2),T=D[0],H=D[1],L=A(Object(a.useState)(0),2),B=L[0],U=L[1],z=A(Object(a.useState)(),2),W=z[0],J=z[1],X=o("rate"),G=Object(c.a)(X,((l={})[X+"-readonly"]=x,l[X+"-disabled"]=h,l),f),K="value"in s?E:T,Q=function(){B&&(U(0),C&&C(0))},Y=function(e,r){var l=r&&g?e+.5:e+1;l!==B&&(U(l),C&&C(l))},$=function(e,r){var l=r&&g?e+.5:e+1;J(!0),l!==K?(H(l),k&&k(l)):O&&(H(0),k&&k(0),Q())};return t.a.createElement("div",M({ref:r},Object(R.a)(P,["error"]),{style:N,className:G,onMouseLeave:Q}),t.a.createElement("div",{className:X+"-inner"},Array.apply(null,Array(j?5:p)).map((function(e,r){return function(e){var r,l=g?n.a.times(+n.a.divide(K||0,.5).toFixed(0),.5):Math.round(K),a=B||l,m="function"==typeof d?d(e):d;j&&(m=a<=2?t.a.createElement(S,null):a<=3?t.a.createElement(y,null):t.a.createElement(w,null),a<=e&&(m=t.a.createElement(y,null)));var o=Object(c.a)(X+"-character",((r={})[X+"-character-half"]=g&&e+.5===a,r[X+"-character-full"]=e+1<=a,r[X+"-character-scale"]=W&&e+1<K,r)),i=x||h?{}:{onMouseEnter:Y.bind(u,e,!0),onClick:$.bind(u,e,!0)},s=x||h?{}:{onMouseEnter:Y.bind(u,e,!1),onClick:$.bind(u,e,!1)},b=v&&v[e],N=b?q.a:t.a.Fragment,f=b?{content:b}:{};return t.a.createElement(N,M({key:e},f),t.a.createElement("div",{className:o,style:W?{animationDelay:50*e+"ms"}:{},onAnimationEnd:function(){W&&e+1>=K-1&&J(!1)}},t.a.createElement("div",M({className:X+"-character-left"},i),m),t.a.createElement("div",M({className:X+"-character-right"},s),m)))}(r)}))))}));T.displayName="Rate";r.a=T},631:function(e,r,l){}}]);