(window.webpackJsonp=window.webpackJsonp||[]).push([[35,114],{166:function(e,r,l){"use strict";l.r(r),l.d(r,"default",(function(){return x}));l(77);var a=l(30),n=(l(148),l(52)),u=l(78),m=l.n(u),t=(l(642),l(641)),c=(l(647),l(648)),o=(l(232),l(152)),i=(l(149),l(53)),s=l(24),N=l.n(s),b=(l(311),l(104)),_=l(51),f=l.n(_),d=l(0),p=l.n(d),E=l(589),g=l.n(E),h=l(229),w="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-store/storeDetail/baseDetail/index.tsx";function x(e){var r=e.storeDetailInfo,l=e.closeDrawer,u=e.modalType,s=b.a.Item,_=Object(d.useRef)(),E=Object(d.useState)([]),x=N()(E,2),y=x[0],v=x[1];return Object(d.useEffect)((function(){Object(h.r)().then((function(e){var r,l=e.data;r=l.map((function(e){return function e(r){var l=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:l?r.region_children.map((function(r){return e(r)})):[]}}(e)})),v(r)}))}),[]),Object(d.useEffect)((function(){"edit"===u&&_.current.setFieldsValue(r)}),[r]),p.a.createElement("div",{__source:{fileName:w,lineNumber:36,columnNumber:5}},p.a.createElement(b.a,{layout:"vertical",ref:_,className:g.a["form-group"],__source:{fileName:w,lineNumber:37,columnNumber:7}},p.a.createElement(o.a.Row,{gutter:80,__source:{fileName:w,lineNumber:38,columnNumber:9}},p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:39,columnNumber:11}},p.a.createElement(s,{label:"店铺名称",field:"store_name",rules:[{required:!0,message:"请填写店铺名称"}],__source:{fileName:w,lineNumber:40,columnNumber:13}},p.a.createElement(i.a,{placeholder:"请填写店铺名称...",__source:{fileName:w,lineNumber:45,columnNumber:15}}))),p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:48,columnNumber:11}},p.a.createElement(s,{field:"position_index",label:"店铺地区",__source:{fileName:w,lineNumber:49,columnNumber:13}},p.a.createElement(c.a,{showSearch:!0,placeholder:"please select",allowClear:!0,options:y,__source:{fileName:w,lineNumber:50,columnNumber:15}}))),p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:58,columnNumber:11}},p.a.createElement(s,{label:"门店类型",field:"store_type",rules:[{required:!1,message:"请填写门店类型"}],__source:{fileName:w,lineNumber:59,columnNumber:13}},p.a.createElement(i.a,{placeholder:"请填写门店类型...",__source:{fileName:w,lineNumber:64,columnNumber:15}}))),p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:67,columnNumber:11}},p.a.createElement(s,{label:"门店级别",field:"store_level",rules:[{required:!1,message:"请填写门店级别"}],__source:{fileName:w,lineNumber:68,columnNumber:13}},p.a.createElement(i.a,{placeholder:"请填写门店级别...",__source:{fileName:w,lineNumber:73,columnNumber:15}})))),p.a.createElement(o.a.Row,{gutter:80,__source:{fileName:w,lineNumber:77,columnNumber:9}},p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:78,columnNumber:11}},p.a.createElement(s,{label:"开业日期",field:"open_date",rules:[{required:!0,message:"请填写开业日期"}],__source:{fileName:w,lineNumber:79,columnNumber:13}},p.a.createElement(t.a,{showTime:!0,__source:{fileName:w,lineNumber:89,columnNumber:15}}))),p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:92,columnNumber:11}},p.a.createElement(s,{label:"详细地址",field:"position_address",rules:[{required:!0,message:"请填写详细地址"}],__source:{fileName:w,lineNumber:93,columnNumber:13}},p.a.createElement(i.a,{placeholder:"请填写详细地址...",__source:{fileName:w,lineNumber:98,columnNumber:15}}))),p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:101,columnNumber:11}},p.a.createElement(s,{label:"经度坐标",field:"position_x",rules:[{required:!1,message:"请填写经度坐标"}],__source:{fileName:w,lineNumber:102,columnNumber:13}},p.a.createElement(i.a,{placeholder:"请填写经度坐标...",__source:{fileName:w,lineNumber:107,columnNumber:15}}))),p.a.createElement(o.a.Col,{span:6,__source:{fileName:w,lineNumber:110,columnNumber:11}},p.a.createElement(s,{label:"纬度坐标",field:"position_y",rules:[{required:!1,message:"请填写纬度坐标"}],__source:{fileName:w,lineNumber:111,columnNumber:13}},p.a.createElement(i.a,{placeholder:"请填写纬度坐标...",__source:{fileName:w,lineNumber:116,columnNumber:15}})))),p.a.createElement(o.a.Row,{justify:"end",__source:{fileName:w,lineNumber:120,columnNumber:9}},p.a.createElement(s,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},__source:{fileName:w,lineNumber:121,columnNumber:11}},p.a.createElement(a.a,{onClick:m()(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.current){e.next=26;break}return e.prev=1,e.next=4,_.current.validate();case 4:if("add"!==u){e.next=12;break}return console.log(_.current.getFields()),e.next=8,Object(h.h)(_.current.getFields());case 8:200===e.sent.code&&(n.a.success("添加成功"),l()),e.next=19;break;case 12:return a=_.current.getFields(),console.log("param: ",a),a.store_code=r.store_code,e.next=17,Object(h.B)(a);case 17:200===e.sent.code&&(n.a.success("修改成功"),l());case 19:e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),console.log(_.current.getFieldsError()),n.a.error("校验失败，请检查字段！");case 26:case"end":return e.stop()}}),e,null,[[1,21]])}))),type:"primary",style:{marginRight:24},__source:{fileName:w,lineNumber:129,columnNumber:13}},"提交"),p.a.createElement(a.a,{onClick:function(){_.current.resetFields()},__source:{fileName:w,lineNumber:163,columnNumber:13}},"重置")))))}},589:function(e,r,l){}}]);