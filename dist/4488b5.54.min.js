(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{322:function(e,r,n){"use strict";n.r(r),n.d(r,"default",(function(){return w}));var t=n(5),a=n.n(t),c=(n(148),n(52)),o=(n(150),n(79)),l=(n(77),n(30)),u=n(620),m=(n(230),n(89)),i=n(78),s=n.n(i),f=n(24),b=n.n(f),N=(n(311),n(104)),p=n(51),_=n.n(p),d=n(0),v=n.n(d),E=n(229),h="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-store/storeDetail/staffDetail/roomform.jsx",O=N.a.Item,g={labelCol:{span:5},wrapperCol:{span:17}},y={wrapperCol:{span:17,offset:5}};function w(e){var r=e.store_code,n=(e.modalType,e.closeModal),t=Object(d.useRef)(),i=Object(d.useState)([]),f=b()(i,2),p=f[0],w=f[1],j=Object(d.useState)([]),k=b()(j,2),C=k[0],x=k[1];Object(d.useEffect)((function(){I()}),[]);var I=function(){var e=s()(_.a.mark((function e(){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.o)();case 2:r=e.sent,w(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){JSON.parse(localStorage.getItem("dicts")).forEach((function(e){"store_user_role"===e.dict_code&&x(e.dict_label)}))}),[]);return v.a.createElement("div",{__source:{fileName:h,lineNumber:48,columnNumber:5}},v.a.createElement(N.a,a()({ref:t},g,{onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:h,lineNumber:49,columnNumber:7}}),v.a.createElement(N.a.List,{field:"user_array",__source:{fileName:h,lineNumber:50,columnNumber:9}},(function(e,r){var n=r.add,t=r.remove;r.move;return v.a.createElement("div",{__source:{fileName:h,lineNumber:53,columnNumber:15}},e.map((function(e,r){return v.a.createElement("div",{key:e.key,__source:{fileName:h,lineNumber:56,columnNumber:21}},v.a.createElement(N.a.Item,{label:"店员"+(r+1),__source:{fileName:h,lineNumber:57,columnNumber:23}},v.a.createElement(o.a,{__source:{fileName:h,lineNumber:58,columnNumber:25}},v.a.createElement(N.a.Item,{field:e.field+".user_account",rules:[{required:!0}],noStyle:!0,__source:{fileName:h,lineNumber:59,columnNumber:27}},v.a.createElement(m.a,{placeholder:"请选择账号",__source:{fileName:h,lineNumber:64,columnNumber:29}},null==p?void 0:p.map((function(e){var r=e.user_account,n=e.user_name;return v.a.createElement(m.a.Option,{value:r,key:r,__source:{fileName:h,lineNumber:67,columnNumber:35}},n)})))),v.a.createElement(N.a.Item,{field:e.field+".user_role",rules:[{required:!0}],noStyle:!0,__source:{fileName:h,lineNumber:74,columnNumber:27}},v.a.createElement(m.a,{placeholder:"请选择角色编码...",__source:{fileName:h,lineNumber:79,columnNumber:29}},null==C?void 0:C.map((function(e){var r=e.label_zh,n=e.label_value;return v.a.createElement(m.a.Option,{value:n,key:n,__source:{fileName:h,lineNumber:82,columnNumber:35}},r)})))),v.a.createElement(l.a,{icon:v.a.createElement(u.a,{__source:{fileName:h,lineNumber:90,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return t(r)},__source:{fileName:h,lineNumber:89,columnNumber:27}}))))})),v.a.createElement(N.a.Item,{wrapperCol:{offset:5},__source:{fileName:h,lineNumber:100,columnNumber:17}},v.a.createElement(l.a,{onClick:function(){n()},__source:{fileName:h,lineNumber:101,columnNumber:19}},"添加店员")))})),v.a.createElement(O,a()({},y,{__source:{fileName:h,lineNumber:161,columnNumber:9}}),v.a.createElement(l.a,{onClick:s()(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=18;break}return e.prev=1,e.next=4,t.current.validate();case 4:return(a=t.current.getFields()).store_code=r,console.log(a),e.next=9,Object(E.v)(a);case 9:200===e.sent.code&&(c.a.info("修改成功！"),n()),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),console.log(t.current.getFieldsError()),c.a.error("校验失败，请检查字段！");case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),type:"primary",style:{marginRight:24},__source:{fileName:h,lineNumber:162,columnNumber:11}},"提交"),v.a.createElement(l.a,{onClick:function(){t.current.resetFields()},__source:{fileName:h,lineNumber:187,columnNumber:11}},"重置"))))}},620:function(e,r,n){"use strict";var t=n(5),a=n.n(t),c=n(4),o=n.n(c),l=n(0),u=n.n(l),m=n(6);function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){o()(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function f(e,r){var n=Object(l.useContext)(m.a).prefixCls,t=e.spin,c=e.className,o=s(s({ref:r},e),{},{className:"".concat(c?c+" ":"").concat(n,"-icon ").concat(n,"-icon-delete")});return t&&(o.className="".concat(o.className," ").concat(n,"-icon-loading")),delete o.spin,delete o.isIcon,u.a.createElement("svg",a()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},o),u.a.createElement("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"}))}var b=u.a.forwardRef(f);b.defaultProps={isIcon:!0},b.displayName="IconDelete",r.a=b}}]);