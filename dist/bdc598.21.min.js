(window.webpackJsonp=window.webpackJsonp||[]).push([[21,52],{282:function(e,r,t){"use strict";t.r(r);t(76);var a=t(27),n=(t(200),t(91)),o=(t(277),t(204)),l=(t(207),t(193)),m=(t(272),t(106)),c=(t(147),t(48)),u=(t(150),t(59)),i=(t(148),t(58)),s=t(5),b=t.n(s),f=t(23),p=t.n(f),N=t(0),_=t.n(N),d=t(31),y=t(89),O=t.n(y),g=t(50),E=t(32),j=t(521),w=t.n(j),v="/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/service.tsx";function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){b()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.default=function(){var e=Object(E.a)(),r=Object(d.c)((function(e){return e.stepForm})),t=Object(d.b)(),s=r.data,b=Object(N.useRef)(),f=Object(N.useState)(!1),y=p()(f,2),j=y[0],h=y[1];return Object(N.useEffect)((function(){b.current.setFieldsValue(s)}),[s]),Object(N.useEffect)((function(){return function(){var e,r=(null===(e=b.current)||void 0===e?void 0:e.getFieldsValue())||{};t({type:g.UPDATE_FORM,payload:{data:r}})}}),[]),_.a.createElement(m.a,{ref:b,className:w.a.form,labelCol:{span:5},wrapperCol:{span:19},__source:{fileName:v,lineNumber:71,columnNumber:5}},_.a.createElement(u.a.Title,{style:{marginTop:0,marginBottom:16},heading:6,__source:{fileName:v,lineNumber:72,columnNumber:7}},e["stepForm.form.title.upstream"]),_.a.createElement(m.a.Item,{label:"P.S.M",extra:e["stepForm.form.extra.psm"],required:!0,__source:{fileName:v,lineNumber:75,columnNumber:7}},_.a.createElement(l.a.Row,{align:"center",justify:"space-around",gutter:8,__source:{fileName:v,lineNumber:76,columnNumber:9}},_.a.createElement(l.a.Col,{span:16,__source:{fileName:v,lineNumber:77,columnNumber:11}},_.a.createElement(m.a.Item,{field:"psm",rules:[{required:!0,message:e["stepForm.form.error.psm.required"]}],style:{marginBottom:0},__source:{fileName:v,lineNumber:78,columnNumber:13}},_.a.createElement(c.a,{placeholder:"Product.Subsystem.Module",__source:{fileName:v,lineNumber:83,columnNumber:15}}))),_.a.createElement(l.a.Col,{span:8,__source:{fileName:v,lineNumber:86,columnNumber:11}},_.a.createElement(o.a,{__source:{fileName:v,lineNumber:87,columnNumber:13}},e["stepForm.link.psmDefine"])))),_.a.createElement(m.a.Item,{label:e["stepForm.form.label.strategy"],__source:{fileName:v,lineNumber:91,columnNumber:7}},_.a.createElement(l.a.Row,{align:"center",justify:"space-around",gutter:8,__source:{fileName:v,lineNumber:92,columnNumber:9}},_.a.createElement(l.a.Col,{span:16,__source:{fileName:v,lineNumber:93,columnNumber:11}},_.a.createElement(m.a.Item,{field:"strategy",style:{marginBottom:0},__source:{fileName:v,lineNumber:94,columnNumber:13}},_.a.createElement(n.a,{placeholder:e["stepForm.placeholder.strategy"],__source:{fileName:v,lineNumber:95,columnNumber:15}},_.a.createElement(n.a.Option,{value:"local",__source:{fileName:v,lineNumber:96,columnNumber:17}},"LOCAL"),_.a.createElement(n.a.Option,{value:"all",__source:{fileName:v,lineNumber:97,columnNumber:17}},"ALL")))),_.a.createElement(l.a.Col,{span:8,__source:{fileName:v,lineNumber:101,columnNumber:11}},_.a.createElement(o.a,{__source:{fileName:v,lineNumber:102,columnNumber:13}},e["stepForm.link.selectStrategy"])))),_.a.createElement("div",{className:w.a.actions,__source:{fileName:v,lineNumber:106,columnNumber:7}},_.a.createElement(a.a,{type:"secondary",onClick:function(){t({type:g.GO_PREV})},__source:{fileName:v,lineNumber:107,columnNumber:9}},e["stepForm.button.prev"]),_.a.createElement(a.a,{loading:j,type:"primary",onClick:function(){b.current.validate().then((function(){!function(){h(!0);var e=b.current.getFieldsValue();console.log("formData: ",e),console.log(s),O.a.post("/api/domainApply",{data:F(F({},s),e)}).finally((function(){h(!1)})).then((function(){t({type:g.GO_NEXT})})).catch((function(e){i.a.error(e.message)}))}()}))},__source:{fileName:v,lineNumber:115,columnNumber:9}},e["stepForm.button.submit"])))}},521:function(e,r,t){e.exports={container:"container-6427058b85",wrapper:"wrapper-1eba4af8b8",steps:"steps-79df5ed959",form:"form-2a6f8eda19","form-content":"form-content-96ca552934",actions:"actions-df2cdcf708"}}}]);