(window.webpackJsonp=window.webpackJsonp||[]).push([[28,53,107,145],{186:function(e,r,n){"use strict";n.r(r);n(112);var t=n(45),a=n(5),l=n.n(a),c=(n(155),n(82)),u=(n(65),n(24)),o=n(664),m=(n(113),n(40)),i=(n(330),n(250)),s=(n(156),n(74)),b=(n(247),n(96)),f=(n(174),n(85)),_=n(56),N=n.n(_),d=n(22),p=n.n(d),g=(n(246),n(73)),h=n(35),E=n.n(h),v=n(0),y=n.n(v),O=n(111),j=n(83),w=n(167),x=n.n(w),k="/Users/mrhh/Desktop/gbs-admin/src/pages/store-game/form/index.jsx",S=g.a.Item,I={labelCol:{span:7},wrapperCol:{span:17}},C={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.closeModalAndReqTable,n=e.clickItem,a=Object(v.useRef)(),_=Object(v.useState)([]),d=p()(_,2),h=d[0],w=d[1],A=Object(v.useState)(!0),T=p()(A,2),D=T[0],P=T[1],q=Object(v.useState)([]),R=p()(q,2),F=(R[0],R[1]),z=Object(v.useState)([]),L=p()(z,2),U=L[0],M=L[1],V=Object(v.useState)([]),G=p()(V,2),K=G[0],W=G[1],B=Object(v.useState)(!1),J=p()(B,2),H=J[0],Q=J[1],X=Object(v.useState)([]),Y=p()(X,2),Z=Y[0],$=Y[1],ee=Object(v.useState)(!1),re=p()(ee,2),ne=re[0],te=re[1],ae=Object(v.useState)([]),le=p()(ae,2),ce=le[0],ue=le[1],oe=Object(v.useState)(!1),me=p()(oe,2),ie=me[0],se=me[1],be=Object(v.useRef)(null);Object(v.useEffect)((function(){console.log("clickItem",n)}),[]),Object(v.useEffect)((function(){Object(O.v)().then((function(e){var r,n=e.data;r=n.map((function(e){return function e(r){var n=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:n?r.region_children.map((function(r){return e(r)})):[]}}(e)})),F(r)}))}),[]);var fe=function(){var e=N()(E.a.mark((function e(){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.K)();case 2:r=e.sent,n=r.data,P(!1),w(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(v.useEffect)((function(){fe()}),[]);var _e=Object(v.useCallback)(x()((function(e){be.current=Date.now(),Q(!0),W([]);var r={gb_title:e};Object(O.o)(r).then((function(e){var r=e.data.map((function(e){return{label:y.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:k,lineNumber:116,columnNumber:13}},y.a.createElement(f.a,{shape:"square",size:24,style:{marginLeft:6,marginRight:12},__source:{fileName:k,lineNumber:117,columnNumber:15}},y.a.createElement("img",{alt:"avatar",src:e.gb_cover,__source:{fileName:k,lineNumber:118,columnNumber:17}})),"".concat(e.gb_title)),value:e.gb_code}}));Q(!1),W(r)}))}),500),[]),Ne=Object(v.useCallback)(x()((function(e){be.current=Date.now(),te(!0),W([]);var r={user_nick:e};Object(j.b)(r).then((function(e){var r=e.data.map((function(e){return{label:y.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:k,lineNumber:141,columnNumber:13}},y.a.createElement(f.a,{size:24,style:{marginLeft:6,marginRight:12},__source:{fileName:k,lineNumber:142,columnNumber:15}},y.a.createElement("img",{alt:"avatar",src:e.user_photo,__source:{fileName:k,lineNumber:143,columnNumber:17}})),"".concat(e.user_nick)),value:e.user_account}}));te(!1),$(r)}))}),500),[]),de=Object(v.useCallback)(x()((function(e){be.current=Date.now(),Q(!0),W([]);var r={member_name:e};Object(j.e)(r).then((function(e){console.log("data: ",e);var r=e.data.map((function(e){return{label:y.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:k,lineNumber:167,columnNumber:13}},y.a.createElement(f.a,{size:24,style:{marginLeft:6,marginRight:12},__source:{fileName:k,lineNumber:168,columnNumber:15}},y.a.createElement("img",{alt:"avatar",src:e.member_face,__source:{fileName:k,lineNumber:169,columnNumber:17}})),"".concat(e.member_name)),value:e.member_account}}));se(!1),console.log("options",r),ue(r)}))}),500),[]);return Object(v.useEffect)((function(){_e(),de(),Ne()}),[]),y.a.createElement("div",{style:{maxWidth:650},__source:{fileName:k,lineNumber:192,columnNumber:5}},y.a.createElement(g.a,l()({ref:a},I,{size:"default",onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:k,lineNumber:193,columnNumber:7}}),y.a.createElement(S,{label:"选择店铺",field:"store_code",rules:[{required:!0,message:"请填写店铺编码"}],__source:{fileName:k,lineNumber:203,columnNumber:9}},y.a.createElement(b.a,{onChange:function(){var e=N()(E.a.mark((function e(r){var n,t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={store_code:r},e.next=3,Object(O.f)(n);case 3:t=e.sent,a=t.data.store_room,console.log("store_room: ",a),M(a);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),loading:D,placeholder:"请选择店铺",__source:{fileName:k,lineNumber:208,columnNumber:11}},null==h?void 0:h.map((function(e){return y.a.createElement(b.a.Option,{key:e.store_code,value:e.store_code,__source:{fileName:k,lineNumber:223,columnNumber:17}},e.store_name)})))),y.a.createElement(S,{label:"选择房间",field:"room_code",rules:[{required:!0,message:"请填写店铺编码"}],__source:{fileName:k,lineNumber:230,columnNumber:9}},y.a.createElement(b.a,{placeholder:"请选择房间",__source:{fileName:k,lineNumber:235,columnNumber:11}},U.map((function(e){return y.a.createElement(b.a.Option,{key:e.room_code,value:e.room_code,__source:{fileName:k,lineNumber:238,columnNumber:17}},e.room_name)})))),y.a.createElement(S,{label:"剧本",field:"gb_code",rules:[{required:!0,message:"请选择剧本"}],__source:{fileName:k,lineNumber:246,columnNumber:9}},y.a.createElement(b.a,{style:{width:345},options:K,placeholder:"请输入要搜索的剧本",filterOption:!1,renderFormat:function(e){return e.children.props.children[1]},notFoundContent:H?y.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},__source:{fileName:k,lineNumber:257,columnNumber:17}},y.a.createElement(s.a,{style:{margin:12},__source:{fileName:k,lineNumber:258,columnNumber:19}})):null,showSearch:!0,onSearch:_e,__source:{fileName:k,lineNumber:247,columnNumber:11}})),y.a.createElement(S,{label:"剧本价格",field:"gb_price",rules:[{required:!0,message:"请填写剧本价格"}],__source:{fileName:k,lineNumber:266,columnNumber:9}},y.a.createElement(i.a,{min:0,placeholder:"请填写剧本价格...",__source:{fileName:k,lineNumber:271,columnNumber:11}})),y.a.createElement(S,{label:"玩家人数",field:"game_people",rules:[{required:!0,message:"请填写玩家人数"}],__source:{fileName:k,lineNumber:273,columnNumber:9}},y.a.createElement(i.a,{min:2,placeholder:"请填写玩家人数...",__source:{fileName:k,lineNumber:278,columnNumber:11}})),y.a.createElement(S,{label:"主持人",field:"dm_user",rules:[{required:!0,message:"请填写主持人"}],__source:{fileName:k,lineNumber:280,columnNumber:9}},y.a.createElement(b.a,{style:{width:345},options:Z,placeholder:"请选择主持人",filterOption:!1,renderFormat:function(e){return e.children.props.children[1]},notFoundContent:ne?y.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},__source:{fileName:k,lineNumber:295,columnNumber:17}},y.a.createElement(s.a,{style:{margin:12},__source:{fileName:k,lineNumber:296,columnNumber:19}})):null,showSearch:!0,onSearch:Ne,__source:{fileName:k,lineNumber:285,columnNumber:11}})),y.a.createElement(g.a.List,{field:"game_player",__source:{fileName:k,lineNumber:305,columnNumber:9}},(function(e,r){var n=r.add,t=r.remove;r.move;return y.a.createElement("div",{__source:{fileName:k,lineNumber:308,columnNumber:15}},e.map((function(e,r){return y.a.createElement("div",{key:e.key,__source:{fileName:k,lineNumber:311,columnNumber:21}},y.a.createElement(g.a.Item,{label:"玩家".concat(1+r),__source:{fileName:k,lineNumber:312,columnNumber:23}},y.a.createElement(c.a,{__source:{fileName:k,lineNumber:313,columnNumber:25}},y.a.createElement(g.a.Item,{field:"".concat(e.field,".player_user"),rules:[{required:!0}],noStyle:!0,__source:{fileName:k,lineNumber:314,columnNumber:27}},y.a.createElement(b.a,{style:{width:145},options:ce,placeholder:"请选择玩家",filterOption:!1,renderFormat:function(e){return e.children.props.children[1]},notFoundContent:ie?y.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},__source:{fileName:k,lineNumber:329,columnNumber:35}},y.a.createElement(s.a,{style:{margin:12},__source:{fileName:k,lineNumber:336,columnNumber:37}})):null,showSearch:!0,onSearch:de,__source:{fileName:k,lineNumber:319,columnNumber:29}})),y.a.createElement(g.a.Item,{field:"".concat(e.field,".player_type"),rules:[{required:!0}],noStyle:!0,__source:{fileName:k,lineNumber:344,columnNumber:27}},y.a.createElement(b.a,{placeholder:"玩家类型",__source:{fileName:k,lineNumber:349,columnNumber:29}},y.a.createElement(b.a.Option,{value:"player",__source:{fileName:k,lineNumber:350,columnNumber:31}},"player"),y.a.createElement(b.a.Option,{value:"worker",__source:{fileName:k,lineNumber:351,columnNumber:31}},"worker"))),y.a.createElement(g.a.Item,{field:"".concat(e.field,".player_name"),rules:[{required:!0}],noStyle:!0,__source:{fileName:k,lineNumber:355,columnNumber:27}},y.a.createElement(m.a,{placeholder:"玩家名称",__source:{fileName:k,lineNumber:360,columnNumber:29}})),y.a.createElement(g.a.Item,{field:"".concat(e.field,".player_note"),rules:[{required:!0}],noStyle:!0,__source:{fileName:k,lineNumber:362,columnNumber:27}},y.a.createElement(m.a,{placeholder:"玩家备注",__source:{fileName:k,lineNumber:367,columnNumber:29}})),y.a.createElement(u.a,{icon:y.a.createElement(o.a,{__source:{fileName:k,lineNumber:370,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return t(r)},__source:{fileName:k,lineNumber:369,columnNumber:27}}))))})),y.a.createElement(g.a.Item,l()({},C,{__source:{fileName:k,lineNumber:380,columnNumber:17}}),y.a.createElement(u.a,{onClick:function(){n()},__source:{fileName:k,lineNumber:381,columnNumber:19}},"添加玩家")))})),y.a.createElement(S,l()({},C,{__source:{fileName:k,lineNumber:407,columnNumber:9}}),y.a.createElement(u.a,{onClick:N()(E.a.mark((function e(){var l,c,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=26;break}return e.prev=1,e.next=4,a.current.validate();case 4:if(null!==n){e.next=12;break}return null!==(l=a.current.getFields()).game_player&&void 0!==l.game_player||(l.game_player=[]),e.next=9,Object(O.h)(l);case 9:c=e.sent,e.next=18;break;case 12:return u=a.current.getFields(),console.log("param: ",u),u.store_code=n.store_code,e.next=17,Object(O.M)(u);case 17:c=e.sent;case 18:200===c.code&&(t.a.success("添加成功"),r()),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),console.log(a.current.getFieldsError()),t.a.error("校验失败，请检查字段！");case 26:case"end":return e.stop()}}),e,null,[[1,21]])}))),type:"primary",style:{marginRight:24},__source:{fileName:k,lineNumber:408,columnNumber:11}},"提交"),y.a.createElement(u.a,{onClick:function(){a.current.resetFields()},__source:{fileName:k,lineNumber:442,columnNumber:11}},"重置"))))}},187:function(e,r,n){"use strict";n.r(r);var t=n(5),a=n.n(t),l=(n(65),n(24)),c=(n(112),n(45)),u=(n(156),n(74)),o=(n(247),n(96)),m=(n(174),n(85)),i=n(56),s=n.n(i),b=n(22),f=n.n(b),_=(n(246),n(73)),N=n(35),d=n.n(N),p=n(0),g=n.n(p),h=n(111),E=n(83),v=n(167),y=n.n(v),O="/Users/mrhh/Desktop/gbs-admin/src/pages/store-game/stargameform/index.jsx",j=_.a.Item,w={labelCol:{span:7},wrapperCol:{span:17}},x={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.closeModalAndReqTable,n=e.clickItem,t=Object(p.useRef)(),i=Object(p.useState)(!1),b=f()(i,2),N=b[0],v=b[1],k=Object(p.useState)([]),S=f()(k,2),I=S[0],C=S[1],A=Object(p.useState)(!0),T=f()(A,2),D=T[0],P=T[1],q=Object(p.useState)([]),R=f()(q,2),F=(R[0],R[1]),z=Object(p.useState)([]),L=f()(z,2),U=L[0],M=L[1],V=Object(p.useState)([]),G=f()(V,2),K=(G[0],G[1]),W=Object(p.useState)(!1),B=f()(W,2),J=(B[0],B[1]),H=Object(p.useState)([]),Q=f()(H,2),X=Q[0],Y=Q[1],Z=Object(p.useState)(!1),$=f()(Z,2),ee=$[0],re=$[1],ne=Object(p.useState)([]),te=f()(ne,2),ae=(te[0],te[1]),le=Object(p.useState)(!1),ce=f()(le,2),ue=(ce[0],ce[1]),oe=Object(p.useRef)(null);Object(p.useEffect)((function(){console.log("clickItem2222",n),_e(n.store_code),t.current.setFieldsValue({store_code:n.store_code,room_code:n.room_code,dm_user:"demo"})}),[]),Object(p.useEffect)((function(){Object(h.v)().then((function(e){var r,n=e.data;r=n.map((function(e){return function e(r){var n=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:n?r.region_children.map((function(r){return e(r)})):[]}}(e)})),F(r)}))}),[]);var me=function(){var e=s()(d.a.mark((function e(){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.K)();case 2:r=e.sent,n=r.data,P(!1),C(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(p.useEffect)((function(){me()}),[]);var ie=function(){var e=s()(d.a.mark((function e(){var r,t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={store_code:n.store_code,room_code:n.room_code,game_code:n.game_code},e.next=3,Object(E.h)(r);case 3:t=e.sent,a=t.data,v(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(p.useEffect)((function(){ie()}),[]);var se=Object(p.useCallback)(y()((function(e){oe.current=Date.now(),J(!0),K([]);var r={gb_title:e};Object(h.o)(r).then((function(e){var r=e.data.map((function(e){return{label:g.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:O,lineNumber:140,columnNumber:13}},g.a.createElement(m.a,{shape:"square",size:24,style:{marginLeft:6,marginRight:12},__source:{fileName:O,lineNumber:141,columnNumber:15}},g.a.createElement("img",{alt:"avatar",src:e.gb_cover,__source:{fileName:O,lineNumber:142,columnNumber:17}})),"".concat(e.gb_title)),value:e.gb_code}}));J(!1),K(r)}))}),500),[]),be=Object(p.useCallback)(y()((function(e){oe.current=Date.now(),re(!0),K([]);var r={user_nick:e};Object(E.b)(r).then((function(e){var r=e.data.map((function(e){return{label:g.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:O,lineNumber:165,columnNumber:13}},g.a.createElement(m.a,{size:24,style:{marginLeft:6,marginRight:12},__source:{fileName:O,lineNumber:166,columnNumber:15}},g.a.createElement("img",{alt:"avatar",src:e.user_photo,__source:{fileName:O,lineNumber:167,columnNumber:17}})),"".concat(e.user_nick)),value:e.user_account}}));re(!1),Y(r)}))}),500),[]),fe=Object(p.useCallback)(y()((function(e){oe.current=Date.now(),J(!0),K([]);var r={member_name:e};Object(E.e)(r).then((function(e){console.log("data: ",e);var r=e.data.map((function(e){return{label:g.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:O,lineNumber:191,columnNumber:13}},g.a.createElement(m.a,{size:24,style:{marginLeft:6,marginRight:12},__source:{fileName:O,lineNumber:192,columnNumber:15}},g.a.createElement("img",{alt:"avatar",src:e.member_face,__source:{fileName:O,lineNumber:193,columnNumber:17}})),"".concat(e.member_name)),value:e.member_account}}));ue(!1),console.log("options",r),ae(r)}))}),500),[]);Object(p.useEffect)((function(){se(),fe(),be()}),[]);var _e=function(){var e=s()(d.a.mark((function e(r){var n,t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={store_code:r},e.next=3,Object(h.f)(n);case 3:t=e.sent,a=t.data.store_room,M(a);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return g.a.createElement("div",{style:{maxWidth:650},__source:{fileName:O,lineNumber:224,columnNumber:5}},g.a.createElement(_.a,a()({ref:t},w,{size:"default",onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:O,lineNumber:225,columnNumber:7}}),g.a.createElement(j,{label:"当前店铺",field:"store_code",rules:[{required:!1,message:"请填写店铺编码"}],__source:{fileName:O,lineNumber:235,columnNumber:9}},g.a.createElement(o.a,{disabled:!0,onChange:function(){var e=s()(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_e(r);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),loading:D,placeholder:"请选择店铺",__source:{fileName:O,lineNumber:240,columnNumber:11}},null==I?void 0:I.map((function(e){return g.a.createElement(o.a.Option,{key:e.store_code,value:e.store_code,__source:{fileName:O,lineNumber:250,columnNumber:17}},e.store_name)})))),g.a.createElement(j,{label:"房间",field:"room_code",rules:[{required:!1,message:"请填写店铺编码"}],__source:{fileName:O,lineNumber:257,columnNumber:9}},g.a.createElement(o.a,{disabled:!0,placeholder:"请选择房间",__source:{fileName:O,lineNumber:262,columnNumber:11}},U.map((function(e){return g.a.createElement(o.a.Option,{key:e.room_code,value:e.room_code,__source:{fileName:O,lineNumber:265,columnNumber:17}},e.room_name)})))),g.a.createElement(j,{label:"剧本",field:"gb_code",rules:[{required:!1,message:"请选择剧本"}],__source:{fileName:O,lineNumber:273,columnNumber:9}},g.a.createElement("span",{__source:{fileName:O,lineNumber:274,columnNumber:11}},N.gb_title)),g.a.createElement(j,{label:"主持人",field:"dm_user",rules:[{required:!0,message:"请填写主持人"}],__source:{fileName:O,lineNumber:284,columnNumber:9}},g.a.createElement(o.a,{style:{width:345},options:X,placeholder:"请选择主持人",filterOption:!1,renderFormat:function(e){return null===e?null:e.children.props.children[1]},notFoundContent:ee?g.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},__source:{fileName:O,lineNumber:302,columnNumber:17}},g.a.createElement(u.a,{style:{margin:12},__source:{fileName:O,lineNumber:303,columnNumber:19}})):null,showSearch:!0,onSearch:be,__source:{fileName:O,lineNumber:289,columnNumber:11}})),g.a.createElement(j,a()({},x,{__source:{fileName:O,lineNumber:312,columnNumber:9}}),g.a.createElement(l.a,{onClick:s()(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=19;break}return e.prev=1,e.next=4,t.current.validate();case 4:return a=e.sent,console.log("param: ",a),a.gb_code=n.gb_code,a.dm_user=a.gb_code,a.game_code=N.game_code,e.next=11,Object(h.L)(a);case 11:200===e.sent.code&&(c.a.success("添加成功"),r()),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(t.current.getFieldsError()),c.a.error("校验失败，请检查字段！");case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),type:"primary",style:{marginRight:24},__source:{fileName:O,lineNumber:313,columnNumber:11}},"开始游戏"))))}},208:function(e,r,n){"use strict";n.r(r);n(666);var t=n(665),a=(n(654),n(655)),l=(n(330),n(250)),c=(n(113),n(40)),u=(n(659),n(661)),o=(n(329),n(248)),m=n(4),i=n.n(m),s=n(56),b=n.n(s),f=(n(155),n(82)),_=(n(65),n(24)),N=n(22),d=n.n(N),p=n(676),g=n.n(p),h=n(35),E=n.n(h),v=n(0),y=n.n(v),O=n(32),j=n(111),w=n(349),x=n(36),k=n(641),S=n.n(k),I=n(186),C=n(187),A="/Users/mrhh/Desktop/gbs-admin/src/pages/store-game/index.tsx";function T(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function D(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?T(Object(n),!0).forEach((function(r){i()(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}r.default=function(e){g()(e);var r=Object(x.a)(),n=Object(v.useState)(!1),m=d()(n,2),i=m[0],s=m[1],N=Object(v.useState)(!1),p=d()(N,2),h=p[0],k=p[1],T=Object(v.useState)(null),P=d()(T,2),q=P[0],R=P[1],F=Object(v.useState)(null),z=d()(F,2),L=z[0],U=z[1],M=Object(v.useState)(null),V=d()(M,2),G=V[0],K=V[1],W=Object(v.useState)(null),B=d()(W,2),J=B[0],H=B[1],Q=[{title:"剧本名称",dataIndex:"gb_title"},{title:"玩家人数",dataIndex:"game_people"},{title:"状态",dataIndex:"game_status"},{title:"主持人",dataIndex:"dm_user"},{title:"开局时间",dataIndex:"start_time"},{title:"房间",dataIndex:"room_code"},{title:"店铺名称",dataIndex:"store_name"},{title:"店铺地址",dataIndex:"position_address"},{title:r["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:r["searchTable.columns.operations"],render:function(e,r){return y.a.createElement(f.a,{__source:{fileName:A,lineNumber:79,columnNumber:9}},y.a.createElement(_.a,{onClick:function(){console.log(r),R(r),s(!0)},size:"mini",type:"primary",__source:{fileName:A,lineNumber:80,columnNumber:11}},"修改"),y.a.createElement(_.a,{onClick:function(){R(r),k(!0)},size:"mini",type:"primary",__source:{fileName:A,lineNumber:91,columnNumber:11}},"开始游戏"))}}];Object(v.useEffect)((function(){X()}),[]);var X=function(){var e=b()(E.a.mark((function e(){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.K)();case 2:r=e.sent,console.log("data: ",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=Object(O.c)((function(e){return e.searchTable})),Z=Y.data,$=Y.pagination,ee=Y.loading,re=Y.formParams,ne=Object(O.b)();function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(j.b)({page:e,page_size:r,store_code:L,gb_code:G,game_people:J});t.then((function(e){var r=e.data,t=e.paginator;ne({type:w.UPDATE_LIST,payload:{data:r}}),ne({type:w.UPDATE_PAGINATION,payload:{pagination:D(D({},$),{},{current:t.page,pageSize:t.page_size,total:t.total_count})}}),ne({type:w.UPDATE_LOADING,payload:{loading:!1}}),ne({type:w.UPDATE_FORM_PARAMS,payload:{params:n}})}))}return Object(v.useEffect)((function(){te()}),[]),y.a.createElement("div",{className:S.a.container,__source:{fileName:A,lineNumber:157,columnNumber:5}},y.a.createElement(o.a,{title:null===q?"添加组局":"修改组局",footer:null,onCancel:function(){s(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:i,__source:{fileName:A,lineNumber:158,columnNumber:7}},y.a.createElement(I.default,{clickItem:q,closeModalAndReqTable:function(){s(!1),te()},__source:{fileName:A,lineNumber:168,columnNumber:9}})),y.a.createElement(o.a,{title:"开始游戏",footer:null,onCancel:function(){k(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:h,__source:{fileName:A,lineNumber:177,columnNumber:7}},y.a.createElement(C.default,{clickItem:q,closeModalAndReqTable:function(){k(!1),te()},__source:{fileName:A,lineNumber:188,columnNumber:9}})),y.a.createElement(u.a,{style:{marginBottom:20},__source:{fileName:A,lineNumber:197,columnNumber:7}},y.a.createElement(u.a.Item,{__source:{fileName:A,lineNumber:198,columnNumber:9}},"店铺运营"),y.a.createElement(u.a.Item,{__source:{fileName:A,lineNumber:199,columnNumber:9}},"店铺组局")),y.a.createElement("div",{__source:{fileName:A,lineNumber:201,columnNumber:7}},y.a.createElement(a.a,{style:{marginBottom:20},__source:{fileName:A,lineNumber:202,columnNumber:9}},y.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:A,lineNumber:203,columnNumber:11}},y.a.createElement(_.a,{onClick:function(){s(!0),R(null)},type:"primary",__source:{fileName:A,lineNumber:204,columnNumber:13}},"添加组局"),y.a.createElement("div",{__source:{fileName:A,lineNumber:213,columnNumber:13}},y.a.createElement(f.a,{style:{marginLeft:20},wrap:!0,__source:{fileName:A,lineNumber:214,columnNumber:15}},y.a.createElement(c.a,{value:L,onChange:function(e){U(e)},placeholder:"请输入店铺编码",style:{width:200},__source:{fileName:A,lineNumber:215,columnNumber:17}}),y.a.createElement(c.a,{value:G,onChange:function(e){K(e)},placeholder:"请输入剧本编码",style:{width:200},__source:{fileName:A,lineNumber:223,columnNumber:17}}),y.a.createElement(l.a,{min:1,value:J,onChange:function(e){H(e)},placeholder:"请输入玩家人数",style:{width:200},__source:{fileName:A,lineNumber:231,columnNumber:17}}),y.a.createElement(_.a,{onClick:function(){},__source:{fileName:A,lineNumber:241,columnNumber:17}},"重置"),y.a.createElement(_.a,{onClick:function(){te()},type:"primary",__source:{fileName:A,lineNumber:242,columnNumber:17}},"搜索")))))),y.a.createElement(a.a,{bordered:!1,__source:{fileName:A,lineNumber:255,columnNumber:7}},y.a.createElement(t.a,{rowKey:"user_account",loading:ee,onChange:function(e){te(e.current,e.pageSize,re)},pagination:$,columns:Q,data:Z,__source:{fileName:A,lineNumber:256,columnNumber:9}})))}},349:function(e,r,n){"use strict";n.r(r),n.d(r,"UPDATE_LIST",(function(){return t})),n.d(r,"UPDATE_LOADING",(function(){return a})),n.d(r,"UPDATE_PAGINATION",(function(){return l})),n.d(r,"UPDATE_FORM_PARAMS",(function(){return c}));var t="searchTable_update_list",a="searchTable_update_loading",l="searchTable_update_pagination",c="searchTable_update_formParams"},641:function(e,r,n){e.exports={container:"container-a393421ccd",toolbar:"toolbar-a31128d7de",operations:"operations-807e4a3204"}}}]);