(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[47],{

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./src/pages/step-form/style/index.module.less":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--11-1!./node_modules/postcss-loader/dist/cjs.js??ref--11-2!./node_modules/less-loader/dist/cjs.js??ref--11-3!./src/pages/step-form/style/index.module.less ***!
  \*************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".container-6427058b85 {\n  padding: 20px;\n}\n.wrapper-1eba4af8b8 {\n  background-color: var(--color-bg-2);\n  padding: 64px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.steps-79df5ed959 {\n  margin-bottom: 36px;\n}\n.form-2a6f8eda19 {\n  width: 622px;\n}\n.form-content-96ca552934 {\n  padding: 8px 50px 0 30px;\n}\n.actions-df2cdcf708 {\n  text-align: right;\n  padding: 15px 0;\n}\n.actions-df2cdcf708 > button {\n  margin-left: 8px;\n}\n.actions-df2cdcf708 > button:first-child {\n  margin-left: 0;\n}\n", ""]);
// Exports
exports.locals = {
	"container": "container-6427058b85",
	"wrapper": "wrapper-1eba4af8b8",
	"steps": "steps-79df5ed959",
	"form": "form-2a6f8eda19",
	"form-content": "form-content-96ca552934",
	"actions": "actions-df2cdcf708"
};
module.exports = exports;


/***/ }),

/***/ "./src/pages/step-form/service.tsx":
/*!*****************************************!*\
  !*** ./src/pages/step-form/service.tsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _arco_design_web_react_es_Button_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @arco-design/web-react/es/Button/style */ "./node_modules/@arco-design/web-react/es/Button/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @arco-design/web-react/es/Button */ "./node_modules/@arco-design/web-react/es/Button/index.js");
/* harmony import */ var _arco_design_web_react_es_Select_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @arco-design/web-react/es/Select/style */ "./node_modules/@arco-design/web-react/es/Select/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @arco-design/web-react/es/Select */ "./node_modules/@arco-design/web-react/es/Select/index.js");
/* harmony import */ var _arco_design_web_react_es_Link_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @arco-design/web-react/es/Link/style */ "./node_modules/@arco-design/web-react/es/Link/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Link__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @arco-design/web-react/es/Link */ "./node_modules/@arco-design/web-react/es/Link/index.js");
/* harmony import */ var _arco_design_web_react_es_Grid_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @arco-design/web-react/es/Grid/style */ "./node_modules/@arco-design/web-react/es/Grid/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @arco-design/web-react/es/Grid */ "./node_modules/@arco-design/web-react/es/Grid/index.js");
/* harmony import */ var _arco_design_web_react_es_Form_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @arco-design/web-react/es/Form/style */ "./node_modules/@arco-design/web-react/es/Form/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @arco-design/web-react/es/Form */ "./node_modules/@arco-design/web-react/es/Form/index.js");
/* harmony import */ var _arco_design_web_react_es_Input_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @arco-design/web-react/es/Input/style */ "./node_modules/@arco-design/web-react/es/Input/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @arco-design/web-react/es/Input */ "./node_modules/@arco-design/web-react/es/Input/index.js");
/* harmony import */ var _arco_design_web_react_es_Typography_style__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @arco-design/web-react/es/Typography/style */ "./node_modules/@arco-design/web-react/es/Typography/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Typography__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @arco-design/web-react/es/Typography */ "./node_modules/@arco-design/web-react/es/Typography/index.js");
/* harmony import */ var _arco_design_web_react_es_Message_style__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arco-design/web-react/es/Message/style */ "./node_modules/@arco-design/web-react/es/Message/style/index.js");
/* harmony import */ var _arco_design_web_react_es_Message__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @arco-design/web-react/es/Message */ "./node_modules/@arco-design/web-react/es/Message/index.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./redux/actionTypes */ "./src/pages/step-form/redux/actionTypes.ts");
/* harmony import */ var _utils_useLocale__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/useLocale */ "./src/utils/useLocale.ts");
/* harmony import */ var _style_index_module_less__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./style/index.module.less */ "./src/pages/step-form/style/index.module.less");
/* harmony import */ var _style_index_module_less__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_style_index_module_less__WEBPACK_IMPORTED_MODULE_23__);


















var _jsxFileName = "/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/service.tsx";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_16___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }








function Service() {
  var locale = Object(_utils_useLocale__WEBPACK_IMPORTED_MODULE_22__["default"])();
  var state = Object(react_redux__WEBPACK_IMPORTED_MODULE_19__["useSelector"])(function (state) {
    return state.stepForm;
  });
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_19__["useDispatch"])();
  var data = state.data;
  var formRef = Object(react__WEBPACK_IMPORTED_MODULE_18__["useRef"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_18__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17___default()(_useState, 2),
      loading = _useState2[0],
      setLoading = _useState2[1];

  var submit = function submit() {
    setLoading(true);
    var formData = formRef.current.getFieldsValue();
    console.log('formData: ', formData);
    console.log(data);
    axios__WEBPACK_IMPORTED_MODULE_20___default.a.post('/api/domainApply', {
      data: _objectSpread(_objectSpread({}, data), formData)
    })["finally"](function () {
      setLoading(false);
    }).then(function () {
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__["GO_NEXT"]
      });
    })["catch"](function (error) {
      _arco_design_web_react_es_Message__WEBPACK_IMPORTED_MODULE_15__["default"].error(error.message);
    });
  };

  var onSubmitClick = function onSubmitClick() {
    formRef.current.validate().then(function () {
      submit();
    });
  };

  Object(react__WEBPACK_IMPORTED_MODULE_18__["useEffect"])(function () {
    formRef.current.setFieldsValue(data);
  }, [data]);
  Object(react__WEBPACK_IMPORTED_MODULE_18__["useEffect"])(function () {
    return function () {
      var _formRef$current;

      var formData = ((_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldsValue()) || {};
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__["UPDATE_FORM"],
        payload: {
          data: formData
        }
      });
    };
  }, []);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"], {
    ref: formRef,
    className: _style_index_module_less__WEBPACK_IMPORTED_MODULE_23___default.a.form,
    labelCol: {
      span: 5
    },
    wrapperCol: {
      span: 19
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 71,
      columnNumber: 5
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Typography__WEBPACK_IMPORTED_MODULE_13__["default"].Title, {
    style: {
      marginTop: 0,
      marginBottom: 16
    },
    heading: 6,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 72,
      columnNumber: 7
    }
  }, locale['stepForm.form.title.upstream']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    label: "P.S.M",
    extra: locale['stepForm.form.extra.psm'],
    required: true,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 75,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Row, {
    align: "center",
    justify: "space-around",
    gutter: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 76,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 16,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 77,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    field: "psm",
    rules: [{
      required: true,
      message: locale['stepForm.form.error.psm.required']
    }],
    style: {
      marginBottom: 0
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 78,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Input__WEBPACK_IMPORTED_MODULE_11__["default"], {
    placeholder: "Product.Subsystem.Module",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 83,
      columnNumber: 15
    }
  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 86,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Link__WEBPACK_IMPORTED_MODULE_5__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 87,
      columnNumber: 13
    }
  }, locale['stepForm.link.psmDefine'])))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    label: locale['stepForm.form.label.strategy'],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 91,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Row, {
    align: "center",
    justify: "space-around",
    gutter: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 92,
      columnNumber: 9
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 16,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 93,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Form__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
    field: "strategy",
    style: {
      marginBottom: 0
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 94,
      columnNumber: 13
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__["default"], {
    placeholder: locale['stepForm.placeholder.strategy'],
    __source: {
      fileName: _jsxFileName,
      lineNumber: 95,
      columnNumber: 15
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__["default"].Option, {
    value: "local",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 96,
      columnNumber: 17
    }
  }, "LOCAL"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Select__WEBPACK_IMPORTED_MODULE_3__["default"].Option, {
    value: "all",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 97,
      columnNumber: 17
    }
  }, "ALL")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Grid__WEBPACK_IMPORTED_MODULE_7__["default"].Col, {
    span: 8,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 101,
      columnNumber: 11
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Link__WEBPACK_IMPORTED_MODULE_5__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 102,
      columnNumber: 13
    }
  }, locale['stepForm.link.selectStrategy'])))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("div", {
    className: _style_index_module_less__WEBPACK_IMPORTED_MODULE_23___default.a.actions,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 106,
      columnNumber: 7
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    type: "secondary",
    onClick: function onClick() {
      dispatch({
        type: _redux_actionTypes__WEBPACK_IMPORTED_MODULE_21__["GO_PREV"]
      });
    },
    __source: {
      fileName: _jsxFileName,
      lineNumber: 107,
      columnNumber: 9
    }
  }, locale['stepForm.button.prev']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_arco_design_web_react_es_Button__WEBPACK_IMPORTED_MODULE_1__["default"], {
    loading: loading,
    type: "primary",
    onClick: onSubmitClick,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 115,
      columnNumber: 9
    }
  }, locale['stepForm.button.submit'])));
}

/* harmony default export */ __webpack_exports__["default"] = (Service);

/***/ }),

/***/ "./src/pages/step-form/style/index.module.less":
/*!*****************************************************!*\
  !*** ./src/pages/step-form/style/index.module.less ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(/*! ../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../../../../node_modules/css-loader/dist/cjs.js??ref--11-1!../../../../node_modules/postcss-loader/dist/cjs.js??ref--11-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-3!./index.module.less */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./src/pages/step-form/style/index.module.less");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

/***/ })

}]);
//# sourceMappingURL=47.min.js.map