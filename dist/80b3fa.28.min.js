(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{158:function(e,r,l){"use strict";l.r(r);var a=l(7),u=l.n(a),n=(l(77),l(28)),m=(l(149),l(59)),t=l(78),o=l.n(t),c=(l(586),l(584)),i=(l(602),l(606)),s=(l(291),l(217)),b=(l(603),l(605)),N=(l(571),l(573)),_=(l(148),l(49)),f=l(24),d=l.n(f),p=(l(290),l(107)),g=l(50),E=l.n(g),h=l(0),w=l.n(h),v=l(215),q="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/form/index.jsx",k=p.a.Item,x={labelCol:{span:7},wrapperCol:{span:17}},y={wrapperCol:{span:17,offset:7}};r.default=function(){var e=Object(h.useRef)(),r=Object(h.useState)("default"),l=d()(r,2),a=l[0];return l[1],Object(h.useEffect)((function(){}),[]),w.a.createElement("div",{style:{maxWidth:650},__source:{fileName:q,lineNumber:53,columnNumber:5}},w.a.createElement(p.a,u()({ref:e},x,{size:a,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:q,lineNumber:54,columnNumber:7}}),w.a.createElement(k,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:q,lineNumber:68,columnNumber:9}},w.a.createElement(_.a,{placeholder:"请填写剧本名称...",__source:{fileName:q,lineNumber:73,columnNumber:11}})),w.a.createElement(k,{label:"剧本类型",field:"gb_type",rules:[{required:!1,message:"请填写剧本类型"}],__source:{fileName:q,lineNumber:75,columnNumber:9}},w.a.createElement(_.a,{placeholder:"请填写剧本类型...",__source:{fileName:q,lineNumber:80,columnNumber:11}})),w.a.createElement(k,{label:"剧本区域",field:"gb_area",rules:[{required:!1,message:"请填写剧本区域"}],__source:{fileName:q,lineNumber:82,columnNumber:9}},w.a.createElement(_.a,{placeholder:"请填写剧本区域...",__source:{fileName:q,lineNumber:87,columnNumber:11}})),w.a.createElement(p.a.Item,{label:"剧本封面",triggerPropName:"fileList",__source:{fileName:q,lineNumber:90,columnNumber:9}},w.a.createElement(b.a,{listType:"picture-card",multiple:!0,name:"files",customRequest:function(e){console.log(e);var r=e.onProgress,l=e.onError,a=e.onSuccess,u=e.file;console.log("file: ",u);var n=new XMLHttpRequest;n.upload&&(n.upload.onprogress=function(e){var l;e.total>0&&(l=e.loaded/e.total*100),r(parseInt(l,10),e)}),n.onerror=function(e){l(e)},n.onload=function(){if(n.status<200||n.status>=300)return l(n.responseText);a(n.responseText,n)};var m=new FormData;m.append("up_file",u),m.append("module","drama"),n.open("post","http://120.24.188.169:8000/system/upload/image",!0),n.setRequestHeader("Authorization",localStorage.getItem("token")),n.send(m)},onPreview:function(e){N.a.info({title:"Preview",content:w.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:q,lineNumber:142,columnNumber:19}})})},__source:{fileName:q,lineNumber:103,columnNumber:11}})),w.a.createElement(k,{label:"玩家人数",field:"gb_people",rules:[{type:"number",required:!1}],__source:{fileName:q,lineNumber:151,columnNumber:9}},w.a.createElement(s.a,{min:1,placeholder:"请输入玩家人数",__source:{fileName:q,lineNumber:152,columnNumber:11}})),w.a.createElement(k,{label:"参考价格",field:"gb_price",rules:[{type:"number",required:!1}],__source:{fileName:q,lineNumber:154,columnNumber:9}},w.a.createElement(s.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:q,lineNumber:155,columnNumber:11}})),w.a.createElement(k,{label:"玩家说明",field:"gb_people_note",rules:[{required:!1,message:"请填写玩家说明"}],__source:{fileName:q,lineNumber:157,columnNumber:9}},w.a.createElement(_.a,{placeholder:"请填写玩家说明...",__source:{fileName:q,lineNumber:162,columnNumber:11}})),w.a.createElement(k,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!1,type:"number"}],__source:{fileName:q,lineNumber:217,columnNumber:9}},w.a.createElement(i.a,{allowHalf:!0,__source:{fileName:q,lineNumber:227,columnNumber:11}})),w.a.createElement(k,{label:"上架时间",field:"gb_add_time",rules:[{required:!0,message:"gb_add_time is required"}],__source:{fileName:q,lineNumber:230,columnNumber:9}},w.a.createElement(c.a,{showTime:!0,__source:{fileName:q,lineNumber:240,columnNumber:11}})),w.a.createElement(k,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:q,lineNumber:242,columnNumber:9}},w.a.createElement(_.a,{placeholder:"请填写版权信息...",__source:{fileName:q,lineNumber:247,columnNumber:11}})),w.a.createElement(k,{label:"备注说明",field:"gb_remarks",rules:[{required:!0,message:"请填写备注说明"}],__source:{fileName:q,lineNumber:249,columnNumber:9}},w.a.createElement(_.a,{placeholder:"请填写备注说明...",__source:{fileName:q,lineNumber:254,columnNumber:11}})),w.a.createElement(k,u()({},y,{__source:{fileName:q,lineNumber:323,columnNumber:9}}),w.a.createElement(n.a,{onClick:o()(E.a.mark((function r(){var l;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.current){r.next=16;break}return r.prev=1,r.next=4,e.current.validate();case 4:return console.log(e.current),console.log(e.current.getFields()),r.next=8,Object(v.b)(e.current.getFields());case 8:l=r.sent,console.log("param: ",l),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(e.current.getFieldsError()),m.a.error("校验失败，请检查字段！");case 16:case"end":return r.stop()}}),r,null,[[1,12]])}))),type:"primary",style:{marginRight:24},__source:{fileName:q,lineNumber:324,columnNumber:11}},"Submit"),w.a.createElement(n.a,{onClick:function(){e.current.resetFields()},__source:{fileName:q,lineNumber:346,columnNumber:11}},"Reset"))))}}}]);