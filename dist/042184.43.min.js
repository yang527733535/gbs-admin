(window.webpackJsonp=window.webpackJsonp||[]).push([[43,152],{174:function(e,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return h}));a(155);var t=a(74),l=(a(677),a(676)),n=(a(253),a(157)),u=(a(333),a(252)),m=(a(65),a(24)),o=(a(251),a(96)),c=a(4),i=a.n(c),s=a(56),b=a.n(s),_=a(22),N=a.n(_),d=(a(250),a(73)),f=a(35),p=a.n(f),g=a(0),y=a.n(g),E=a(639),O=a.n(E),v=a(111),w="/Users/mrhh/Desktop/gbs-admin/src/pages/store-game/gameDetail/baseDetail/index.tsx";function j(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function x(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?j(Object(a),!0).forEach((function(r){i()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}var S=[{title:"游戏编码",dataIndex:"game_code"},{title:"剧本编码",dataIndex:"gb_code"},{title:"是否支付",dataIndex:"is_pay",render:function(e){return JSON.parse(localStorage.getItem("AllMaP")).sys_pay_status[e]}},{title:"订单编号",dataIndex:"order_code"},{title:"玩家id",dataIndex:"player_id"},{title:"玩家名称",dataIndex:"player_name"},{title:"玩家备注",dataIndex:"player_note"},{title:"玩家类型",dataIndex:"player_type"},{title:"玩家帐号",dataIndex:"player_user"},{title:"更新时间",dataIndex:"updated_time"},{title:"创建时间",dataIndex:"created_time"}];function h(e){var r=e.clickItem,a=d.a.Item,c=Object(g.useRef)(),i=Object(g.useState)(),s=N()(i,2),_=s[0],f=s[1],E=Object(g.useState)(null),j=N()(E,2),h=j[0],I=j[1],C=Object(g.useState)([]),k=N()(C,2),P=k[0],D=k[1],q=Object(g.useState)(!1),J=N()(q,2),R=J[0],M=J[1],K=Object(g.useState)(!1),A=N()(K,2),L=A[0],T=A[1];Object(g.useEffect)((function(){U()}),[]);var U=function(){var e=b()(p.a.mark((function e(){var a,t,l,n,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.store_code,t=r.room_code,l=r.game_code,n={store_code:a,room_code:t,game_code:l},M(!0),e.next=5,Object(v.K)(n);case 5:u=e.sent,M(!1),I(u.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y.a.createElement("div",{__source:{fileName:w,lineNumber:81,columnNumber:5}},y.a.createElement(u.a,{onCancel:function(){T(!1)},footer:null,visible:L,__source:{fileName:w,lineNumber:82,columnNumber:7}},y.a.createElement(d.a,{onSubmit:function(){var e=b()(p.a.mark((function e(r){var a,t,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),a=x(x({},r),{},{game_code:h.game_code,store_code:h.store_code,order_arr:P}),console.log("param,",a),e.next=5,Object(v.L)(a);case 5:t=e.sent,l=t.data,console.log("data: ",l);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),__source:{fileName:w,lineNumber:89,columnNumber:9}},y.a.createElement(a,{field:"member_account",label:"付款账户",__source:{fileName:w,lineNumber:103,columnNumber:11}},y.a.createElement(o.a,{style:{width:150},__source:{fileName:w,lineNumber:104,columnNumber:13}},P.map((function(e){var r=e.player_user;return y.a.createElement(o.a.Option,{value:r,key:r,__source:{fileName:w,lineNumber:107,columnNumber:19}},r)})))),y.a.createElement(a,{__source:{fileName:w,lineNumber:114,columnNumber:11}},y.a.createElement(m.a,{style:{display:"flex",justifyContent:"center",marginLeft:100},type:"primary",htmlType:"submit",__source:{fileName:w,lineNumber:115,columnNumber:13}},"提交")))),y.a.createElement(t.a,{loading:R,__source:{fileName:w,lineNumber:125,columnNumber:7}},y.a.createElement("h3",{__source:{fileName:w,lineNumber:126,columnNumber:9}},"游戏详情"),y.a.createElement(d.a,{layout:"vertical",ref:c,className:O.a["form-group"],__source:{fileName:w,lineNumber:127,columnNumber:9}},y.a.createElement(n.a.Row,{gutter:80,__source:{fileName:w,lineNumber:128,columnNumber:11}},y.a.createElement(n.a.Col,{span:6,__source:{fileName:w,lineNumber:129,columnNumber:13}},y.a.createElement(a,{label:"游戏编码",field:"game_code",rules:[{required:!1,message:"请填写店铺名称"}],__source:{fileName:w,lineNumber:130,columnNumber:15}},y.a.createElement("span",{__source:{fileName:w,lineNumber:135,columnNumber:17}},null==h?void 0:h.game_code))),y.a.createElement(n.a.Col,{span:6,__source:{fileName:w,lineNumber:138,columnNumber:13}},y.a.createElement(a,{rules:[{required:!1,message:"请填写店铺地区"}],field:"gb_title",label:"剧本名称",__source:{fileName:w,lineNumber:139,columnNumber:15}},y.a.createElement("span",{__source:{fileName:w,lineNumber:144,columnNumber:17}},null==h?void 0:h.gb_title))),y.a.createElement(n.a.Col,{span:6,__source:{fileName:w,lineNumber:148,columnNumber:13}},y.a.createElement(a,{label:"剧本价格",field:"gb_price",rules:[{required:!1,message:"请填写详细地址"}],__source:{fileName:w,lineNumber:149,columnNumber:15}},y.a.createElement("span",{__source:{fileName:w,lineNumber:154,columnNumber:17}},"¥",null==h?void 0:h.gb_price))),y.a.createElement(n.a.Col,{span:6,__source:{fileName:w,lineNumber:157,columnNumber:13}},y.a.createElement(a,{label:"游戏状态",field:"game_status",rules:[{required:!1,message:"请填写店铺手机号码"}],__source:{fileName:w,lineNumber:158,columnNumber:15}},y.a.createElement("span",{__source:{fileName:w,lineNumber:163,columnNumber:17}},JSON.parse(localStorage.getItem("AllMaP")).sys_game_status[null==h?void 0:h.game_status]||(null==h?void 0:h.game_status)))),y.a.createElement(n.a.Col,{span:6,__source:{fileName:w,lineNumber:170,columnNumber:13}},y.a.createElement(a,{label:"店铺",field:"store_code",rules:[{required:!1,message:"请填写店铺电话号码"}],__source:{fileName:w,lineNumber:171,columnNumber:15}},y.a.createElement("span",{__source:{fileName:w,lineNumber:177,columnNumber:17}},JSON.parse(localStorage.getItem("SMap"))[null==h?void 0:h.store_code]))),y.a.createElement(n.a.Col,{span:6,__source:{fileName:w,lineNumber:180,columnNumber:13}},y.a.createElement(a,{label:"房间",field:"room_code",rules:[{required:!1,message:"请填写门店级别"}],__source:{fileName:w,lineNumber:181,columnNumber:15}},y.a.createElement("span",{__source:{fileName:w,lineNumber:186,columnNumber:17}},JSON.parse(localStorage.getItem("SMap"))[null==h?void 0:h.room_code])))),y.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:w,lineNumber:243,columnNumber:11}},y.a.createElement("h3",{__source:{fileName:w,lineNumber:249,columnNumber:13}},"玩家订单"),y.a.createElement(m.a,{onClick:function(){T(!0),console.log("s123",P)},type:"primary",__source:{fileName:w,lineNumber:250,columnNumber:13}},"批量支付")),y.a.createElement(l.a,{rowKey:"player_user",columns:S,rowSelection:{type:"checkbox",selectedRowKeys:_,onChange:function(e,r){console.log("selectedRows: ",r),console.log("selectedRows: ",e),D(r),f(e)}},data:(null==h?void 0:h.game_players)||[],__source:{fileName:w,lineNumber:261,columnNumber:11}}))))}},639:function(e,r,a){}}]);