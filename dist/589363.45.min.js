(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{176:function(e,r,n){"use strict";n.r(r);var t=n(5),o=n.n(t),a=(n(64),n(24)),l=(n(111),n(45)),c=n(65),u=n.n(c),s=(n(244),n(96)),i=n(22),m=n.n(i),f=(n(243),n(73)),b=n(44),d=n.n(b),p=n(0),g=n.n(p),_=n(242),N="/Users/mrhh/Desktop/gbs-admin/src/pages/role-user/form/index.jsx",h=f.a.Item,w={labelCol:{span:7},wrapperCol:{span:17}},k={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.closeModalAndReqTable,n=e.userListData,t=e.clickItem,c=Object(p.useRef)(),i=Object(p.useState)("default"),b=m()(i,2),v=b[0],x=(b[1],Object(p.useState)([])),C=m()(x,2),E=(C[0],C[1]);return console.log(t),Object(p.useEffect)((function(){c.current.setFieldsValue(t)}),[]),console.log(n),Object(p.useEffect)((function(){Object(_.u)().then((function(e){console.log("res: ",e);var r,n=e.data;r=n.map((function(e){return function e(r){var n=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:n?r.region_children.map((function(r){return e(r)})):[]}}(e)})),console.log(r),E(r)}))}),[]),g.a.createElement("div",{style:{maxWidth:650},__source:{fileName:N,lineNumber:56,columnNumber:5}},g.a.createElement(f.a,o()({ref:c},w,{size:v,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:N,lineNumber:57,columnNumber:7}}),g.a.createElement(h,{field:"user_list",label:"添加用户",__source:{fileName:N,lineNumber:67,columnNumber:9}},g.a.createElement(s.a,{filterOption:function(e,r){return r.props.value.toLowerCase().indexOf(e.toLowerCase())>=0||r.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},showSearch:!0,allowClear:!0,mode:"multiple",__source:{fileName:N,lineNumber:68,columnNumber:11}},n.map((function(e){return g.a.createElement(s.a.Option,{key:e.user_account,value:e.user_account,__source:{fileName:N,lineNumber:79,columnNumber:17}},e.user_name)})))),g.a.createElement(h,o()({},k,{__source:{fileName:N,lineNumber:86,columnNumber:9}}),g.a.createElement(a.a,{onClick:u()(d.a.mark((function e(){var n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.current){e.next=25;break}return e.prev=1,e.next=4,c.current.validate();case 4:if(null!==t){e.next=11;break}return console.log(c.current.getFields()),e.next=8,Object(_.g)(c.current.getFields());case 8:n=e.sent,e.next=17;break;case 11:return o=c.current.getFields(),console.log("param: ",o),o.store_code=t.store_code,e.next=16,Object(_.J)(o);case 16:n=e.sent;case 17:200===n.code&&(l.a.success("添加成功"),r()),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0),console.log(c.current.getFieldsError()),l.a.error("校验失败，请检查字段！");case 25:case"end":return e.stop()}}),e,null,[[1,20]])}))),type:"primary",style:{marginRight:24},__source:{fileName:N,lineNumber:87,columnNumber:11}},"提交"),g.a.createElement(a.a,{onClick:function(){c.current.resetFields()},__source:{fileName:N,lineNumber:119,columnNumber:11}},"重置"))))}}}]);