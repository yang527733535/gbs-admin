{"version":3,"file":"67.min.js","sources":["webpack:///./src/pages/step-form/style/index.module.less","webpack:///./src/pages/step-form/service.tsx","webpack:///./src/pages/step-form/style/index.module.less?caf3"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/_css-loader@3.6.0@css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".container-6427058b85 {\\n  padding: 20px;\\n}\\n.wrapper-1eba4af8b8 {\\n  background-color: var(--color-bg-2);\\n  padding: 64px 0;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.steps-79df5ed959 {\\n  margin-bottom: 36px;\\n}\\n.form-2a6f8eda19 {\\n  width: 622px;\\n}\\n.form-content-96ca552934 {\\n  padding: 8px 50px 0 30px;\\n}\\n.actions-df2cdcf708 {\\n  text-align: right;\\n  padding: 15px 0;\\n}\\n.actions-df2cdcf708 > button {\\n  margin-left: 8px;\\n}\\n.actions-df2cdcf708 > button:first-child {\\n  margin-left: 0;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"container-6427058b85\",\n\t\"wrapper\": \"wrapper-1eba4af8b8\",\n\t\"steps\": \"steps-79df5ed959\",\n\t\"form\": \"form-2a6f8eda19\",\n\t\"form-content\": \"form-content-96ca552934\",\n\t\"actions\": \"actions-df2cdcf708\"\n};\nmodule.exports = exports;\n","import \"@arco-design/web-react/es/Button/style\";\nimport _Button from \"@arco-design/web-react/es/Button\";\nimport \"@arco-design/web-react/es/Select/style\";\nimport _Select from \"@arco-design/web-react/es/Select\";\nimport \"@arco-design/web-react/es/Link/style\";\nimport _Link from \"@arco-design/web-react/es/Link\";\nimport \"@arco-design/web-react/es/Grid/style\";\nimport _Grid from \"@arco-design/web-react/es/Grid\";\nimport \"@arco-design/web-react/es/Form/style\";\nimport _Form from \"@arco-design/web-react/es/Form\";\nimport \"@arco-design/web-react/es/Input/style\";\nimport _Input from \"@arco-design/web-react/es/Input\";\nimport \"@arco-design/web-react/es/Typography/style\";\nimport _Typography from \"@arco-design/web-react/es/Typography\";\nimport \"@arco-design/web-react/es/Message/style\";\nimport _Message from \"@arco-design/web-react/es/Message\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/service.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport { UPDATE_FORM, GO_PREV, GO_NEXT } from './redux/actionTypes';\nimport useLocale from '../../utils/useLocale';\nimport styles from './style/index.module.less';\n\nfunction Service() {\n  var locale = useLocale();\n  var state = useSelector(function (state) {\n    return state.stepForm;\n  });\n  var dispatch = useDispatch();\n  var data = state.data;\n  var formRef = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var submit = function submit() {\n    setLoading(true);\n    var formData = formRef.current.getFieldsValue();\n    console.log('formData: ', formData);\n    console.log(data);\n    axios.post('/api/domainApply', {\n      data: _objectSpread(_objectSpread({}, data), formData)\n    })[\"finally\"](function () {\n      setLoading(false);\n    }).then(function () {\n      dispatch({\n        type: GO_NEXT\n      });\n    })[\"catch\"](function (error) {\n      _Message.error(error.message);\n    });\n  };\n\n  var onSubmitClick = function onSubmitClick() {\n    formRef.current.validate().then(function () {\n      submit();\n    });\n  };\n\n  useEffect(function () {\n    formRef.current.setFieldsValue(data);\n  }, [data]);\n  useEffect(function () {\n    return function () {\n      var _formRef$current;\n\n      var formData = ((_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldsValue()) || {};\n      dispatch({\n        type: UPDATE_FORM,\n        payload: {\n          data: formData\n        }\n      });\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(_Form, {\n    ref: formRef,\n    className: styles.form,\n    labelCol: {\n      span: 5\n    },\n    wrapperCol: {\n      span: 19\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Typography.Title, {\n    style: {\n      marginTop: 0,\n      marginBottom: 16\n    },\n    heading: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, locale['stepForm.form.title.upstream']), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: \"P.S.M\",\n    extra: locale['stepForm.form.extra.psm'],\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Row, {\n    align: \"center\",\n    justify: \"space-around\",\n    gutter: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    field: \"psm\",\n    rules: [{\n      required: true,\n      message: locale['stepForm.form.error.psm.required']\n    }],\n    style: {\n      marginBottom: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    placeholder: \"Product.Subsystem.Module\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, locale['stepForm.link.psmDefine'])))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['stepForm.form.label.strategy'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Row, {\n    align: \"center\",\n    justify: \"space-around\",\n    gutter: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    field: \"strategy\",\n    style: {\n      marginBottom: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    placeholder: locale['stepForm.placeholder.strategy'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"local\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"LOCAL\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"all\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"ALL\")))), /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, locale['stepForm.link.selectStrategy'])))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.actions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    type: \"secondary\",\n    onClick: function onClick() {\n      dispatch({\n        type: GO_PREV\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, locale['stepForm.button.prev']), /*#__PURE__*/React.createElement(_Button, {\n    loading: loading,\n    type: \"primary\",\n    onClick: onSubmitClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, locale['stepForm.button.submit'])));\n}\n\nexport default Service;","var api = require(\"!../../../../node_modules/_style-loader@1.3.0@style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-1!../../../../node_modules/_postcss-loader@4.3.0@postcss-loader/dist/cjs.js??ref--11-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--11-3!./index.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC3QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}