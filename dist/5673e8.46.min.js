(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{176:function(e,r,l){"use strict";l.r(r);var n=l(5),a=l.n(n),u=(l(77),l(30)),t=(l(148),l(52)),c=l(78),o=l.n(c),m=(l(642),l(641)),s=(l(647),l(648)),i=(l(149),l(53)),b=l(24),N=l.n(b),_=(l(311),l(104)),f=l(51),d=l.n(f),p=l(0),g=l.n(p),h=l(229),E="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-store/form/index.jsx",k=_.a.Item,w={labelCol:{span:7},wrapperCol:{span:17}},x={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.closeModalAndReqTable,l=e.clickItem,n=Object(p.useRef)(),c=Object(p.useState)("default"),b=N()(c,2),f=b[0],v=(b[1],Object(p.useState)([])),j=N()(v,2),y=j[0],q=j[1];return console.log(l),Object(p.useEffect)((function(){n.current.setFieldsValue(l)}),[]),Object(p.useEffect)((function(){Object(h.r)().then((function(e){console.log("res: ",e);var r,l=e.data;r=l.map((function(e){return function e(r){var l=Array.isArray(r.region_children)&&r.region_children.length>0;return{key:String(r.region_id),value:String(r.region_id),label:r.region_name,children:l?r.region_children.map((function(r){return e(r)})):[]}}(e)})),q(r)}))}),[]),g.a.createElement("div",{style:{maxWidth:650},__source:{fileName:E,lineNumber:113,columnNumber:5}},g.a.createElement(_.a,a()({ref:n},w,{size:f,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:E,lineNumber:114,columnNumber:7}}),g.a.createElement(k,{label:"店铺名称",field:"store_name",rules:[{required:!0,message:"请填写店铺名称"}],__source:{fileName:E,lineNumber:124,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请填写店铺名称...",__source:{fileName:E,lineNumber:129,columnNumber:11}})),g.a.createElement(k,{field:"position_index",label:"店铺地区",__source:{fileName:E,lineNumber:131,columnNumber:9}},g.a.createElement(s.a,{showSearch:!0,placeholder:"please select",allowClear:!0,options:y,__source:{fileName:E,lineNumber:132,columnNumber:11}})),g.a.createElement(k,{label:"门店类型",field:"store_type",rules:[{required:!1,message:"请填写门店类型"}],__source:{fileName:E,lineNumber:140,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请填写门店类型...",__source:{fileName:E,lineNumber:145,columnNumber:11}})),g.a.createElement(k,{label:"门店级别",field:"store_level",rules:[{required:!1,message:"请填写门店级别"}],__source:{fileName:E,lineNumber:147,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请填写门店级别...",__source:{fileName:E,lineNumber:152,columnNumber:11}})),g.a.createElement(k,{label:"开业日期",field:"open_date",rules:[{required:!0,message:"请填写开业日期"}],__source:{fileName:E,lineNumber:154,columnNumber:9}},g.a.createElement(m.a,{showTime:!0,__source:{fileName:E,lineNumber:164,columnNumber:11}})),g.a.createElement(k,{label:"详细地址",field:"position_address",rules:[{required:!0,message:"请填写详细地址"}],__source:{fileName:E,lineNumber:167,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请填写详细地址...",__source:{fileName:E,lineNumber:172,columnNumber:11}})),g.a.createElement(k,{label:"经度坐标",field:"position_x",rules:[{required:!1,message:"请填写经度坐标"}],__source:{fileName:E,lineNumber:174,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请填写经度坐标...",__source:{fileName:E,lineNumber:179,columnNumber:11}})),g.a.createElement(k,{label:"纬度坐标",field:"position_y",rules:[{required:!1,message:"请填写纬度坐标"}],__source:{fileName:E,lineNumber:181,columnNumber:9}},g.a.createElement(i.a,{placeholder:"请填写纬度坐标...",__source:{fileName:E,lineNumber:186,columnNumber:11}})),g.a.createElement(k,a()({},x,{__source:{fileName:E,lineNumber:189,columnNumber:9}}),g.a.createElement(u.a,{onClick:o()(d.a.mark((function e(){var a,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=25;break}return e.prev=1,e.next=4,n.current.validate();case 4:if(null!==l){e.next=11;break}return console.log(n.current.getFields()),e.next=8,Object(h.h)(n.current.getFields());case 8:a=e.sent,e.next=17;break;case 11:return u=n.current.getFields(),console.log("param: ",u),u.store_code=l.store_code,e.next=16,Object(h.B)(u);case 16:a=e.sent;case 17:200===a.code&&(t.a.success("添加成功"),r()),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0),console.log(n.current.getFieldsError()),t.a.error("校验失败，请检查字段！");case 25:case"end":return e.stop()}}),e,null,[[1,20]])}))),type:"primary",style:{marginRight:24},__source:{fileName:E,lineNumber:190,columnNumber:11}},"Submit"),g.a.createElement(u.a,{onClick:function(){n.current.resetFields()},__source:{fileName:E,lineNumber:221,columnNumber:11}},"Reset"))))}}}]);