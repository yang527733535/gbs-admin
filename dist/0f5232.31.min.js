(window.webpackJsonp=window.webpackJsonp||[]).push([[31,77],{301:function(e,t,n){"use strict";n.r(t);n(77);var r=n(28),a=(n(313),n(232)),o=(n(217),n(89)),c=(n(299),n(228)),l=(n(600),n(602)),i=(n(586),n(588)),s=(n(292),n(106)),m=(n(148),n(49)),u=n(24),d=n.n(u),f=n(0),p=n.n(f),b=n(29),y=n(90),N=n.n(y),h=n(52),O=n(33),v=n(550),g=n.n(v),E="/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/base-info.tsx";t.default=function(){var e=Object(O.a)(),t=Object(b.c)((function(e){return e.stepForm})),n=Object(b.b)(),u=t.data,y=t.activeKeys,v=Object(f.useRef)(),j=Object(f.useState)([]),_=d()(j,2),x=_[0],w=_[1],P=Object(f.useState)([]),I=d()(P,2),C=I[0],F=I[1],k=function(e){N.a.get("/api/lineList",{params:{cluster:e}}).then((function(e){F(e.data||[]),!u.lineName&&e.data.length&&v.current&&v.current.setFieldValue("lineName",e.data[0].value)}))};return Object(f.useEffect)((function(){N.a.get("/api/clusterList").then((function(e){w(e.data||[])}))}),[]),Object(f.useEffect)((function(){v.current.setFieldsValue(u),u.cluster&&k(u.cluster[0])}),[u]),Object(f.useEffect)((function(){return function(){var e,t=(null===(e=v.current)||void 0===e?void 0:e.getFieldsValue())||{};n({type:h.UPDATE_FORM,payload:{data:t}})}}),[]),p.a.createElement(s.a,{className:g.a.form,ref:v,__source:{fileName:E,lineNumber:93,columnNumber:5}},p.a.createElement(l.a,{bordered:!1,activeKey:y,onChange:function(e,t){n({type:h.UPDATE_ACTIVE_KEYS,payload:{activeKeys:t}})},__source:{fileName:E,lineNumber:94,columnNumber:7}},p.a.createElement(l.a.Item,{name:"baseConfig",header:e["stepForm.collapse.title.base"],__source:{fileName:E,lineNumber:95,columnNumber:9}},p.a.createElement("div",{className:g.a["form-content"],__source:{fileName:E,lineNumber:96,columnNumber:11}},p.a.createElement(s.a.Item,{label:e["stepForm.form.label.name"],field:"name",rules:[{required:!0,message:e["stepForm.form.error.name.required"]},{match:/^[a-zA-z0-9][-a-zA-z0-9]{0,62}(\.[a-zA-z0-9][-a-zA-z0-9]{0,62})+$/,message:e["stepForm.form.error.name.pattern"]}],__source:{fileName:E,lineNumber:97,columnNumber:13}},p.a.createElement(m.a,{placeholder:e["stepForm.placeholder.name"],__source:{fileName:E,lineNumber:108,columnNumber:15}})),p.a.createElement(s.a.Item,{label:e["stepForm.form.label.purpose"],field:"purpose",rules:[{required:!0,message:e["stepForm.form.error.purpose.required"]}],__source:{fileName:E,lineNumber:110,columnNumber:13}},p.a.createElement(m.a,{placeholder:e["stepForm.placeholder.purpose"],__source:{fileName:E,lineNumber:115,columnNumber:15}})),p.a.createElement(s.a.Item,{label:e["stepForm.form.label.cluster"],field:"cluster",__source:{fileName:E,lineNumber:117,columnNumber:13}},p.a.createElement(i.a,{placeholder:e["stepForm.placeholder.cluster"],options:x,onChange:function(e){var t=Array.isArray(e)&&e[e.length-1];v.current&&v.current.setFieldValue("lineName",void 0),t?k(t):F([])},__source:{fileName:E,lineNumber:118,columnNumber:15}})))),p.a.createElement(l.a.Item,{name:"advanceConfig",header:e["stepForm.collapse.title.highLevel"],__source:{fileName:E,lineNumber:126,columnNumber:9}},p.a.createElement(c.a,{closable:!0,banner:!0,type:"warning",content:e["stepForm.alert.highLevel"],__source:{fileName:E,lineNumber:127,columnNumber:11}}),p.a.createElement("div",{className:g.a["form-content"],__source:{fileName:E,lineNumber:128,columnNumber:11}},p.a.createElement(s.a.Item,{label:e["stepForm.form.label.type"],field:"type",__source:{fileName:E,lineNumber:129,columnNumber:13}},p.a.createElement(o.a,{placeholder:e["stepForm.placeholder.type"],__source:{fileName:E,lineNumber:130,columnNumber:15}},p.a.createElement(o.a.Option,{value:"web",__source:{fileName:E,lineNumber:131,columnNumber:17}},e["stepForm.label.type.web"]),p.a.createElement(o.a.Option,{value:"api",__source:{fileName:E,lineNumber:132,columnNumber:17}},e["stepForm.label.type.api"]))),p.a.createElement(s.a.Item,{label:e["stepForm.form.label.dns"],field:"dns",triggerPropName:"checked",__source:{fileName:E,lineNumber:135,columnNumber:13}},p.a.createElement(a.a,{__source:{fileName:E,lineNumber:140,columnNumber:15}})),p.a.createElement(s.a.Item,{label:e["stepForm.form.label.subDomain"],field:"subDomain",triggerPropName:"checked",__source:{fileName:E,lineNumber:142,columnNumber:13}},p.a.createElement(a.a,{__source:{fileName:E,lineNumber:147,columnNumber:15}})),p.a.createElement(s.a.Item,{label:e["stepForm.form.label.lineName"],field:"lineName",__source:{fileName:E,lineNumber:149,columnNumber:13}},p.a.createElement(o.a,{placeholder:e["stepForm.placeholder.lineName"],__source:{fileName:E,lineNumber:150,columnNumber:15}},C.map((function(e){return p.a.createElement(o.a.Option,{value:e.value,key:"".concat(e.value),__source:{fileName:E,lineNumber:152,columnNumber:19}},e.label)}))))))),p.a.createElement("div",{className:g.a.actions,__source:{fileName:E,lineNumber:161,columnNumber:7}},p.a.createElement(r.a,{type:"primary",onClick:function(){v.current.validate().then((function(){n({type:h.GO_NEXT})}))},__source:{fileName:E,lineNumber:162,columnNumber:9}},e["stepForm.button.next"])))}},550:function(e,t,n){e.exports={container:"container-6427058b85",wrapper:"wrapper-1eba4af8b8",steps:"steps-79df5ed959",form:"form-2a6f8eda19","form-content":"form-content-96ca552934",actions:"actions-df2cdcf708"}},600:function(e,t,n){"use strict";n(14),n(601)},601:function(e,t,n){},602:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),c=n(1),l=n(35),i=n(3),s=n(17),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var d=a.a.forwardRef((function(e,t){var n,o,d,f,p,b=Object(r.useContext)(i.a).getPrefixCls,y=Object(r.useContext)(L),N=e.children,h=e.name,O=e.header,v=e.className,g=e.style,E=e.contentStyle,j=e.extra,_=e.disabled,x=e.destroyOnHide,w=e.expandIcon,P=e.showExpandIcon,I=void 0===P||P,C=u(e,["children","name","header","className","style","contentStyle","extra","disabled","destroyOnHide","expandIcon","showExpandIcon"]),F=b("collapse-item"),k=y.activeKeys.indexOf(h)>-1,S=I?"expandIcon"in e?w:y.expandIcon:null;return a.a.createElement("div",m({ref:t},C,{className:Object(c.a)(F,(n={},n[F+"-active"]=k,n[F+"-no-icon"]=!S,n[F+"-disabled"]=_,n),v),style:g}),a.a.createElement("div",{className:Object(c.a)(F+"-header",F+"-header-"+y.expandIconPosition,(o={},o[F+"-header-disabled"]=_,o)),onClick:function(e){!_&&y.onToggle(h,e)}},S&&a.a.createElement(s.a,{prefix:F,disabled:_,className:Object(c.a)((d={},d[F+"-icon-hover-right"]="right"===y.expandIconPosition,d[F+"-header-icon-right"]="right"===y.expandIconPosition,d))},a.a.createElement("span",{className:Object(c.a)(F+"-header-icon",(f={},f[F+"-header-icon-down"]=k,f))},S)),a.a.createElement("div",{className:F+"-header-title"},O),j&&a.a.createElement("div",{className:F+"-header-extra",onClick:function(e){e.stopPropagation()}},j)),a.a.createElement(l.d,{in:k,addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},mountOnEnter:"destroyOnHide"in e?x:y.destroyOnHide||y.lazyload,unmountOnExit:"destroyOnHide"in e?x:y.destroyOnHide,onEnter:function(e){e.style.height=0,e.style.display="block"},onEntering:function(e){e.style.height=e.scrollHeight+"px"},onEntered:function(e){e.style.height="auto"},onExit:function(e){e.style.display="block",e.style.height=e.offsetHeight+"px",e.offsetHeight},onExiting:function(e){e.style.height=0},onExited:function(e){e.style.display="none",e.style.height="auto"}},a.a.createElement("div",{className:Object(c.a)(F+"-content",(p={},p[F+"-content-expanded"]=k,p))},a.a.createElement("div",{style:E,className:F+"-content-box"},N))))}));d.displayName="CollapseItem";var f=d,p=n(10),b=n(7),y=n.n(b),N=n(5),h=n.n(N),O=n(8);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){var n=Object(r.useContext)(O.a).prefixCls,o=e.spin,c=e.className,l=g(g({ref:t},e),{},{className:"".concat(c?c+" ":"").concat(n,"-icon ").concat(n,"-icon-caret-right")});return o&&(l.className="".concat(l.className," ").concat(n,"-icon-loading")),delete l.spin,delete l.isIcon,a.a.createElement("svg",y()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},l),a.a.createElement("path",{fill:"currentColor",stroke:"none",d:"M34.829 23.063c.6.48.6 1.394 0 1.874L17.949 38.44c-.785.629-1.949.07-1.949-.937V10.497c0-1.007 1.164-1.566 1.95-.937l16.879 13.503Z"}))}var j=a.a.forwardRef(E);j.defaultProps={isIcon:!0},j.displayName="IconCaretRight";var _=j,x=n(16);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){var n=Object(r.useContext)(O.a).prefixCls,o=e.spin,c=e.className,l=P(P({ref:t},e),{},{className:"".concat(c?c+" ":"").concat(n,"-icon ").concat(n,"-icon-caret-left")});return o&&(l.className="".concat(l.className," ").concat(n,"-icon-loading")),delete l.spin,delete l.isIcon,a.a.createElement("svg",y()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},l),a.a.createElement("path",{fill:"currentColor",stroke:"none",d:"M13.171 24.937a1.2 1.2 0 0 1 0-1.874L30.051 9.56c.785-.629 1.949-.07 1.949.937v27.006c0 1.006-1.164 1.566-1.95.937L13.171 24.937Z"}))}var C=a.a.forwardRef(I);C.defaultProps={isIcon:!0},C.displayName="IconCaretLeft";var F=C,k=n(9),S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},K=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return c},z=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},D=function(e,t){var n=[].concat(e);return t?n.slice(0,1):n},H={bordered:!0,lazyload:!0,expandIconPosition:"left"},L=Object(r.createContext)({expandIconPosition:"left",expandIcon:a.a.createElement(_,null),activeKeys:[],onToggle:function(){}});var R=a.a.forwardRef((function(e,t){var n=Object(r.useContext)(i.a),l=n.getPrefixCls,s=n.componentConfig,m=Object(k.a)(e,H,null==s?void 0:s.Collapse),u=K(Object(x.a)([],{defaultValue:"defaultActiveKey"in m?D(m.defaultActiveKey,m.accordion):void 0,value:"activeKey"in m?D(m.activeKey,m.accordion):void 0}),2),d=u[0],f=u[1],b=m.children,y=m.className,N=m.style,h=m.bordered,O=m.lazyload,v=m.expandIcon,g=m.expandIconPosition,E=m.destroyOnHide,j=m.accordion,w=m.onChange,P=A(m,["children","className","style","bordered","lazyload","expandIcon","expandIconPosition","destroyOnHide","accordion","onChange"]),I=l("collapse");return a.a.createElement(L.Provider,{value:{activeKeys:d,onToggle:function(e,t){var n=z([],K(d),!1),r=d.indexOf(e);r>-1?n.splice(r,1):j?n=[e]:n.push(e),"activeKey"in m||f(n),Object(o.d)(w)&&w(e,n,t)},lazyload:O,expandIcon:"expandIcon"in m?v:"right"===g?a.a.createElement(F,null):a.a.createElement(_,null),destroyOnHide:E,expandIconPosition:g}},a.a.createElement("div",S({ref:t},Object(p.a)(P,["activeKey","defaultActiveKey"]),{className:Object(c.a)(I,I+"-"+(h?"border":"borderless"),y),style:N}),b))}));R.displayName="Collapse",R.Item=f;var T=R;t.a=T}}]);