{"version":3,"file":"10.min.js","sources":["webpack:///./src/pages/step-form/index.tsx","webpack:///./src/pages/step-form/service.tsx","webpack:///./src/pages/step-form/success.tsx"],"sourcesContent":["import \"@arco-design/web-react/es/Spin/style\";\nimport _Spin from \"@arco-design/web-react/es/Spin\";\nimport \"@arco-design/web-react/es/Steps/style\";\nimport _Steps from \"@arco-design/web-react/es/Steps\";\nimport \"@arco-design/web-react/es/Breadcrumb/style\";\nimport _Breadcrumb from \"@arco-design/web-react/es/Breadcrumb\";\nvar _jsxFileName = \"/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/index.tsx\";\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport BaseInfo from './base-info';\nimport Service from './service';\nimport Success from './success';\nimport { UPDATE_FORM, UPDATE_LOADING } from './redux/actionTypes';\nimport useLocale from '../../utils/useLocale';\nimport styles from './style/index.module.less';\n\nfunction StepForm() {\n  var locale = useLocale();\n  var state = useSelector(function (state) {\n    return state.stepForm;\n  });\n  var dispatch = useDispatch();\n  var loading = state.loading,\n      step = state.step;\n\n  var fetchData = function fetchData() {\n    axios.get('/api/stepForm').then(function (res) {\n      dispatch({\n        type: UPDATE_FORM,\n        payload: {\n          data: res.data || {}\n        }\n      });\n    })[\"finally\"](function () {\n      dispatch({\n        type: UPDATE_LOADING,\n        payload: {\n          loading: false\n        }\n      });\n    });\n  };\n\n  useEffect(function () {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Breadcrumb, {\n    style: {\n      marginBottom: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Breadcrumb.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, locale['menu.form.step'])), /*#__PURE__*/React.createElement(_Spin, {\n    loading: loading,\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Steps, {\n    labelPlacement: \"vertical\",\n    className: styles.steps,\n    current: step,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Steps.Step, {\n    title: locale['stepForm.step.title.baseInfo'],\n    description: locale['stepForm.step.subTitle.baseInfo'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(_Steps.Step, {\n    title: locale['stepForm.step.title.target'],\n    description: locale['stepForm.step.subTitle.target'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(_Steps.Step, {\n    title: locale['stepForm.step.title.finish'],\n    description: locale['stepForm.step.subTitle.finish'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  })), step === 1 && /*#__PURE__*/React.createElement(BaseInfo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 26\n    }\n  }), step === 2 && /*#__PURE__*/React.createElement(Service, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 26\n    }\n  }), step === 3 && /*#__PURE__*/React.createElement(Success, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 26\n    }\n  }))));\n}\n\nexport default StepForm;","import \"@arco-design/web-react/es/Button/style\";\nimport _Button from \"@arco-design/web-react/es/Button\";\nimport \"@arco-design/web-react/es/Select/style\";\nimport _Select from \"@arco-design/web-react/es/Select\";\nimport \"@arco-design/web-react/es/Link/style\";\nimport _Link from \"@arco-design/web-react/es/Link\";\nimport \"@arco-design/web-react/es/Grid/style\";\nimport _Grid from \"@arco-design/web-react/es/Grid\";\nimport \"@arco-design/web-react/es/Form/style\";\nimport _Form from \"@arco-design/web-react/es/Form\";\nimport \"@arco-design/web-react/es/Input/style\";\nimport _Input from \"@arco-design/web-react/es/Input\";\nimport \"@arco-design/web-react/es/Typography/style\";\nimport _Typography from \"@arco-design/web-react/es/Typography\";\nimport \"@arco-design/web-react/es/Message/style\";\nimport _Message from \"@arco-design/web-react/es/Message\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/service.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport { UPDATE_FORM, GO_PREV, GO_NEXT } from './redux/actionTypes';\nimport useLocale from '../../utils/useLocale';\nimport styles from './style/index.module.less';\n\nfunction Service() {\n  var locale = useLocale();\n  var state = useSelector(function (state) {\n    return state.stepForm;\n  });\n  var dispatch = useDispatch();\n  var data = state.data;\n  var formRef = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var submit = function submit() {\n    setLoading(true);\n    var formData = formRef.current.getFieldsValue();\n    console.log('formData: ', formData);\n    console.log(data);\n    axios.post('/api/domainApply', {\n      data: _objectSpread(_objectSpread({}, data), formData)\n    })[\"finally\"](function () {\n      setLoading(false);\n    }).then(function () {\n      dispatch({\n        type: GO_NEXT\n      });\n    })[\"catch\"](function (error) {\n      _Message.error(error.message);\n    });\n  };\n\n  var onSubmitClick = function onSubmitClick() {\n    formRef.current.validate().then(function () {\n      submit();\n    });\n  };\n\n  useEffect(function () {\n    formRef.current.setFieldsValue(data);\n  }, [data]);\n  useEffect(function () {\n    return function () {\n      var _formRef$current;\n\n      var formData = ((_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldsValue()) || {};\n      dispatch({\n        type: UPDATE_FORM,\n        payload: {\n          data: formData\n        }\n      });\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(_Form, {\n    ref: formRef,\n    className: styles.form,\n    labelCol: {\n      span: 5\n    },\n    wrapperCol: {\n      span: 19\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Typography.Title, {\n    style: {\n      marginTop: 0,\n      marginBottom: 16\n    },\n    heading: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, locale['stepForm.form.title.upstream']), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: \"P.S.M\",\n    extra: locale['stepForm.form.extra.psm'],\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Row, {\n    align: \"center\",\n    justify: \"space-around\",\n    gutter: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    field: \"psm\",\n    rules: [{\n      required: true,\n      message: locale['stepForm.form.error.psm.required']\n    }],\n    style: {\n      marginBottom: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    placeholder: \"Product.Subsystem.Module\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, locale['stepForm.link.psmDefine'])))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: locale['stepForm.form.label.strategy'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Row, {\n    align: \"center\",\n    justify: \"space-around\",\n    gutter: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    field: \"strategy\",\n    style: {\n      marginBottom: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    placeholder: locale['stepForm.placeholder.strategy'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"local\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"LOCAL\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"all\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"ALL\")))), /*#__PURE__*/React.createElement(_Grid.Col, {\n    span: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, locale['stepForm.link.selectStrategy'])))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.actions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    type: \"secondary\",\n    onClick: function onClick() {\n      dispatch({\n        type: GO_PREV\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, locale['stepForm.button.prev']), /*#__PURE__*/React.createElement(_Button, {\n    loading: loading,\n    type: \"primary\",\n    onClick: onSubmitClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, locale['stepForm.button.submit'])));\n}\n\nexport default Service;","import \"@arco-design/web-react/es/Result/style\";\nimport _Result from \"@arco-design/web-react/es/Result\";\nimport \"@arco-design/web-react/es/Button/style\";\nimport _Button from \"@arco-design/web-react/es/Button\";\nvar _jsxFileName = \"/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/success.tsx\";\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { GO } from './redux/actionTypes';\nimport useLocale from '../../utils/useLocale';\n\nfunction Success() {\n  var locale = useLocale();\n  var dispatch = useDispatch();\n  return /*#__PURE__*/React.createElement(_Result, {\n    status: \"success\",\n    title: locale['stepForm.success.title'],\n    subTitle: locale['stepForm.success.subTitle'],\n    extra: [/*#__PURE__*/React.createElement(_Button, {\n      key: \"again\",\n      type: \"secondary\",\n      style: {\n        marginRight: 16\n      },\n      onClick: function onClick() {\n        dispatch({\n          type: GO,\n          payload: {\n            step: 1\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }\n    }, locale['stepForm.button.again']), /*#__PURE__*/React.createElement(_Button, {\n      key: \"view\",\n      type: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, locale['stepForm.button.view'])],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default Success;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5IA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3QA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}