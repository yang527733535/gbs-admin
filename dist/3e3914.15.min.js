(window.webpackJsonp=window.webpackJsonp||[]).push([[15,66,95],{172:function(e,r,a){"use strict";a.r(r);a(77);var t=a(30),n=a(78),u=a.n(n),l=(a(624),a(621)),o=(a(306),a(228)),m=(a(619),a(620)),c=(a(597),a(598)),i=(a(148),a(51)),s=(a(225),a(89)),b=(a(149),a(52)),N=a(24),_=a.n(N),f=(a(305),a(104)),d=a(53),p=a.n(d),g=a(0),E=a.n(g),h=a(224),y=a(7),O=a.n(y),v="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-staff-dm/form/index.jsx",w=f.a.Item;function j(e){var r=e.UserList,a=e.closeModalAndReqNewTableData,n=f.a.useForm(),N=_()(n,1)[0];return E.a.createElement("div",{__source:{fileName:v,lineNumber:19,columnNumber:5}},E.a.createElement(f.a,{onSubmit:function(e){console.log(e),b.a.success("success")},form:N,__source:{fileName:v,lineNumber:20,columnNumber:7}},E.a.createElement(w,{rules:[{required:!0,message:"请选择账号"}],field:"user_account",label:"选择账号",__source:{fileName:v,lineNumber:27,columnNumber:9}},E.a.createElement(s.a,{placeholder:"请选择账号",__source:{fileName:v,lineNumber:32,columnNumber:11}},null==r?void 0:r.map((function(e){return E.a.createElement(s.a.Option,{key:e.user_account,__source:{fileName:v,lineNumber:34,columnNumber:22}},e.user_account)})))),E.a.createElement(w,{rules:[{required:!0,message:"请输入昵称"}],field:"user_nick",label:"昵称",__source:{fileName:v,lineNumber:38,columnNumber:9}},E.a.createElement(i.a,{placeholder:"请输入昵称",__source:{fileName:v,lineNumber:43,columnNumber:11}})),E.a.createElement(w,{rules:[{required:!0,message:"请输入星座"}],field:"star_sign",label:"星座",__source:{fileName:v,lineNumber:45,columnNumber:9}},E.a.createElement(i.a,{placeholder:"请输入星座",__source:{fileName:v,lineNumber:50,columnNumber:11}})),E.a.createElement(w,{rules:[{required:!0,message:"请输入DM简介"}],field:"user_brief",label:"DM简介",__source:{fileName:v,lineNumber:52,columnNumber:9}},E.a.createElement(i.a.TextArea,{placeholder:"请输入DM简介",__source:{fileName:v,lineNumber:57,columnNumber:11}})),E.a.createElement(w,{rules:[{required:!0,message:"请输入擅长剧本"}],field:"skilled_drama",label:"擅长剧本",__source:{fileName:v,lineNumber:59,columnNumber:9}},E.a.createElement(i.a,{allowCreate:!0,mode:"multiple",placeholder:"擅长剧本",allowClear:!0,__source:{fileName:v,lineNumber:64,columnNumber:11}})),E.a.createElement(f.a.Item,{rules:[{required:!0,message:"请上传DM相片"}],label:"DM相片",field:"user_photo",triggerPropName:"fileList",__source:{fileName:v,lineNumber:66,columnNumber:9}},E.a.createElement(m.a,{limit:1,listType:"picture-card",name:"user_photo",customRequest:function(e){var r=e.onProgress,a=e.onError,t=e.onSuccess,n=e.file,u=new XMLHttpRequest;u.upload&&(u.upload.onprogress=function(e){var a;e.total>0&&(a=e.loaded/e.total*100),r(parseInt(a,10),e)}),u.onerror=function(e){a(e)},u.onload=function(){u.status<200||u.status,t(JSON.parse(u.responseText))};var l=new FormData;l.append("up_file",n),l.append("module","drama"),u.open("post","https://gbs.toptian.com/system/upload/image",!0),u.setRequestHeader("Authorization",localStorage.getItem("token")),u.send(l)},onPreview:function(e){c.a.info({title:"Preview",content:E.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:v,lineNumber:107,columnNumber:19}})})},__source:{fileName:v,lineNumber:72,columnNumber:11}})),E.a.createElement(w,{rules:[{required:!0,message:"请选择性别"}],field:"user_gender",label:"性别",__source:{fileName:v,lineNumber:116,columnNumber:9}},E.a.createElement(s.a,{__source:{fileName:v,lineNumber:121,columnNumber:11}},E.a.createElement(s.a.Option,{value:"0",__source:{fileName:v,lineNumber:122,columnNumber:13}},"未知"),E.a.createElement(s.a.Option,{value:"1",__source:{fileName:v,lineNumber:123,columnNumber:13}},"男"),E.a.createElement(s.a.Option,{value:"2",__source:{fileName:v,lineNumber:124,columnNumber:13}},"女"))),E.a.createElement(w,{rules:[{required:!0,message:"请输入获赞次数"}],field:"praise_qty",label:"获赞次数",__source:{fileName:v,lineNumber:127,columnNumber:9}},E.a.createElement(o.a,{__source:{fileName:v,lineNumber:132,columnNumber:11}})),E.a.createElement(w,{rules:[{required:!0,message:"请输入带场次数"}],field:"exp_value",label:"带场次数",__source:{fileName:v,lineNumber:134,columnNumber:9}},E.a.createElement(o.a,{__source:{fileName:v,lineNumber:139,columnNumber:11}})),E.a.createElement(w,{label:"加入时间",field:"join_date",rules:[{required:!0,message:"join_date is required"}],__source:{fileName:v,lineNumber:141,columnNumber:9}},E.a.createElement(l.a,{showTime:!0,__source:{fileName:v,lineNumber:151,columnNumber:11}})),E.a.createElement(w,{wrapperCol:{offset:5},__source:{fileName:v,lineNumber:153,columnNumber:9}},E.a.createElement(t.a,{onClick:u()(p.a.mark((function e(){var r,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=N.getFields()).user_photo=r.user_photo[0].url||r.user_photo[0].response.data.file_url,console.log(r),e.next=5,Object(h.g)(r);case 5:t=e.sent,console.log("data: ",t),200===t.code&&a();case 8:case"end":return e.stop()}}),e)}))),type:"primary",__source:{fileName:v,lineNumber:158,columnNumber:11}},"Submit"))))}j.propTypes={name:O.a.string.isRequired},r.default=j},188:function(e,r,a){"use strict";a.r(r);a(623);var t=a(622),n=(a(601),a(605)),u=(a(150),a(79)),l=(a(148),a(51)),o=(a(77),a(30)),m=(a(608),a(609)),c=(a(597),a(598)),i=a(4),s=a.n(i),b=a(78),N=a.n(b),_=a(24),f=a.n(_),d=a(599),p=a.n(d),g=a(53),E=a.n(g),h=a(0),y=a.n(h),O=a(32),v=a(112),w=a(316),j=a(172),T=a(34),P=a(584),D=a.n(P),x="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-staff-dm/index.tsx";function A(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function I(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?A(Object(a),!0).forEach((function(r){s()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}r.default=function(e){p()(e);var r=Object(T.a)(),a=Object(h.useState)([]),i=f()(a,2),s=i[0],b=i[1],_=Object(h.useState)(),d=f()(_,2),g=d[0],P=d[1],A=Object(h.useState)(""),S=f()(A,2),k=S[0],q=S[1],C=Object(h.useState)(""),U=f()(C,2),M=U[0],R=U[1],L=Object(h.useState)(""),F=f()(L,2),z=F[0],G=F[1],J=Object(h.useState)(""),B=f()(J,2),H=B[0],K=B[1],W=[{title:"用户名称",dataIndex:"user_nick"},{title:"账号",dataIndex:"user_account"},{title:"账号",dataIndex:"user_photo",render:function(e){return y.a.createElement("img",{src:e,style:{width:100,height:100},alt:"",__source:{fileName:x,lineNumber:37,columnNumber:16}})}},{title:r["searchTable.columns.createdTime"],dataIndex:"join_date"},{title:"更新时间",dataIndex:"update_time"}],X=Object(O.c)((function(e){return e.searchTable})),Q=X.pagination,V=X.loading,Y=X.data,Z=X.formParams,$=Object(O.b)();Object(h.useEffect)((function(){re()}),[]),Object(h.useEffect)((function(){ee()}),[]);var ee=function(){var e=N()(E.a.mark((function e(){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.c)();case 2:r=e.sent,b(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(v.b)({page:e,page_size:r,user_account:k,user_mobile:M,user_name:z,user_status:H});t.then((function(e){var r=e.data,t=e.paginator;$({type:w.UPDATE_LIST,payload:{data:r}}),$({type:w.UPDATE_PAGINATION,payload:{pagination:I(I({},Q),{},{current:t.page,pageSize:t.page_size,total:t.total_count})}}),$({type:w.UPDATE_LOADING,payload:{loading:!1}}),$({type:w.UPDATE_FORM_PARAMS,payload:{params:a}})}))}return y.a.createElement("div",{className:D.a.container,__source:{fileName:x,lineNumber:101,columnNumber:5}},y.a.createElement(c.a,{title:"添加主持人",footer:null,onCancel:function(){P(!1)},style:{width:600},visible:g,__source:{fileName:x,lineNumber:102,columnNumber:7}},y.a.createElement(j.default,{closeModalAndReqNewTableData:function(){P(!1),re()},UserList:s,__source:{fileName:x,lineNumber:111,columnNumber:9}})),y.a.createElement(m.a,{style:{marginBottom:20},__source:{fileName:x,lineNumber:119,columnNumber:7}},y.a.createElement(m.a.Item,{__source:{fileName:x,lineNumber:120,columnNumber:9}},"运营管理"),y.a.createElement(m.a.Item,{__source:{fileName:x,lineNumber:121,columnNumber:9}},"人员管理")),y.a.createElement("div",{__source:{fileName:x,lineNumber:123,columnNumber:7}},y.a.createElement(n.a,{style:{marginBottom:20},__source:{fileName:x,lineNumber:124,columnNumber:9}},y.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:x,lineNumber:125,columnNumber:11}},y.a.createElement(o.a,{onClick:function(){P(!0)},type:"primary",__source:{fileName:x,lineNumber:126,columnNumber:13}},"添加主持人"),y.a.createElement("div",{__source:{fileName:x,lineNumber:134,columnNumber:13}},y.a.createElement(u.a,{__source:{fileName:x,lineNumber:135,columnNumber:15}},y.a.createElement(l.a,{onChange:function(e){q(e)},placeholder:"请输入账号",style:{width:200},__source:{fileName:x,lineNumber:136,columnNumber:17}}),y.a.createElement(l.a,{onChange:function(e){R(e)},placeholder:"请输入手机号码",style:{width:200},__source:{fileName:x,lineNumber:143,columnNumber:17}}),y.a.createElement(l.a,{onChange:function(e){G(e)},placeholder:"请输入用户名",style:{width:200},__source:{fileName:x,lineNumber:150,columnNumber:17}}),y.a.createElement(l.a,{onChange:function(e){K(e)},placeholder:"用户状态",style:{width:200},__source:{fileName:x,lineNumber:157,columnNumber:17}}),y.a.createElement(o.a,{onClick:function(){q(""),R(""),G(""),K("")},__source:{fileName:x,lineNumber:164,columnNumber:17}},"重置"),y.a.createElement(o.a,{onClick:function(){re()},type:"primary",__source:{fileName:x,lineNumber:174,columnNumber:17}},"搜索")))))),y.a.createElement(n.a,{bordered:!1,__source:{fileName:x,lineNumber:187,columnNumber:7}},y.a.createElement(t.a,{rowKey:"user_account",loading:V,data:Y,onChange:function(e){re(e.current,e.pageSize,Z)},pagination:Q,columns:W,__source:{fileName:x,lineNumber:188,columnNumber:9}})))}},316:function(e,r,a){"use strict";a.r(r),a.d(r,"UPDATE_LIST",(function(){return t})),a.d(r,"UPDATE_LOADING",(function(){return n})),a.d(r,"UPDATE_PAGINATION",(function(){return u})),a.d(r,"UPDATE_FORM_PARAMS",(function(){return l}));var t="searchTable_update_list",n="searchTable_update_loading",u="searchTable_update_pagination",l="searchTable_update_formParams"},584:function(e,r,a){e.exports={container:"container-ab6aaf640e",toolbar:"toolbar-d23a17367e",operations:"operations-f3635822bd"}},599:function(e,r){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.exports.__esModule=!0,e.exports.default=e.exports}}]);