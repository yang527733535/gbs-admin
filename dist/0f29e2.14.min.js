(window.webpackJsonp=window.webpackJsonp||[]).push([[14,28,53,78],{158:function(e,r,a){"use strict";a.r(r);var t=a(7),l=a.n(t),n=(a(77),a(28)),u=(a(149),a(59)),m=a(78),o=a.n(m),c=(a(586),a(584)),i=(a(602),a(606)),s=(a(291),a(217)),b=(a(603),a(605)),N=(a(571),a(573)),_=(a(148),a(49)),f=a(24),d=a.n(f),p=(a(290),a(107)),g=a(50),E=a.n(g),h=a(0),y=a.n(h),v=a(215),O="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/form/index.jsx",w=p.a.Item,x={labelCol:{span:7},wrapperCol:{span:17}},T={wrapperCol:{span:17,offset:7}};r.default=function(){var e=Object(h.useRef)(),r=Object(h.useState)("default"),a=d()(r,2),t=a[0];return a[1],Object(h.useEffect)((function(){}),[]),y.a.createElement("div",{style:{maxWidth:650},__source:{fileName:O,lineNumber:53,columnNumber:5}},y.a.createElement(p.a,l()({ref:e},x,{size:t,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:O,lineNumber:54,columnNumber:7}}),y.a.createElement(w,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:O,lineNumber:68,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写剧本名称...",__source:{fileName:O,lineNumber:73,columnNumber:11}})),y.a.createElement(w,{label:"剧本类型",field:"gb_type",rules:[{required:!1,message:"请填写剧本类型"}],__source:{fileName:O,lineNumber:75,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写剧本类型...",__source:{fileName:O,lineNumber:80,columnNumber:11}})),y.a.createElement(w,{label:"剧本区域",field:"gb_area",rules:[{required:!1,message:"请填写剧本区域"}],__source:{fileName:O,lineNumber:82,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写剧本区域...",__source:{fileName:O,lineNumber:87,columnNumber:11}})),y.a.createElement(p.a.Item,{label:"剧本封面",triggerPropName:"fileList",__source:{fileName:O,lineNumber:90,columnNumber:9}},y.a.createElement(b.a,{listType:"picture-card",multiple:!0,name:"files",customRequest:function(e){console.log(e);var r=e.onProgress,a=e.onError,t=e.onSuccess,l=e.file;console.log("file: ",l);var n=new XMLHttpRequest;n.upload&&(n.upload.onprogress=function(e){var a;e.total>0&&(a=e.loaded/e.total*100),r(parseInt(a,10),e)}),n.onerror=function(e){a(e)},n.onload=function(){if(n.status<200||n.status>=300)return a(n.responseText);t(n.responseText,n)};var u=new FormData;u.append("up_file",l),u.append("module","drama"),n.open("post","http://120.24.188.169:8000/system/upload/image",!0),n.setRequestHeader("Authorization",localStorage.getItem("token")),n.send(u)},onPreview:function(e){N.a.info({title:"Preview",content:y.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:O,lineNumber:142,columnNumber:19}})})},__source:{fileName:O,lineNumber:103,columnNumber:11}})),y.a.createElement(w,{label:"玩家人数",field:"gb_people",rules:[{type:"number",required:!1}],__source:{fileName:O,lineNumber:151,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入玩家人数",__source:{fileName:O,lineNumber:152,columnNumber:11}})),y.a.createElement(w,{label:"参考价格",field:"gb_price",rules:[{type:"number",required:!1}],__source:{fileName:O,lineNumber:154,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:O,lineNumber:155,columnNumber:11}})),y.a.createElement(w,{label:"玩家说明",field:"gb_people_note",rules:[{required:!1,message:"请填写玩家说明"}],__source:{fileName:O,lineNumber:157,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写玩家说明...",__source:{fileName:O,lineNumber:162,columnNumber:11}})),y.a.createElement(w,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!1,type:"number"}],__source:{fileName:O,lineNumber:217,columnNumber:9}},y.a.createElement(i.a,{allowHalf:!0,__source:{fileName:O,lineNumber:227,columnNumber:11}})),y.a.createElement(w,{label:"上架时间",field:"gb_add_time",rules:[{required:!0,message:"gb_add_time is required"}],__source:{fileName:O,lineNumber:230,columnNumber:9}},y.a.createElement(c.a,{showTime:!0,__source:{fileName:O,lineNumber:240,columnNumber:11}})),y.a.createElement(w,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:O,lineNumber:242,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写版权信息...",__source:{fileName:O,lineNumber:247,columnNumber:11}})),y.a.createElement(w,{label:"备注说明",field:"gb_remarks",rules:[{required:!0,message:"请填写备注说明"}],__source:{fileName:O,lineNumber:249,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写备注说明...",__source:{fileName:O,lineNumber:254,columnNumber:11}})),y.a.createElement(w,l()({},T,{__source:{fileName:O,lineNumber:323,columnNumber:9}}),y.a.createElement(n.a,{onClick:o()(E.a.mark((function r(){var a;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.current){r.next=16;break}return r.prev=1,r.next=4,e.current.validate();case 4:return console.log(e.current),console.log(e.current.getFields()),r.next=8,Object(v.b)(e.current.getFields());case 8:a=r.sent,console.log("param: ",a),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(e.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 16:case"end":return r.stop()}}),r,null,[[1,12]])}))),type:"primary",style:{marginRight:24},__source:{fileName:O,lineNumber:324,columnNumber:11}},"Submit"),y.a.createElement(n.a,{onClick:function(){e.current.resetFields()},__source:{fileName:O,lineNumber:346,columnNumber:11}},"Reset"))))}},176:function(e,r,a){"use strict";a.r(r);a(578);var t=a(577),l=(a(569),a(576)),n=(a(150),a(79)),u=(a(148),a(49)),m=(a(570),a(575)),o=(a(571),a(573)),c=a(6),i=a.n(c),s=(a(77),a(28)),b=(a(151),a(60)),N=a(24),_=a.n(N),f=a(0),d=a.n(f),p=a(32),g=a(215),E=a(292),h=a(33),y=a(554),v=a.n(y),O=a(158),w="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/index.tsx";function x(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function T(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?x(Object(a),!0).forEach((function(r){i()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}r.default=function(){var e=Object(h.a)(),r=Object(f.useState)(!1),a=_()(r,2),c=a[0],i=a[1],N=[{title:"剧本ID",dataIndex:"gb_id"},{title:"剧本标题",dataIndex:"gb_title"},{title:"剧本类型",dataIndex:"gb_type",render:function(e){return d.a.createElement(b.a.Text,{copyable:!0,__source:{fileName:w,lineNumber:45,columnNumber:26}},e)}},{title:"剧本区域",dataIndex:"gb_area"},{title:"剧本封面",dataIndex:"gb_cover",render:function(e,r,a){return console.log(e,a),d.a.createElement("img",{style:{width:60,height:90},src:r.gb_cover,__source:{fileName:w,lineNumber:56,columnNumber:16}})}},{title:e["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:e["searchTable.columns.operations"],dataIndex:"operations",render:function(){return d.a.createElement("div",{className:v.a.operations,__source:{fileName:w,lineNumber:71,columnNumber:9}},d.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:w,lineNumber:72,columnNumber:11}},e["searchTable.columns.operations.view"]),d.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:w,lineNumber:75,columnNumber:11}},e["searchTable.columns.operations.update"]),d.a.createElement(s.a,{type:"text",status:"danger",size:"small",__source:{fileName:w,lineNumber:78,columnNumber:11}},e["searchTable.columns.operations.delete"]))}}],y=Object(p.c)((function(e){return e.searchTable})),x=y.data,P=y.pagination,j=y.loading,I=y.formParams,A=Object(p.b)();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(g.h)({page:e,page_size:r});t.then((function(e){console.log(e);var r=e.data,t=e.paginator;A({type:E.UPDATE_LIST,payload:{data:r}}),A({type:E.UPDATE_PAGINATION,payload:{pagination:T(T({},P),{},{current:t.page,pageSize:t.page_size,total:t.total_count})}}),A({type:E.UPDATE_LOADING,payload:{loading:!1}}),A({type:E.UPDATE_FORM_PARAMS,payload:{params:a}})}))}return Object(f.useEffect)((function(){C()}),[]),d.a.createElement("div",{className:v.a.container,__source:{fileName:w,lineNumber:125,columnNumber:5}},d.a.createElement(o.a,{title:"添加剧本",footer:null,onCancel:function(){i(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:c,__source:{fileName:w,lineNumber:126,columnNumber:7}},d.a.createElement(O.default,{__source:{fileName:w,lineNumber:136,columnNumber:9}})),d.a.createElement(m.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:138,columnNumber:7}},d.a.createElement(m.a.Item,{__source:{fileName:w,lineNumber:139,columnNumber:9}},"运营管理"),d.a.createElement(m.a.Item,{__source:{fileName:w,lineNumber:140,columnNumber:9}},"剧本管理")),d.a.createElement("div",{__source:{fileName:w,lineNumber:142,columnNumber:7}},d.a.createElement(l.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:143,columnNumber:9}},d.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:w,lineNumber:144,columnNumber:11}},d.a.createElement(s.a,{style:{marginRight:20},onClick:function(){i(!0)},type:"primary",__source:{fileName:w,lineNumber:145,columnNumber:13}},"添加剧本"),d.a.createElement("div",{__source:{fileName:w,lineNumber:154,columnNumber:13}},d.a.createElement(n.a,{style:{flex:1},wrap:!0,__source:{fileName:w,lineNumber:155,columnNumber:15}},d.a.createElement(u.a,{onChange:function(){},placeholder:"请输入剧本标题",style:{width:200},__source:{fileName:w,lineNumber:156,columnNumber:17}}),d.a.createElement(u.a,{onChange:function(){},placeholder:"剧本类型",style:{width:200},__source:{fileName:w,lineNumber:161,columnNumber:17}}),d.a.createElement(u.a,{onChange:function(){},placeholder:"剧本区域",style:{width:200},__source:{fileName:w,lineNumber:162,columnNumber:17}}),d.a.createElement(u.a,{onChange:function(){},placeholder:"玩家人数",style:{width:200},__source:{fileName:w,lineNumber:163,columnNumber:17}}),d.a.createElement(u.a,{onChange:function(){},placeholder:"剧本状态",style:{width:200},__source:{fileName:w,lineNumber:164,columnNumber:17}}),d.a.createElement(s.a,{onClick:function(){},__source:{fileName:w,lineNumber:165,columnNumber:17}},"重置"),d.a.createElement(s.a,{onClick:function(){C()},type:"primary",__source:{fileName:w,lineNumber:166,columnNumber:17}},"搜索")))))),d.a.createElement(l.a,{bordered:!1,__source:{fileName:w,lineNumber:179,columnNumber:7}},d.a.createElement(t.a,{rowKey:"user_account",loading:j,onChange:function(e){C(e.current,e.pageSize,I)},pagination:P,columns:N,data:x,__source:{fileName:w,lineNumber:180,columnNumber:9}})))}},292:function(e,r,a){"use strict";a.r(r),a.d(r,"UPDATE_LIST",(function(){return t})),a.d(r,"UPDATE_LOADING",(function(){return l})),a.d(r,"UPDATE_PAGINATION",(function(){return n})),a.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var t="searchTable_update_list",l="searchTable_update_loading",n="searchTable_update_pagination",u="searchTable_update_formParams"},554:function(e,r,a){e.exports={container:"container-50d7a459ef",toolbar:"toolbar-603124241c",operations:"operations-1e37fde15b"}}}]);