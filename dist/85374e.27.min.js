(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{157:function(e,n,r){"use strict";r.r(n);var t=r(7),o=r.n(t),a=(r(77),r(28)),c=(r(149),r(59)),l=r(78),u=r.n(l),s=(r(216),r(89)),i=r(24),m=r.n(i),f=(r(290),r(107)),b=r(50),d=r.n(b),g=r(0),p=r.n(g),_=r(215),N="/Users/mrhh/Desktop/gbs-admin/src/pages/role-user/form/index.jsx",h=f.a.Item,k={labelCol:{span:7},wrapperCol:{span:17}},v={wrapperCol:{span:17,offset:7}};n.default=function(e){var n=e.closeModalAndReqTable,r=e.userListData,t=e.clickItem,l=Object(g.useRef)(),i=Object(g.useState)("default"),b=m()(i,2),E=b[0],x=(b[1],Object(g.useState)([])),w=m()(x,2),j=(w[0],w[1]);return console.log(t),Object(g.useEffect)((function(){l.current.setFieldsValue(t)}),[]),console.log(r),Object(g.useEffect)((function(){Object(_.k)().then((function(e){console.log("res: ",e);var n,r=e.data;n=r.map((function(e){return function e(n){var r=Array.isArray(n.region_children)&&n.region_children.length>0;return{key:String(n.region_id),value:String(n.region_id),label:n.region_name,children:r?n.region_children.map((function(n){return e(n)})):[]}}(e)})),console.log(n),j(n)}))}),[]),p.a.createElement("div",{style:{maxWidth:650},__source:{fileName:N,lineNumber:55,columnNumber:5}},p.a.createElement(f.a,o()({ref:l},k,{size:E,onSubmit:function(e){console.log(e)},onValuesChange:function(e,n){console.log("onValuesChange: ",e,n)},scrollToFirstError:!0,__source:{fileName:N,lineNumber:56,columnNumber:7}}),p.a.createElement(h,{field:"user_list",label:"添加用户",__source:{fileName:N,lineNumber:66,columnNumber:9}},p.a.createElement(s.a,{mode:"multiple",__source:{fileName:N,lineNumber:67,columnNumber:11}},r.map((function(e){return p.a.createElement(s.a.Option,{value:e.user_account,__source:{fileName:N,lineNumber:69,columnNumber:22}},e.user_name)})))),p.a.createElement(h,o()({},v,{__source:{fileName:N,lineNumber:73,columnNumber:9}}),p.a.createElement(a.a,{onClick:u()(d.a.mark((function e(){var r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=26;break}return e.prev=1,e.next=4,l.current.validate();case 4:if(null!==t){e.next=11;break}return console.log(l.current.getFields()),e.next=8,Object(_.c)(l.current.getFields());case 8:r=e.sent,e.next=17;break;case 11:return o=l.current.getFields(),console.log("param: ",o),o.store_code=t.store_code,e.next=16,Object(_.n)(o);case 16:r=e.sent;case 17:console.log("data: ",r),200===r.code&&(c.a.success("添加成功"),n()),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),console.log(l.current.getFieldsError()),c.a.error("校验失败，请检查字段！");case 26:case"end":return e.stop()}}),e,null,[[1,21]])}))),type:"primary",style:{marginRight:24},__source:{fileName:N,lineNumber:74,columnNumber:11}},"提交"),p.a.createElement(a.a,{onClick:function(){l.current.resetFields()},__source:{fileName:N,lineNumber:106,columnNumber:11}},"重置"))))}}}]);