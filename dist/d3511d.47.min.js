(window.webpackJsonp=window.webpackJsonp||[]).push([[47,100],{333:function(e,t,a){"use strict";a.r(t);a(77);var n=a(30),r=(a(347),a(251)),l=(a(229),a(89)),o=(a(331),a(242)),c=(a(652),a(654)),i=(a(641),a(642)),m=(a(310),a(104)),s=(a(149),a(53)),u=a(24),d=a.n(u),f=a(0),p=a.n(f),b=a(32),N=a(91),y=a.n(N),h=a(55),v=a(34),O=a(580),E=a.n(O),g="/Users/mrhh/Desktop/gbs-admin/src/pages/step-form/base-info.tsx";t.default=function(){var e=Object(v.a)(),t=Object(b.c)((function(e){return e.stepForm})),a=Object(b.b)(),u=t.data,N=t.activeKeys,O=Object(f.useRef)(),_=Object(f.useState)([]),x=d()(_,2),j=x[0],I=x[1],F=Object(f.useState)([]),w=d()(F,2),P=w[0],C=w[1],A=function(e){y.a.get("/api/lineList",{params:{cluster:e}}).then((function(e){C(e.data||[]),!u.lineName&&e.data.length&&O.current&&O.current.setFieldValue("lineName",e.data[0].value)}))};return Object(f.useEffect)((function(){y.a.get("/api/clusterList").then((function(e){I(e.data||[])}))}),[]),Object(f.useEffect)((function(){O.current.setFieldsValue(u),u.cluster&&A(u.cluster[0])}),[u]),Object(f.useEffect)((function(){return function(){var e,t=(null===(e=O.current)||void 0===e?void 0:e.getFieldsValue())||{};a({type:h.UPDATE_FORM,payload:{data:t}})}}),[]),p.a.createElement(m.a,{className:E.a.form,ref:O,__source:{fileName:g,lineNumber:93,columnNumber:5}},p.a.createElement(c.a,{bordered:!1,activeKey:N,onChange:function(e,t){a({type:h.UPDATE_ACTIVE_KEYS,payload:{activeKeys:t}})},__source:{fileName:g,lineNumber:94,columnNumber:7}},p.a.createElement(c.a.Item,{name:"baseConfig",header:e["stepForm.collapse.title.base"],__source:{fileName:g,lineNumber:95,columnNumber:9}},p.a.createElement("div",{className:E.a["form-content"],__source:{fileName:g,lineNumber:96,columnNumber:11}},p.a.createElement(m.a.Item,{label:e["stepForm.form.label.name"],field:"name",rules:[{required:!0,message:e["stepForm.form.error.name.required"]},{match:/^[a-zA-z0-9][-a-zA-z0-9]{0,62}(\.[a-zA-z0-9][-a-zA-z0-9]{0,62})+$/,message:e["stepForm.form.error.name.pattern"]}],__source:{fileName:g,lineNumber:97,columnNumber:13}},p.a.createElement(s.a,{placeholder:e["stepForm.placeholder.name"],__source:{fileName:g,lineNumber:108,columnNumber:15}})),p.a.createElement(m.a.Item,{label:e["stepForm.form.label.purpose"],field:"purpose",rules:[{required:!0,message:e["stepForm.form.error.purpose.required"]}],__source:{fileName:g,lineNumber:110,columnNumber:13}},p.a.createElement(s.a,{placeholder:e["stepForm.placeholder.purpose"],__source:{fileName:g,lineNumber:115,columnNumber:15}})),p.a.createElement(m.a.Item,{label:e["stepForm.form.label.cluster"],field:"cluster",__source:{fileName:g,lineNumber:117,columnNumber:13}},p.a.createElement(i.a,{placeholder:e["stepForm.placeholder.cluster"],options:j,onChange:function(e){var t=Array.isArray(e)&&e[e.length-1];O.current&&O.current.setFieldValue("lineName",void 0),t?A(t):C([])},__source:{fileName:g,lineNumber:118,columnNumber:15}})))),p.a.createElement(c.a.Item,{name:"advanceConfig",header:e["stepForm.collapse.title.highLevel"],__source:{fileName:g,lineNumber:126,columnNumber:9}},p.a.createElement(o.a,{closable:!0,banner:!0,type:"warning",content:e["stepForm.alert.highLevel"],__source:{fileName:g,lineNumber:127,columnNumber:11}}),p.a.createElement("div",{className:E.a["form-content"],__source:{fileName:g,lineNumber:128,columnNumber:11}},p.a.createElement(m.a.Item,{label:e["stepForm.form.label.type"],field:"type",__source:{fileName:g,lineNumber:129,columnNumber:13}},p.a.createElement(l.a,{placeholder:e["stepForm.placeholder.type"],__source:{fileName:g,lineNumber:130,columnNumber:15}},p.a.createElement(l.a.Option,{value:"web",__source:{fileName:g,lineNumber:131,columnNumber:17}},e["stepForm.label.type.web"]),p.a.createElement(l.a.Option,{value:"api",__source:{fileName:g,lineNumber:132,columnNumber:17}},e["stepForm.label.type.api"]))),p.a.createElement(m.a.Item,{label:e["stepForm.form.label.dns"],field:"dns",triggerPropName:"checked",__source:{fileName:g,lineNumber:135,columnNumber:13}},p.a.createElement(r.a,{__source:{fileName:g,lineNumber:140,columnNumber:15}})),p.a.createElement(m.a.Item,{label:e["stepForm.form.label.subDomain"],field:"subDomain",triggerPropName:"checked",__source:{fileName:g,lineNumber:142,columnNumber:13}},p.a.createElement(r.a,{__source:{fileName:g,lineNumber:147,columnNumber:15}})),p.a.createElement(m.a.Item,{label:e["stepForm.form.label.lineName"],field:"lineName",__source:{fileName:g,lineNumber:149,columnNumber:13}},p.a.createElement(l.a,{placeholder:e["stepForm.placeholder.lineName"],__source:{fileName:g,lineNumber:150,columnNumber:15}},P.map((function(e){return p.a.createElement(l.a.Option,{value:e.value,key:"".concat(e.value),__source:{fileName:g,lineNumber:152,columnNumber:19}},e.label)}))))))),p.a.createElement("div",{className:E.a.actions,__source:{fileName:g,lineNumber:161,columnNumber:7}},p.a.createElement(n.a,{type:"primary",onClick:function(){O.current.validate().then((function(){a({type:h.GO_NEXT})}))},__source:{fileName:g,lineNumber:162,columnNumber:9}},e["stepForm.button.next"])))}},580:function(e,t,a){e.exports={container:"container-6427058b85",wrapper:"wrapper-1eba4af8b8",steps:"steps-79df5ed959",form:"form-2a6f8eda19","form-content":"form-content-96ca552934",actions:"actions-df2cdcf708"}},652:function(e,t,a){"use strict";a(17),a(653)},653:function(e,t,a){},654:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(2),o=a(1),c=a(36),i=a(3),m=a(18),s=function(){return(s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var d=r.a.forwardRef((function(e,t){var a,l,d,f,p,b=Object(n.useContext)(i.a).getPrefixCls,N=Object(n.useContext)(j),y=e.children,h=e.name,v=e.header,O=e.className,E=e.style,g=e.contentStyle,_=e.extra,x=e.disabled,I=e.destroyOnHide,F=e.expandIcon,w=e.showExpandIcon,P=void 0===w||w,C=u(e,["children","name","header","className","style","contentStyle","extra","disabled","destroyOnHide","expandIcon","showExpandIcon"]),A=b("collapse-item"),K=N.activeKeys.indexOf(h)>-1,z=P?"expandIcon"in e?F:N.expandIcon:null;return r.a.createElement("div",s({ref:t},C,{className:Object(o.a)(A,(a={},a[A+"-active"]=K,a[A+"-no-icon"]=!z,a[A+"-disabled"]=x,a),O),style:E}),r.a.createElement("div",{className:Object(o.a)(A+"-header",A+"-header-"+N.expandIconPosition,(l={},l[A+"-header-disabled"]=x,l)),onClick:function(e){!x&&N.onToggle(h,e)}},z&&r.a.createElement(m.a,{prefix:A,disabled:x,className:Object(o.a)((d={},d[A+"-icon-hover-right"]="right"===N.expandIconPosition,d[A+"-header-icon-right"]="right"===N.expandIconPosition,d))},r.a.createElement("span",{className:Object(o.a)(A+"-header-icon",(f={},f[A+"-header-icon-down"]=K,f))},z)),r.a.createElement("div",{className:A+"-header-title"},v),_&&r.a.createElement("div",{className:A+"-header-extra",onClick:function(e){e.stopPropagation()}},_)),r.a.createElement(c.d,{in:K,addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},mountOnEnter:"destroyOnHide"in e?I:N.destroyOnHide||N.lazyload,unmountOnExit:"destroyOnHide"in e?I:N.destroyOnHide,onEnter:function(e){e.style.height=0,e.style.display="block"},onEntering:function(e){e.style.height=e.scrollHeight+"px"},onEntered:function(e){e.style.height="auto"},onExit:function(e){e.style.display="block",e.style.height=e.offsetHeight+"px",e.offsetHeight},onExiting:function(e){e.style.height=0},onExited:function(e){e.style.display="none",e.style.height="auto"}},r.a.createElement("div",{className:Object(o.a)(A+"-content",(p={},p[A+"-content-expanded"]=K,p))},r.a.createElement("div",{style:g,className:A+"-content-box"},y))))}));d.displayName="CollapseItem";var f=d,p=a(11),b=a(247),N=a(15),y=a(245),h=a(9),v=function(){return(v=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},E=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,l=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=l.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return o},g=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,l=t.length;r<l;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},_=function(e,t){var a=[].concat(e);return t?a.slice(0,1):a},x={bordered:!0,lazyload:!0,expandIconPosition:"left"},j=Object(n.createContext)({expandIconPosition:"left",expandIcon:r.a.createElement(b.a,null),activeKeys:[],onToggle:function(){}});var I=r.a.forwardRef((function(e,t){var a=Object(n.useContext)(i.a),c=a.getPrefixCls,m=a.componentConfig,s=Object(h.a)(e,x,null==m?void 0:m.Collapse),u=E(Object(N.a)([],{defaultValue:"defaultActiveKey"in s?_(s.defaultActiveKey,s.accordion):void 0,value:"activeKey"in s?_(s.activeKey,s.accordion):void 0}),2),d=u[0],f=u[1],I=s.children,F=s.className,w=s.style,P=s.bordered,C=s.lazyload,A=s.expandIcon,K=s.expandIconPosition,z=s.destroyOnHide,H=s.accordion,k=s.onChange,S=O(s,["children","className","style","bordered","lazyload","expandIcon","expandIconPosition","destroyOnHide","accordion","onChange"]),T=c("collapse");return r.a.createElement(j.Provider,{value:{activeKeys:d,onToggle:function(e,t){var a=g([],E(d),!1),n=d.indexOf(e);n>-1?a.splice(n,1):H?a=[e]:a.push(e),"activeKey"in s||f(a),Object(l.e)(k)&&k(e,a,t)},lazyload:C,expandIcon:"expandIcon"in s?A:"right"===K?r.a.createElement(y.a,null):r.a.createElement(b.a,null),destroyOnHide:z,expandIconPosition:K}},r.a.createElement("div",v({ref:t},Object(p.a)(S,["activeKey","defaultActiveKey"]),{className:Object(o.a)(T,T+"-"+(P?"border":"borderless"),F),style:w}),I))}));I.displayName="Collapse",I.Item=f;var F=I;t.a=F}}]);