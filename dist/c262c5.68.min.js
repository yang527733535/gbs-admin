(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{348:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return w}));var n=t(5),a=t.n(n),c=(t(112),t(40)),o=(t(156),t(82)),l=(t(65),t(24)),u=t(687),m=(t(253),t(96)),i=t(56),s=t.n(i),f=t(22),b=t.n(f),N=(t(252),t(73)),p=t(35),_=t.n(p),d=t(0),v=t.n(d),E=t(111),h="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-store/storeDetail/staffDetail/staffform.jsx",O=N.a.Item,g={labelCol:{span:5},wrapperCol:{span:17}},y={wrapperCol:{span:17,offset:5}};function w(e){var r=e.store_code,t=e.closeModal,n=Object(d.useRef)(),i=Object(d.useState)([]),f=b()(i,2),p=f[0],w=f[1],j=Object(d.useState)([]),k=b()(j,2),C=k[0],x=k[1];Object(d.useEffect)((function(){I()}),[]);var I=function(){var e=s()(_.a.mark((function e(){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.t)();case 2:r=e.sent,w(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){JSON.parse(localStorage.getItem("dicts")).forEach((function(e){"store_user_role"===e.dict_code&&x(e.dict_label)}))}),[]);return v.a.createElement("div",{__source:{fileName:h,lineNumber:48,columnNumber:5}},v.a.createElement(N.a,a()({ref:n},g,{onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:h,lineNumber:49,columnNumber:7}}),v.a.createElement(N.a.List,{field:"user_array",__source:{fileName:h,lineNumber:50,columnNumber:9}},(function(e,r){var t=r.add,n=r.remove;r.move;return v.a.createElement("div",{__source:{fileName:h,lineNumber:53,columnNumber:15}},e.map((function(e,r){return v.a.createElement("div",{key:e.key,__source:{fileName:h,lineNumber:56,columnNumber:21}},v.a.createElement(N.a.Item,{label:"店员"+(r+1),__source:{fileName:h,lineNumber:57,columnNumber:23}},v.a.createElement(o.a,{__source:{fileName:h,lineNumber:58,columnNumber:25}},v.a.createElement(N.a.Item,{field:e.field+".user_account",rules:[{required:!0}],noStyle:!0,__source:{fileName:h,lineNumber:59,columnNumber:27}},v.a.createElement(m.a,{placeholder:"请选择账号",__source:{fileName:h,lineNumber:64,columnNumber:29}},null==p?void 0:p.map((function(e){var r=e.user_account,t=e.user_name;return v.a.createElement(m.a.Option,{value:r,key:r,__source:{fileName:h,lineNumber:67,columnNumber:35}},t)})))),v.a.createElement(N.a.Item,{field:e.field+".user_role",rules:[{required:!0}],noStyle:!0,__source:{fileName:h,lineNumber:74,columnNumber:27}},v.a.createElement(m.a,{placeholder:"请选择角色编码...",__source:{fileName:h,lineNumber:79,columnNumber:29}},null==C?void 0:C.map((function(e){var r=e.label_zh,t=e.label_value;return v.a.createElement(m.a.Option,{value:t,key:t,__source:{fileName:h,lineNumber:82,columnNumber:35}},r)})))),v.a.createElement(l.a,{icon:v.a.createElement(u.a,{__source:{fileName:h,lineNumber:90,columnNumber:35}}),shape:"circle",status:"danger",onClick:function(){return n(r)},__source:{fileName:h,lineNumber:89,columnNumber:27}}))))})),v.a.createElement(N.a.Item,{wrapperCol:{offset:5},__source:{fileName:h,lineNumber:100,columnNumber:17}},v.a.createElement(l.a,{onClick:function(){t()},__source:{fileName:h,lineNumber:101,columnNumber:19}},"添加店员")))})),v.a.createElement(O,a()({},y,{__source:{fileName:h,lineNumber:114,columnNumber:9}}),v.a.createElement(l.a,{onClick:s()(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=18;break}return e.prev=1,e.next=4,n.current.validate();case 4:return(a=n.current.getFields()).store_code=r,console.log(a),e.next=9,Object(E.C)(a);case 9:200===e.sent.code&&(c.a.info("修改成功！"),t()),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),console.log(n.current.getFieldsError()),c.a.error("校验失败，请检查字段！");case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),type:"primary",style:{marginRight:24},__source:{fileName:h,lineNumber:115,columnNumber:11}},"提交"),v.a.createElement(l.a,{onClick:function(){n.current.resetFields()},__source:{fileName:h,lineNumber:140,columnNumber:11}},"重置"))))}},687:function(e,r,t){"use strict";var n=t(5),a=t.n(n),c=t(4),o=t.n(c),l=t(0),u=t.n(l),m=t(6);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function f(e,r){var t=Object(l.useContext)(m.a).prefixCls,n=e.spin,c=e.className,o=s(s({ref:r},e),{},{className:"".concat(c?c+" ":"").concat(t,"-icon ").concat(t,"-icon-delete")});return n&&(o.className="".concat(o.className," ").concat(t,"-icon-loading")),delete o.spin,delete o.isIcon,u.a.createElement("svg",a()({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},o),u.a.createElement("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"}))}var b=u.a.forwardRef(f);b.defaultProps={isIcon:!0},b.displayName="IconDelete",r.a=b}}]);