(window.webpackJsonp=window.webpackJsonp||[]).push([[16,19,41,64],{161:function(e,r,a){"use strict";a.r(r);var l=a(7),n=a.n(l),t=(a(77),a(28)),u=(a(148),a(59)),m=a(78),o=a.n(m),c=(a(564),a(561)),i=(a(581),a(586)),s=(a(278),a(206)),b=(a(582),a(585)),N=(a(551),a(554)),_=(a(147),a(49)),f=a(23),d=a.n(f),p=(a(277),a(106)),g=a(50),E=a.n(g),h=a(0),y=a.n(h),O=a(204),v="/Users/mrhh/Desktop/gbs-admin/src/pages/drama-table/form/index.jsx",w=p.a.Item,T={labelCol:{span:7},wrapperCol:{span:17}},x={wrapperCol:{span:17,offset:7}};r.default=function(){var e=Object(h.useRef)(),r=Object(h.useState)("default"),a=d()(r,2),l=a[0];return a[1],Object(h.useEffect)((function(){}),[]),y.a.createElement("div",{style:{maxWidth:650},__source:{fileName:v,lineNumber:53,columnNumber:5}},y.a.createElement(p.a,n()({ref:e},T,{size:l,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:v,lineNumber:54,columnNumber:7}}),y.a.createElement(w,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:v,lineNumber:68,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写剧本名称...",__source:{fileName:v,lineNumber:73,columnNumber:11}})),y.a.createElement(w,{label:"剧本类型",field:"gb_type",rules:[{required:!1,message:"请填写剧本类型"}],__source:{fileName:v,lineNumber:75,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写剧本类型...",__source:{fileName:v,lineNumber:80,columnNumber:11}})),y.a.createElement(w,{label:"剧本区域",field:"gb_area",rules:[{required:!1,message:"请填写剧本区域"}],__source:{fileName:v,lineNumber:82,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写剧本区域...",__source:{fileName:v,lineNumber:87,columnNumber:11}})),y.a.createElement(p.a.Item,{label:"剧本封面",field:"upload",triggerPropName:"fileList",__source:{fileName:v,lineNumber:90,columnNumber:9}},y.a.createElement(b.a,{listType:"picture-card",multiple:!0,name:"files",customRequest:function(e){console.log(e);var r=e.onProgress,a=e.onError,l=e.onSuccess,n=e.file;console.log("file: ",n);var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(e){var a;e.total>0&&(a=e.loaded/e.total*100),r(parseInt(a,10),e)}),t.onerror=function(e){a(e)},t.onload=function(){if(t.status<200||t.status>=300)return a(t.responseText);l(t.responseText,t)};var u=new FormData;u.append("up_file",n),u.append("module","drama"),t.open("post","http://120.24.188.169:8000/system/upload/image",!0),t.setRequestHeader("Authorization",localStorage.getItem("token")),t.send(u)},onPreview:function(e){N.a.info({title:"Preview",content:y.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:v,lineNumber:142,columnNumber:19}})})},__source:{fileName:v,lineNumber:103,columnNumber:11}})),y.a.createElement(w,{label:"玩家人数",field:"gb_people",rules:[{type:"number",required:!1}],__source:{fileName:v,lineNumber:151,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入玩家人数",__source:{fileName:v,lineNumber:152,columnNumber:11}})),y.a.createElement(w,{label:"参考价格",field:"gb_price",rules:[{type:"number",required:!1}],__source:{fileName:v,lineNumber:154,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:v,lineNumber:155,columnNumber:11}})),y.a.createElement(w,{label:"玩家说明",field:"gb_people_note",rules:[{required:!1,message:"请填写玩家说明"}],__source:{fileName:v,lineNumber:157,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写玩家说明...",__source:{fileName:v,lineNumber:162,columnNumber:11}})),y.a.createElement(w,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!1,type:"number"}],__source:{fileName:v,lineNumber:217,columnNumber:9}},y.a.createElement(i.a,{allowHalf:!0,__source:{fileName:v,lineNumber:227,columnNumber:11}})),y.a.createElement(w,{label:"上架时间",field:"gb_add_time",rules:[{required:!0,message:"gb_add_time is required"}],__source:{fileName:v,lineNumber:230,columnNumber:9}},y.a.createElement(c.a,{showTime:!0,__source:{fileName:v,lineNumber:240,columnNumber:11}})),y.a.createElement(w,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:v,lineNumber:242,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写版权信息...",__source:{fileName:v,lineNumber:247,columnNumber:11}})),y.a.createElement(w,{label:"备注说明",field:"gb_remarks",rules:[{required:!0,message:"请填写备注说明"}],__source:{fileName:v,lineNumber:249,columnNumber:9}},y.a.createElement(_.a,{placeholder:"请填写备注说明...",__source:{fileName:v,lineNumber:254,columnNumber:11}})),y.a.createElement(w,n()({},x,{__source:{fileName:v,lineNumber:323,columnNumber:9}}),y.a.createElement(t.a,{onClick:o()(E.a.mark((function r(){var a;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.current){r.next=16;break}return r.prev=1,r.next=4,e.current.validate();case 4:return console.log(e.current),console.log(e.current.getFields()),r.next=8,Object(O.a)(e.current.getFields());case 8:a=r.sent,console.log("param: ",a),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(e.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 16:case"end":return r.stop()}}),r,null,[[1,12]])}))),type:"primary",style:{marginRight:24},__source:{fileName:v,lineNumber:324,columnNumber:11}},"Submit"),y.a.createElement(t.a,{onClick:function(){e.current.resetFields()},__source:{fileName:v,lineNumber:346,columnNumber:11}},"Reset"))))}},168:function(e,r,a){"use strict";a.r(r);a(563);var l=a(560),n=(a(548),a(549)),t=(a(149),a(79)),u=(a(147),a(49)),m=(a(550),a(555)),o=(a(551),a(554)),c=a(6),i=a.n(c),s=(a(77),a(28)),b=(a(152),a(60)),N=a(23),_=a.n(N),f=a(0),d=a.n(f),p=a(32),g=a(204),E=a(280),h=a(33),y=a(539),O=a.n(y),v=a(161),w="/Users/mrhh/Desktop/gbs-admin/src/pages/drama-table/index.tsx";function T(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,l)}return a}function x(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?T(Object(a),!0).forEach((function(r){i()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}r.default=function(){var e=Object(h.a)(),r=Object(f.useState)(!1),a=_()(r,2),c=a[0],i=a[1],N=[{title:"用户名称",dataIndex:"user_name"},{title:"账号",dataIndex:"user_account"},{title:"邮箱",dataIndex:"user_email",render:function(e){return d.a.createElement(b.a.Text,{copyable:!0,__source:{fileName:w,lineNumber:41,columnNumber:26}},e)}},{title:"手机号码",dataIndex:"user_mobile"},{title:e["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:e["searchTable.columns.operations"],dataIndex:"operations",render:function(){return d.a.createElement("div",{className:O.a.operations,__source:{fileName:w,lineNumber:60,columnNumber:9}},d.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:w,lineNumber:61,columnNumber:11}},e["searchTable.columns.operations.view"]),d.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:w,lineNumber:64,columnNumber:11}},e["searchTable.columns.operations.update"]),d.a.createElement(s.a,{type:"text",status:"danger",size:"small",__source:{fileName:w,lineNumber:67,columnNumber:11}},e["searchTable.columns.operations.delete"]))}}],y=Object(p.c)((function(e){return e.searchTable})),T=y.data,P=y.pagination,j=y.loading,I=y.formParams,A=Object(p.b)();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=Object(g.e)({page:e,page_size:r});l.then((function(e){console.log(e);var r=e.data,l=e.paginator;A({type:E.UPDATE_LIST,payload:{data:r}}),A({type:E.UPDATE_PAGINATION,payload:{pagination:x(x({},P),{},{current:l.page,pageSize:l.page_size,total:l.total_count})}}),A({type:E.UPDATE_LOADING,payload:{loading:!1}}),A({type:E.UPDATE_FORM_PARAMS,payload:{params:a}})}))}return Object(f.useEffect)((function(){C()}),[]),d.a.createElement("div",{className:O.a.container,__source:{fileName:w,lineNumber:143,columnNumber:5}},d.a.createElement(o.a,{title:"添加剧本",footer:null,onCancel:function(){i(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:c,__source:{fileName:w,lineNumber:144,columnNumber:7}},d.a.createElement(v.default,{__source:{fileName:w,lineNumber:154,columnNumber:9}})),d.a.createElement(m.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:156,columnNumber:7}},d.a.createElement(m.a.Item,{__source:{fileName:w,lineNumber:157,columnNumber:9}},e["menu.list"]),d.a.createElement(m.a.Item,{__source:{fileName:w,lineNumber:158,columnNumber:9}},e["menu.list.searchTable"])),d.a.createElement("div",{__source:{fileName:w,lineNumber:160,columnNumber:7}},d.a.createElement(n.a,{style:{marginBottom:20},__source:{fileName:w,lineNumber:161,columnNumber:9}},d.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:w,lineNumber:162,columnNumber:11}},d.a.createElement(s.a,{onClick:function(){i(!0)},type:"primary",__source:{fileName:w,lineNumber:163,columnNumber:13}},"添加剧本"),d.a.createElement("div",{__source:{fileName:w,lineNumber:171,columnNumber:13}},d.a.createElement(t.a,{__source:{fileName:w,lineNumber:172,columnNumber:15}},d.a.createElement(u.a,{onChange:function(){},placeholder:"请输入账号",style:{width:200},__source:{fileName:w,lineNumber:173,columnNumber:17}}),d.a.createElement(u.a,{onChange:function(){},placeholder:"请输入手机号码",style:{width:200},__source:{fileName:w,lineNumber:174,columnNumber:17}}),d.a.createElement(u.a,{onChange:function(){},placeholder:"请输入用户名",style:{width:200},__source:{fileName:w,lineNumber:179,columnNumber:17}}),d.a.createElement(u.a,{onChange:function(){},placeholder:"用户状态",style:{width:200},__source:{fileName:w,lineNumber:184,columnNumber:17}}),d.a.createElement(s.a,{onClick:function(){},__source:{fileName:w,lineNumber:185,columnNumber:17}},"重置"),d.a.createElement(s.a,{onClick:function(){C()},type:"primary",__source:{fileName:w,lineNumber:186,columnNumber:17}},"搜索")))))),d.a.createElement(n.a,{bordered:!1,__source:{fileName:w,lineNumber:199,columnNumber:7}},d.a.createElement(l.a,{rowKey:"user_account",loading:j,onChange:function(e){C(e.current,e.pageSize,I)},pagination:P,columns:N,data:T,__source:{fileName:w,lineNumber:200,columnNumber:9}})))}},280:function(e,r,a){"use strict";a.r(r),a.d(r,"UPDATE_LIST",(function(){return l})),a.d(r,"UPDATE_LOADING",(function(){return n})),a.d(r,"UPDATE_PAGINATION",(function(){return t})),a.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var l="searchTable_update_list",n="searchTable_update_loading",t="searchTable_update_pagination",u="searchTable_update_formParams"},539:function(e,r,a){e.exports={container:"container-2fa6f7d97d",toolbar:"toolbar-c9646f4c58",operations:"operations-24903b4853"}}}]);