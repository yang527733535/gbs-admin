(window.webpackJsonp=window.webpackJsonp||[]).push([[12,15,31,49],{155:function(e,r,a){"use strict";a.r(r);var t=a(7),n=a.n(t),l=(a(76),a(27)),u=(a(148),a(58)),o=a(77),c=a.n(o),m=(a(544),a(543)),i=(a(559),a(567)),s=(a(276),a(202)),b=(a(560),a(565)),N=(a(534),a(537)),d=(a(147),a(48)),f=a(23),_=a.n(f),p=(a(272),a(106)),g=a(51),E=a.n(g),h=a(0),y=a.n(h),O=a(531),v="/Users/mrhh/Desktop/gbs-admin/src/pages/drama-table/form/index.jsx",j=p.a.Item,T={labelCol:{span:7},wrapperCol:{span:17}},w={wrapperCol:{span:17,offset:7}};r.default=function(){var e=Object(h.useRef)(),r=Object(h.useState)("default"),a=_()(r,2),t=a[0];return a[1],Object(h.useEffect)((function(){}),[]),y.a.createElement("div",{style:{maxWidth:650},__source:{fileName:v,lineNumber:53,columnNumber:5}},y.a.createElement(p.a,n()({ref:e},T,{size:t,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:v,lineNumber:54,columnNumber:7}}),y.a.createElement(j,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:v,lineNumber:68,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写剧本名称...",__source:{fileName:v,lineNumber:73,columnNumber:11}})),y.a.createElement(j,{label:"剧本类型",field:"gb_type",rules:[{required:!1,message:"请填写剧本类型"}],__source:{fileName:v,lineNumber:75,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写剧本类型...",__source:{fileName:v,lineNumber:80,columnNumber:11}})),y.a.createElement(j,{label:"剧本区域",field:"gb_area",rules:[{required:!1,message:"请填写剧本区域"}],__source:{fileName:v,lineNumber:82,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写剧本区域...",__source:{fileName:v,lineNumber:87,columnNumber:11}})),y.a.createElement(p.a.Item,{label:"剧本封面",field:"upload",triggerPropName:"fileList",__source:{fileName:v,lineNumber:90,columnNumber:9}},y.a.createElement(b.a,{listType:"picture-card",multiple:!0,name:"files",customRequest:function(e){console.log(e);var r=e.onProgress,a=e.onError,t=e.onSuccess,n=e.file;console.log("file: ",n);var l=new XMLHttpRequest;l.upload&&(l.upload.onprogress=function(e){var a;e.total>0&&(a=e.loaded/e.total*100),r(parseInt(a,10),e)}),l.onerror=function(e){a(e)},l.onload=function(){if(l.status<200||l.status>=300)return a(l.responseText);t(l.responseText,l)};var u=new FormData;u.append("up_file",n),u.append("module","drama"),l.open("post","http://120.24.188.169:8000/system/upload/image",!0),l.setRequestHeader("Authorization",localStorage.getItem("token")),l.send(u)},onPreview:function(e){N.a.info({title:"Preview",content:y.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:v,lineNumber:142,columnNumber:19}})})},__source:{fileName:v,lineNumber:103,columnNumber:11}})),y.a.createElement(j,{label:"玩家人数",field:"gb_people",rules:[{type:"number",required:!1}],__source:{fileName:v,lineNumber:151,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入玩家人数",__source:{fileName:v,lineNumber:152,columnNumber:11}})),y.a.createElement(j,{label:"参考价格",field:"gb_price",rules:[{type:"number",required:!1}],__source:{fileName:v,lineNumber:154,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:v,lineNumber:155,columnNumber:11}})),y.a.createElement(j,{label:"玩家说明",field:"gb_people_note",rules:[{required:!1,message:"请填写玩家说明"}],__source:{fileName:v,lineNumber:157,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写玩家说明...",__source:{fileName:v,lineNumber:162,columnNumber:11}})),y.a.createElement(j,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!1,type:"number"}],__source:{fileName:v,lineNumber:217,columnNumber:9}},y.a.createElement(i.a,{allowHalf:!0,__source:{fileName:v,lineNumber:227,columnNumber:11}})),y.a.createElement(j,{label:"上架时间",field:"gb_add_time",rules:[{required:!0,message:"gb_add_time is required"}],__source:{fileName:v,lineNumber:230,columnNumber:9}},y.a.createElement(m.a,{showTime:!0,__source:{fileName:v,lineNumber:240,columnNumber:11}})),y.a.createElement(j,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:v,lineNumber:242,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写版权信息...",__source:{fileName:v,lineNumber:247,columnNumber:11}})),y.a.createElement(j,{label:"备注说明",field:"gb_remarks",rules:[{required:!0,message:"请填写备注说明"}],__source:{fileName:v,lineNumber:249,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写备注说明...",__source:{fileName:v,lineNumber:254,columnNumber:11}})),y.a.createElement(j,n()({},w,{__source:{fileName:v,lineNumber:323,columnNumber:9}}),y.a.createElement(l.a,{onClick:c()(E.a.mark((function r(){var a;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.current){r.next=16;break}return r.prev=1,r.next=4,e.current.validate();case 4:return console.log(e.current),console.log(e.current.getFields()),r.next=8,Object(O.a)(e.current.getFields());case 8:a=r.sent,console.log("param: ",a),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(e.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 16:case"end":return r.stop()}}),r,null,[[1,12]])}))),type:"primary",style:{marginRight:24},__source:{fileName:v,lineNumber:324,columnNumber:11}},"Submit"),y.a.createElement(l.a,{onClick:function(){e.current.resetFields()},__source:{fileName:v,lineNumber:346,columnNumber:11}},"Reset"))))}},165:function(e,r,a){"use strict";a.r(r);a(545);var t=a(542),n=(a(532),a(533)),l=(a(149),a(78)),u=(a(147),a(48)),o=(a(536),a(538)),c=(a(534),a(537)),m=a(5),i=a.n(m),s=(a(76),a(27)),b=(a(150),a(59)),N=a(23),d=a.n(N),f=a(0),_=a.n(f),p=a(31),g=a(531),E=a(273),h=a(32),y=a(523),O=a.n(y),v=a(155),j="/Users/mrhh/Desktop/gbs-admin/src/pages/drama-table/index.tsx";function T(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function w(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?T(Object(a),!0).forEach((function(r){i()(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}r.default=function(){var e=Object(h.a)(),r=Object(f.useState)(!1),a=d()(r,2),m=a[0],i=a[1],N=[{title:"用户名称",dataIndex:"user_name"},{title:"账号",dataIndex:"user_account"},{title:"邮箱",dataIndex:"user_email",render:function(e){return _.a.createElement(b.a.Text,{copyable:!0,__source:{fileName:j,lineNumber:41,columnNumber:26}},e)}},{title:"手机号码",dataIndex:"user_mobile"},{title:e["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:e["searchTable.columns.operations"],dataIndex:"operations",render:function(){return _.a.createElement("div",{className:O.a.operations,__source:{fileName:j,lineNumber:60,columnNumber:9}},_.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:j,lineNumber:61,columnNumber:11}},e["searchTable.columns.operations.view"]),_.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:j,lineNumber:64,columnNumber:11}},e["searchTable.columns.operations.update"]),_.a.createElement(s.a,{type:"text",status:"danger",size:"small",__source:{fileName:j,lineNumber:67,columnNumber:11}},e["searchTable.columns.operations.delete"]))}}],y=Object(p.c)((function(e){return e.searchTable})),T=y.data,x=y.pagination,P=y.loading,I=y.formParams,A=Object(p.b)();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(g.c)({page:e,page_size:r});t.then((function(e){console.log(e);var r=e.data,t=e.paginator;A({type:E.UPDATE_LIST,payload:{data:r}}),A({type:E.UPDATE_PAGINATION,payload:{pagination:w(w({},x),{},{current:t.page,pageSize:t.page_size,total:t.total_count})}}),A({type:E.UPDATE_LOADING,payload:{loading:!1}}),A({type:E.UPDATE_FORM_PARAMS,payload:{params:a}})}))}return Object(f.useEffect)((function(){C()}),[]),_.a.createElement("div",{className:O.a.container,__source:{fileName:j,lineNumber:143,columnNumber:5}},_.a.createElement(c.a,{title:"添加剧本",footer:null,onCancel:function(){i(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:m,__source:{fileName:j,lineNumber:144,columnNumber:7}},_.a.createElement(v.default,{__source:{fileName:j,lineNumber:154,columnNumber:9}})),_.a.createElement(o.a,{style:{marginBottom:20},__source:{fileName:j,lineNumber:156,columnNumber:7}},_.a.createElement(o.a.Item,{__source:{fileName:j,lineNumber:157,columnNumber:9}},e["menu.list"]),_.a.createElement(o.a.Item,{__source:{fileName:j,lineNumber:158,columnNumber:9}},e["menu.list.searchTable"])),_.a.createElement("div",{__source:{fileName:j,lineNumber:160,columnNumber:7}},_.a.createElement(n.a,{style:{marginBottom:20},__source:{fileName:j,lineNumber:161,columnNumber:9}},_.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:j,lineNumber:162,columnNumber:11}},_.a.createElement(s.a,{onClick:function(){i(!0)},type:"primary",__source:{fileName:j,lineNumber:163,columnNumber:13}},"添加剧本"),_.a.createElement("div",{__source:{fileName:j,lineNumber:171,columnNumber:13}},_.a.createElement(l.a,{__source:{fileName:j,lineNumber:172,columnNumber:15}},_.a.createElement(u.a,{onChange:function(){},placeholder:"请输入账号",style:{width:200},__source:{fileName:j,lineNumber:173,columnNumber:17}}),_.a.createElement(u.a,{onChange:function(){},placeholder:"请输入手机号码",style:{width:200},__source:{fileName:j,lineNumber:174,columnNumber:17}}),_.a.createElement(u.a,{onChange:function(){},placeholder:"请输入用户名",style:{width:200},__source:{fileName:j,lineNumber:179,columnNumber:17}}),_.a.createElement(u.a,{onChange:function(){},placeholder:"用户状态",style:{width:200},__source:{fileName:j,lineNumber:184,columnNumber:17}}),_.a.createElement(s.a,{onClick:function(){},__source:{fileName:j,lineNumber:185,columnNumber:17}},"重置"),_.a.createElement(s.a,{onClick:function(){C()},type:"primary",__source:{fileName:j,lineNumber:186,columnNumber:17}},"搜索")))))),_.a.createElement(n.a,{bordered:!1,__source:{fileName:j,lineNumber:199,columnNumber:7}},_.a.createElement(t.a,{rowKey:"user_account",loading:P,onChange:function(e){C(e.current,e.pageSize,I)},pagination:x,columns:N,data:T,__source:{fileName:j,lineNumber:200,columnNumber:9}})))}},273:function(e,r,a){"use strict";a.r(r),a.d(r,"UPDATE_LIST",(function(){return t})),a.d(r,"UPDATE_LOADING",(function(){return n})),a.d(r,"UPDATE_PAGINATION",(function(){return l})),a.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var t="searchTable_update_list",n="searchTable_update_loading",l="searchTable_update_pagination",u="searchTable_update_formParams"},523:function(e,r,a){e.exports={container:"container-2fa6f7d97d",toolbar:"toolbar-c9646f4c58",operations:"operations-24903b4853"}},531:function(e,r,a){"use strict";a.d(r,"d",(function(){return n})),a.d(r,"c",(function(){return l})),a.d(r,"f",(function(){return u})),a.d(r,"e",(function(){return o})),a.d(r,"a",(function(){return c})),a.d(r,"b",(function(){return m})),a.d(r,"g",(function(){return i}));var t=a(88);function n(e){return Object(t.a)({url:"/system/dict/labels",method:"POST"})}function l(e){return Object(t.a)({url:"/v1/drama/list",data:e})}function u(e){return Object(t.a)({url:"/v1/store/list",data:e,method:"post"})}function o(e){return Object(t.a)({url:"/system/menu/list",data:e,method:"post"})}function c(e){return Object(t.a)({url:"/v1/drama/add",data:e})}function m(e){return Object(t.a)({url:"/v1/store/add",data:e})}function i(e){return Object(t.a)({url:"/v1/store/edit",data:e})}}}]);