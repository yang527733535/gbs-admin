(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{161:function(e,n,t){"use strict";t.r(n);t(151);var r=t(69),a=(t(150),t(79)),o=(t(77),t(30)),l=(t(149),t(52)),c=t(78),u=t.n(c),i=(t(617),t(618)),m=(t(595),t(596)),s=(t(225),t(89)),f=(t(148),t(51)),d=(t(227),t(152)),b=(t(305),t(104)),p=t(53),N=t.n(p),v=t(0),E=t.n(v),y=t(224),g="/Users/mrhh/Desktop/gbs-admin/src/pages/stocks-drama/DramaDetail/roleDetail/AddRoleDetailForm/index.tsx",O=b.a.Item,_=d.a.Row,C=d.a.Col;n.default=function(e){var n=e.clickItem,t=e.modalType,c=e.closeModal,d=e.role_array;console.log("modalType: ",t),console.log("clickItem: ",n);var p=Object(v.useRef)();return E.a.createElement(r.a,{style:{width:"100%"},__source:{fileName:g,lineNumber:33,columnNumber:5}},E.a.createElement("div",{__source:{fileName:g,lineNumber:34,columnNumber:7}},E.a.createElement(b.a,{ref:p,onValuesChange:function(e,n){console.log("onValuesChange: ",e,n)},scrollToFirstError:!0,__source:{fileName:g,lineNumber:35,columnNumber:9}},E.a.createElement(_,{className:"grid-demo",style:{marginBottom:10},__source:{fileName:g,lineNumber:36,columnNumber:11}},E.a.createElement(C,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,__source:{fileName:g,lineNumber:37,columnNumber:13}},E.a.createElement("div",{__source:{fileName:g,lineNumber:38,columnNumber:15}},E.a.createElement(O,{label:"角色名称",field:"role_name",rules:[{required:!0,message:"请填写角色名称"}],__source:{fileName:g,lineNumber:39,columnNumber:17}},E.a.createElement(f.a,{placeholder:"请填写角色名称...",__source:{fileName:g,lineNumber:44,columnNumber:19}})))),E.a.createElement(C,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,__source:{fileName:g,lineNumber:48,columnNumber:13}},E.a.createElement("div",{__source:{fileName:g,lineNumber:49,columnNumber:15}},E.a.createElement(O,{label:"角色简介",field:"role_brief",rules:[{required:!0,message:"请填写角色简介"}],__source:{fileName:g,lineNumber:50,columnNumber:17}},E.a.createElement(f.a,{placeholder:"请填写角色简介...",__source:{fileName:g,lineNumber:55,columnNumber:19}}))))),E.a.createElement(_,{__source:{fileName:g,lineNumber:60,columnNumber:11}},E.a.createElement(C,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,__source:{fileName:g,lineNumber:61,columnNumber:13}},E.a.createElement("div",{__source:{fileName:g,lineNumber:62,columnNumber:15}},E.a.createElement(O,{label:"是否凶手",field:"is_murderer",rules:[{required:!1,message:"请选择是否凶手"}],__source:{fileName:g,lineNumber:63,columnNumber:17}},E.a.createElement(s.a,{placeholder:"请选择是否凶手",__source:{fileName:g,lineNumber:68,columnNumber:19}},E.a.createElement(s.a.Option,{value:"1",__source:{fileName:g,lineNumber:69,columnNumber:21}},"是"),E.a.createElement(s.a.Option,{value:"0",__source:{fileName:g,lineNumber:70,columnNumber:21}},"否"))))),E.a.createElement(C,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,__source:{fileName:g,lineNumber:75,columnNumber:13}},E.a.createElement("div",{__source:{fileName:g,lineNumber:76,columnNumber:15}},E.a.createElement(O,{label:"角色备注",field:"role_remarks",rules:[{required:!1,message:"请填写角色备注"}],__source:{fileName:g,lineNumber:77,columnNumber:17}},E.a.createElement(f.a,{placeholder:"请填写角色备注...",__source:{fileName:g,lineNumber:82,columnNumber:19}}))))),E.a.createElement(_,{__source:{fileName:g,lineNumber:87,columnNumber:11}},E.a.createElement(C,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,__source:{fileName:g,lineNumber:88,columnNumber:13}},E.a.createElement(b.a.Item,{rules:[{required:!0,message:"请上传角色封面"}],label:"角色封面",field:"role_cover",triggerPropName:"fileList",__source:{fileName:g,lineNumber:89,columnNumber:15}},E.a.createElement(i.a,{limit:1,name:"role_cover",customRequest:function(e){var n=e.onProgress,t=e.onError,r=e.onSuccess,a=e.file,o=new XMLHttpRequest;o.upload&&(o.upload.onprogress=function(e){var t;e.total>0&&(t=e.loaded/e.total*100),n(parseInt(t,10),e)}),o.onerror=function(e){t(e)},o.onload=function(){o.status<200||o.status,r(JSON.parse(o.responseText))};var l=new FormData;l.append("up_file",a),l.append("module","drama"),o.open("post","https://gbs.toptian.com/system/upload/image",!0),o.setRequestHeader("Authorization",localStorage.getItem("token")),o.send(l)},onPreview:function(e){m.a.info({title:"Preview",content:E.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:g,lineNumber:130,columnNumber:25}})})},__source:{fileName:g,lineNumber:95,columnNumber:17}})))),E.a.createElement(_,{__source:{fileName:g,lineNumber:141,columnNumber:11}},E.a.createElement(C,{style:{display:"flex",alignItems:"center",justifyContent:"center"},__source:{fileName:g,lineNumber:142,columnNumber:13}},E.a.createElement("div",{__source:{fileName:g,lineNumber:143,columnNumber:15}},E.a.createElement(O,{__source:{fileName:g,lineNumber:144,columnNumber:17}},E.a.createElement(a.a,{__source:{fileName:g,lineNumber:145,columnNumber:19}},E.a.createElement(o.a,{onClick:u()(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.current){e.next=19;break}return e.prev=1,e.next=4,p.current.validate();case 4:return(t=p.current.getFields()).role_cover=t.role_cover[0].url||t.role_cover[0].response.data.file_url,d.push(t),(r={}).role_array=d,r.gb_code=n.gb_code,e.next=12,Object(y.q)(r);case 12:200===e.sent.code&&(l.a.success("修改成功"),c()),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),l.a.error("校验失败，请检查字段！");case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),type:"primary",__source:{fileName:g,lineNumber:146,columnNumber:21}},"提交"),E.a.createElement(o.a,{onClick:function(){p.current.resetFields()},__source:{fileName:g,lineNumber:174,columnNumber:21}},"重置")))))))))}},595:function(e,n,t){"use strict";t(16),t(77),t(604)},596:function(e,n,t){"use strict";var r=t(15),a=t.n(r),o=t(0),l=t.n(o),c=t(147),u=t(229),i=t(23),m=t(1),s=t(10),f=t(13),d=t(30),b=t(111),p=t(108),N=t(62),v=t(47),E=t(81),y=t(226),g=t(3),O=function(){return(O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};function _(e){var n=Object(y.c)(),t=n.prefixCls,r=n.simple;return l.a.createElement(V,O({prefixCls:t,simple:r},e),e.content)}var C=function(e){if(e.isNotice){var n=e.icon;if(!n&&null!==n)switch(e.noticeType){case"info":n=l.a.createElement(p.a,null);break;case"success":n=l.a.createElement(N.a,null);break;case"warning":n=l.a.createElement(v.a,null);break;case"error":n=l.a.createElement(E.a,null)}e.title=l.a.createElement("span",null,n,e.title),e.hideCancel=!0}else e.title=l.a.createElement("span",null,null!==e.icon&&(e.icon||l.a.createElement(v.a,null)),e.title);return e};var h=function(e,n){var t=document.createElement("div");document.body.appendChild(t);var r=Object(y.b)(),o=n||function(e){a.a.render(l.a.createElement(g.b,O({},r),l.a.createElement(_,O({},e,{onCancel:i}))),t)},c=O(O({},e),{visible:!1});function u(){a.a.unmountComponentAtNode(t)&&t.parentNode&&t.parentNode.removeChild(t);for(var e=0;e<y.a.length;e++){if(y.a[e]===m){y.a.splice(e,1);break}}}function i(n){!n&&e.onCancel&&e.onCancel(),c.visible=!1,c.afterClose=function(){e.afterClose&&e.afterClose(),u()},o(c)}function m(){c.visible=!1,c.afterClose=function(){e.afterClose&&e.afterClose(),u()},o(c)}return c.onOk=function(){var n,t=e.onOk||e.onConfirm;t&&(n=t()),n&&n.then&&(c.confirmLoading=!0,o(c),n.then((function(){i(!0)}),(function(e){console.error(e),c.confirmLoading=!1,o(c)}))),n||i(!0)},(c=C(c)).visible=!0,o(c),y.a.push(m),{close:m,update:function(n){c=O(O(O({},c),{title:e.title}),n),c=C(c),o(c)}}},x=t(18),k=t(2),j=t(11),w=t(109),R=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),l=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return l},P=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},S=Object(o.forwardRef)((function(e,n){var t=R(Object(o.useState)([]),2),r=t[0],a=t[1];function c(e){a((function(n){return P(P([],R(n),!1),[e],!1)}))}function u(e){a((function(n){return n.filter((function(n){return e!==n}))}))}return Object(o.useImperativeHandle)(n,(function(){return{addInstance:c,removeInstance:u}})),l.a.createElement(l.a.Fragment,null,r)})),T=function(){return(T=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},I=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),l=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return l};var L=Object(o.forwardRef)((function(e,n){var t=I(Object(o.useState)(!0),2),r=t[0],a=t[1],c=I(Object(o.useState)(e),2),u=c[0],i=c[1];return Object(o.useImperativeHandle)(n,(function(){return{update:i,close:function(){a(!1)}}})),l.a.createElement(V,T({},u,{simple:!0,visible:r,onOk:function(){var e=u.onOk&&u.onOk();e&&e.then&&(i(T(T({},u),{confirmLoading:!0})),e.then((function(){a(!1)}),(function(e){console.error(e),i(T(T({},u),{confirmLoading:!1}))}))),e||a(!1)},onCancel:function(){u.onCancel&&u.onCancel(),a(!1)},unmountOnExit:!0}),u.content)})),M=function(){return(M=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};var F=function(){var e=Object(o.createRef)(),n=l.a.createElement(S,{ref:e}),t=0;function r(n){var r;t+=1;var a=Object(o.createRef)();var c=l.a.createElement(L,M({key:t,ref:a},C(n),{afterClose:function(){n.afterClose&&n.afterClose(),e.current.removeInstance(c)}}));function u(){a.current.close()}return e.current.addInstance(c),y.a.push(u),{close:u,update:null===(r=a.current)||void 0===r?void 0:r.update}}var a={confirm:function(e){return r(M({},e))}};return["info","success","warning","error"].forEach((function(e){a[e]=function(n){return r(M(M({},n),{isNotice:!0,noticeType:e}))}})),[a,n]},q=t(14),D=t(9),A=function(){return(A=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},B=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},z=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),l=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return l},H=null;s.b||document.documentElement.addEventListener("click",(function(e){H={left:e.clientX,top:e.clientY},setTimeout((function(){H=null}),100)}),!0);var U={mask:!0,maskClosable:!0,mountOnEnter:!0,escToExit:!0,getPopupContainer:function(){return document.body},alignCenter:!0};var J=Object(o.forwardRef)((function(e,n){var t,a,p,N=Object(o.useContext)(g.a),v=Object(D.a)(e,U,null===(p=N.componentConfig)||void 0===p?void 0:p.Modal),E=v.className,y=v.style,O=v.visible,_=v.simple,C=v.title,h=v.children,R=v.cancelText,P=v.okText,S=v.okButtonProps,T=v.cancelButtonProps,I=v.getPopupContainer,L=void 0===I?function(){return document.body}:I,M=v.footer,F=v.afterClose,J=v.confirmLoading,V=v.mountOnEnter,X=v.unmountOnExit,W=v.afterOpen,Y=v.hideCancel,G=v.autoFocus,K=v.focusLock,Q=v.maskClosable,Z=v.mask,$=v.alignCenter,ee=v.getChildrenPopupContainer,ne=v.wrapClassName,te=v.escToExit,re=v.modalRender,ae=v.maskStyle,oe=v.wrapStyle,le=v.closeIcon,ce=B(v,["className","style","visible","simple","title","children","cancelText","okText","okButtonProps","cancelButtonProps","getPopupContainer","footer","afterClose","confirmLoading","mountOnEnter","unmountOnExit","afterOpen","hideCancel","autoFocus","focusLock","maskClosable","mask","alignCenter","getChildrenPopupContainer","wrapClassName","escToExit","modalRender","maskStyle","wrapStyle","closeIcon"]),ue=Object(o.useRef)(null),ie=Object(o.useRef)(null),me=Object(o.useRef)(!1),se=z(Object(o.useState)(O),2),fe=se[0],de=se[1],be=z(Object(o.useState)(),2),pe=be[0],Ne=be[1],ve=Object(o.useRef)(null),Ee=Object(o.useRef)(!1),ye=Object(o.useRef)(!1),ge=z(Object(q.a)(!1,{defaultValue:!1,value:J}),2),Oe=ge[0],_e=ge[1],Ce=N.getPrefixCls("modal",v.prefixCls),he=N.locale,xe=!_,ke="closable"in v?v.closable:xe,je=Object(o.useCallback)((function(){return Object(r.findDOMNode)(L())}),[L]);Object(w.a)(je,{hidden:O&&Z});var we=function(){v.onCancel&&v.onCancel()},Re=Object(o.useRef)(!1),Pe=function(e){var n,t=v.onConfirm,r=v.onOk||t;r&&(n=r(e)),n&&n.then&&(_e(!0),n.then((function(){_e(!1)}),(function(e){_e(!1),console.error(e)})))};Object(o.useEffect)((function(){var e=function(e){te&&e&&e.key===f.g.key&&we()};return O&&!me.current&&(me.current=!0,Object(s.d)(document,"keydown",e)),function(){me.current=!1,Object(s.c)(document,"keydown",e)}}),[O,te]),Object(o.useEffect)((function(){var e;if(O&&void 0===pe&&ue.current){var n=+(null===(e=window.getComputedStyle(ue.current,null))||void 0===e?void 0:e.zIndex);isNaN(n)||Ne(n+1)}}),[O,pe]);var Se=N.focusLock.modal,Te=!!Se,Ie=Object(k.g)(Se)&&Se.autoFocus,Le=void 0!==K?K:Te,Me=void 0!==G?G:Ie,Fe=l.a.createElement(g.b,A({},N,{prefixCls:v.prefixCls||N.prefixCls,locale:he,zIndex:pe||1050,getPopupContainer:function(e){return"function"==typeof ee?ee(e):ie.current}}),C&&l.a.createElement("div",{className:Ce+"-header"},l.a.createElement("div",{className:Ce+"-title"},C)),l.a.createElement("div",{ref:ie,className:Ce+"-content"},h),function(){if(null!==M){var e=l.a.createElement(d.a,A({onClick:we},T),R||he.Modal.cancelText),n=l.a.createElement(d.a,A({loading:Oe,onClick:Pe,type:"primary"},S),P||he.Modal.okText),t=M||l.a.createElement(l.a.Fragment,null,!Y&&e,n);return Object(k.e)(M)&&(t=M(e,n)),l.a.createElement("div",{className:Ce+"-footer"},t)}}(),ke&&(void 0!==le?l.a.createElement("span",{onClick:we,className:Ce+"-close-icon"},le):l.a.createElement(x.a,{tabIndex:-1,onClick:we,className:Ce+"-close-icon"},l.a.createElement(i.a,null)))),qe=l.a.createElement("div",{className:Object(m.a)(Ce,(t={},t[Ce+"-simple"]=_,t),E),style:y},Le?l.a.createElement(u.a,{disabled:!O,autoFocus:Me},Fe):Fe),De=function(e){if(!Ee.current){var n="";if(ve.current){var t=e.getBoundingClientRect(),r=ve.current,a=r.left,o=r.top;n=a-t.left+"px "+(o-t.top)+"px"}e.style.transformOrigin=n}};return l.a.createElement(b.a,{visible:O,forceRender:!V,getContainer:L},l.a.createElement("div",{ref:n},Z?l.a.createElement(c.a,{in:O,timeout:400,appear:!0,mountOnEnter:V,classNames:"fadeModal",unmountOnExit:X,onEnter:function(e){e.style.display="block"},onExited:function(e){e.style.display="none"}},l.a.createElement("div",{className:Ce+"-mask",style:ae})):null,l.a.createElement("div",A({role:"dialog","aria-hidden":"true"},Object(j.a)(ce,["content","icon","showIcon","isNotice","noticeType","onCancel","onOk","onConfirm","closable","prefixCls"]),{ref:ue,className:Object(m.a)(Ce+"-wrapper",(a={},a[Ce+"-wrapper-no-mask"]=!Z,a[Ce+"-wrapper-align-center"]=$,a),ne),style:A(A({},oe||{}),{display:O||fe?"block":"none",overflow:!O&&fe?"hidden":""}),onMouseDown:function(e){ye.current=e.target===e.currentTarget},onClick:function(e){ye.current&&(ye.current=!1,!Re.current&&Q&&Z&&e.target===e.currentTarget&&setTimeout((function(){we()}),100))}}),l.a.createElement(c.a,{in:O,timeout:400,appear:!0,classNames:"zoomModal",unmountOnExit:X,mountOnEnter:V,onEnter:function(e){de(!0),ve.current=H,Ee.current=!!e.style.transformOrigin,De(e)},onEntered:function(e){De(e),ve.current=null,W&&W()},onExit:function(){Re.current=!0},onExited:function(e){de(!1),De(e),F&&F(),Re.current=!1}},l.a.cloneElement(Object(k.e)(re)?re(qe):qe,{onMouseDown:function(){ye.current=!1},onMouseUp:function(){ye.current=!1}})))))}));J.displayName="Modal",J.config=y.e,J.confirm=function(e){return h(e)},J.useModal=F,["info","success","warning","error"].forEach((function(e){J[e]=function(n){return h(A(A({},n),{isNotice:!0,noticeType:e}))}})),J.destroyAll=function(){for(;y.a.length;){var e=y.a.pop();e&&e()}};var V=J;n.a=V},604:function(e,n,t){}}]);