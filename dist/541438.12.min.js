(window.webpackJsonp=window.webpackJsonp||[]).push([[12,15,31,49],{155:function(e,r,t){"use strict";t.r(r);var a=t(7),n=t.n(a),l=(t(76),t(27)),u=(t(148),t(58)),o=t(77),c=t.n(o),m=(t(546),t(544)),i=(t(564),t(569)),s=(t(276),t(202)),b=(t(565),t(568)),N=(t(534),t(537)),d=(t(147),t(48)),f=t(23),_=t.n(f),p=(t(272),t(106)),g=t(51),E=t.n(g),h=t(0),y=t.n(h),O=t(531),v="/Users/mrhh/Desktop/gbs-admin/src/pages/drama-table/form/index.jsx",j=p.a.Item,T={labelCol:{span:7},wrapperCol:{span:17}},w={wrapperCol:{span:17,offset:7}};r.default=function(){var e=Object(h.useRef)(),r=Object(h.useState)("default"),t=_()(r,2),a=t[0];return t[1],Object(h.useEffect)((function(){}),[]),y.a.createElement("div",{style:{maxWidth:650},__source:{fileName:v,lineNumber:53,columnNumber:5}},y.a.createElement(p.a,n()({ref:e},T,{size:a,onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:v,lineNumber:54,columnNumber:7}}),y.a.createElement(j,{label:"剧本名称",field:"gb_title",rules:[{required:!0,message:"请填写剧本名称"}],__source:{fileName:v,lineNumber:68,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写剧本名称...",__source:{fileName:v,lineNumber:73,columnNumber:11}})),y.a.createElement(j,{label:"剧本类型",field:"gb_type",rules:[{required:!1,message:"请填写剧本类型"}],__source:{fileName:v,lineNumber:75,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写剧本类型...",__source:{fileName:v,lineNumber:80,columnNumber:11}})),y.a.createElement(j,{label:"剧本区域",field:"gb_area",rules:[{required:!1,message:"请填写剧本区域"}],__source:{fileName:v,lineNumber:82,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写剧本区域...",__source:{fileName:v,lineNumber:87,columnNumber:11}})),y.a.createElement(p.a.Item,{label:"剧本封面",field:"upload",triggerPropName:"fileList",__source:{fileName:v,lineNumber:90,columnNumber:9}},y.a.createElement(b.a,{listType:"picture-card",multiple:!0,name:"files",customRequest:function(e){console.log(e);var r=e.onProgress,t=e.onError,a=e.onSuccess,n=e.file;console.log("file: ",n);var l=new XMLHttpRequest;l.upload&&(l.upload.onprogress=function(e){var t;e.total>0&&(t=e.loaded/e.total*100),r(parseInt(t,10),e)}),l.onerror=function(e){t(e)},l.onload=function(){if(l.status<200||l.status>=300)return t(l.responseText);a(l.responseText,l)};var u=new FormData;u.append("up_file",n),u.append("module","drama"),l.open("post","http://120.24.188.169:8000/system/upload/image",!0),l.setRequestHeader("Authorization",localStorage.getItem("token")),l.send(u)},onPreview:function(e){N.a.info({title:"Preview",content:y.a.createElement("img",{src:e.url||URL.createObjectURL(e.originFile),style:{maxWidth:"100%"},__source:{fileName:v,lineNumber:142,columnNumber:19}})})},__source:{fileName:v,lineNumber:103,columnNumber:11}})),y.a.createElement(j,{label:"玩家人数",field:"gb_people",rules:[{type:"number",required:!1}],__source:{fileName:v,lineNumber:151,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入玩家人数",__source:{fileName:v,lineNumber:152,columnNumber:11}})),y.a.createElement(j,{label:"参考价格",field:"gb_price",rules:[{type:"number",required:!1}],__source:{fileName:v,lineNumber:154,columnNumber:9}},y.a.createElement(s.a,{min:1,placeholder:"请输入参考价格",__source:{fileName:v,lineNumber:155,columnNumber:11}})),y.a.createElement(j,{label:"玩家说明",field:"gb_people_note",rules:[{required:!1,message:"请填写玩家说明"}],__source:{fileName:v,lineNumber:157,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写玩家说明...",__source:{fileName:v,lineNumber:162,columnNumber:11}})),y.a.createElement(j,{label:"推荐星级",field:"gb_star_lev",rules:[{required:!1,type:"number"}],__source:{fileName:v,lineNumber:217,columnNumber:9}},y.a.createElement(i.a,{allowHalf:!0,__source:{fileName:v,lineNumber:227,columnNumber:11}})),y.a.createElement(j,{label:"上架时间",field:"gb_add_time",rules:[{required:!0,message:"gb_add_time is required"}],__source:{fileName:v,lineNumber:230,columnNumber:9}},y.a.createElement(m.a,{showTime:!0,__source:{fileName:v,lineNumber:240,columnNumber:11}})),y.a.createElement(j,{label:"版权信息",field:"gb_producer",rules:[{required:!0,message:"请填写版权信息"}],__source:{fileName:v,lineNumber:242,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写版权信息...",__source:{fileName:v,lineNumber:247,columnNumber:11}})),y.a.createElement(j,{label:"备注说明",field:"gb_remarks",rules:[{required:!0,message:"请填写备注说明"}],__source:{fileName:v,lineNumber:249,columnNumber:9}},y.a.createElement(d.a,{placeholder:"请填写备注说明...",__source:{fileName:v,lineNumber:254,columnNumber:11}})),y.a.createElement(j,n()({},w,{__source:{fileName:v,lineNumber:323,columnNumber:9}}),y.a.createElement(l.a,{onClick:c()(E.a.mark((function r(){var t;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.current){r.next=16;break}return r.prev=1,r.next=4,e.current.validate();case 4:return console.log(e.current),console.log(e.current.getFields()),r.next=8,Object(O.a)(e.current.getFields());case 8:t=r.sent,console.log("param: ",t),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(e.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 16:case"end":return r.stop()}}),r,null,[[1,12]])}))),type:"primary",style:{marginRight:24},__source:{fileName:v,lineNumber:324,columnNumber:11}},"Submit"),y.a.createElement(l.a,{onClick:function(){e.current.resetFields()},__source:{fileName:v,lineNumber:346,columnNumber:11}},"Reset"))))}},165:function(e,r,t){"use strict";t.r(r);t(547);var a=t(543),n=(t(532),t(533)),l=(t(149),t(78)),u=(t(147),t(48)),o=(t(536),t(538)),c=(t(534),t(537)),m=t(5),i=t.n(m),s=(t(76),t(27)),b=(t(150),t(59)),N=t(23),d=t.n(N),f=t(0),_=t.n(f),p=t(31),g=t(531),E=t(273),h=t(32),y=t(523),O=t.n(y),v=t(155),j="/Users/mrhh/Desktop/gbs-admin/src/pages/drama-table/index.tsx";function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){i()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.default=function(){var e=Object(h.a)(),r=Object(f.useState)(!1),t=d()(r,2),m=t[0],i=t[1],N=[{title:"用户名称",dataIndex:"user_name"},{title:"账号",dataIndex:"user_account"},{title:"邮箱",dataIndex:"user_email",render:function(e){return _.a.createElement(b.a.Text,{copyable:!0,__source:{fileName:j,lineNumber:41,columnNumber:26}},e)}},{title:"手机号码",dataIndex:"user_mobile"},{title:e["searchTable.columns.createdTime"],dataIndex:"created_time"},{title:"更新时间",dataIndex:"updated_time"},{title:e["searchTable.columns.operations"],dataIndex:"operations",render:function(){return _.a.createElement("div",{className:O.a.operations,__source:{fileName:j,lineNumber:60,columnNumber:9}},_.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:j,lineNumber:61,columnNumber:11}},e["searchTable.columns.operations.view"]),_.a.createElement(s.a,{type:"text",size:"small",__source:{fileName:j,lineNumber:64,columnNumber:11}},e["searchTable.columns.operations.update"]),_.a.createElement(s.a,{type:"text",status:"danger",size:"small",__source:{fileName:j,lineNumber:67,columnNumber:11}},e["searchTable.columns.operations.delete"]))}}],y=Object(p.c)((function(e){return e.searchTable})),T=y.data,x=y.pagination,P=y.loading,I=y.formParams,A=Object(p.b)();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(g.c)({page:e,page_size:r});a.then((function(e){console.log(e);var r=e.data,a=e.paginator;A({type:E.UPDATE_LIST,payload:{data:r}}),A({type:E.UPDATE_PAGINATION,payload:{pagination:w(w({},x),{},{current:a.page,pageSize:a.page_size,total:a.total_count})}}),A({type:E.UPDATE_LOADING,payload:{loading:!1}}),A({type:E.UPDATE_FORM_PARAMS,payload:{params:t}})}))}return Object(f.useEffect)((function(){C()}),[]),_.a.createElement("div",{className:O.a.container,__source:{fileName:j,lineNumber:143,columnNumber:5}},_.a.createElement(c.a,{title:"添加剧本",footer:null,onCancel:function(){i(!1)},unmountOnExit:!0,style:{width:900,minWidth:900},visible:m,__source:{fileName:j,lineNumber:144,columnNumber:7}},_.a.createElement(v.default,{__source:{fileName:j,lineNumber:154,columnNumber:9}})),_.a.createElement(o.a,{style:{marginBottom:20},__source:{fileName:j,lineNumber:156,columnNumber:7}},_.a.createElement(o.a.Item,{__source:{fileName:j,lineNumber:157,columnNumber:9}},e["menu.list"]),_.a.createElement(o.a.Item,{__source:{fileName:j,lineNumber:158,columnNumber:9}},e["menu.list.searchTable"])),_.a.createElement("div",{__source:{fileName:j,lineNumber:160,columnNumber:7}},_.a.createElement(n.a,{style:{marginBottom:20},__source:{fileName:j,lineNumber:161,columnNumber:9}},_.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},__source:{fileName:j,lineNumber:162,columnNumber:11}},_.a.createElement(s.a,{onClick:function(){i(!0)},type:"primary",__source:{fileName:j,lineNumber:163,columnNumber:13}},"添加剧本"),_.a.createElement("div",{__source:{fileName:j,lineNumber:171,columnNumber:13}},_.a.createElement(l.a,{__source:{fileName:j,lineNumber:172,columnNumber:15}},_.a.createElement(u.a,{onChange:function(){},placeholder:"请输入账号",style:{width:200},__source:{fileName:j,lineNumber:173,columnNumber:17}}),_.a.createElement(u.a,{onChange:function(){},placeholder:"请输入手机号码",style:{width:200},__source:{fileName:j,lineNumber:174,columnNumber:17}}),_.a.createElement(u.a,{onChange:function(){},placeholder:"请输入用户名",style:{width:200},__source:{fileName:j,lineNumber:179,columnNumber:17}}),_.a.createElement(u.a,{onChange:function(){},placeholder:"用户状态",style:{width:200},__source:{fileName:j,lineNumber:184,columnNumber:17}}),_.a.createElement(s.a,{onClick:function(){},__source:{fileName:j,lineNumber:185,columnNumber:17}},"重置"),_.a.createElement(s.a,{onClick:function(){C()},type:"primary",__source:{fileName:j,lineNumber:186,columnNumber:17}},"搜索")))))),_.a.createElement(n.a,{bordered:!1,__source:{fileName:j,lineNumber:199,columnNumber:7}},_.a.createElement(a.a,{rowKey:"user_account",loading:P,onChange:function(e){C(e.current,e.pageSize,I)},pagination:x,columns:N,data:T,__source:{fileName:j,lineNumber:200,columnNumber:9}})))}},273:function(e,r,t){"use strict";t.r(r),t.d(r,"UPDATE_LIST",(function(){return a})),t.d(r,"UPDATE_LOADING",(function(){return n})),t.d(r,"UPDATE_PAGINATION",(function(){return l})),t.d(r,"UPDATE_FORM_PARAMS",(function(){return u}));var a="searchTable_update_list",n="searchTable_update_loading",l="searchTable_update_pagination",u="searchTable_update_formParams"},523:function(e,r,t){e.exports={container:"container-2fa6f7d97d",toolbar:"toolbar-c9646f4c58",operations:"operations-24903b4853"}},531:function(e,r,t){"use strict";t.d(r,"d",(function(){return n})),t.d(r,"c",(function(){return l})),t.d(r,"g",(function(){return u})),t.d(r,"e",(function(){return o})),t.d(r,"a",(function(){return c})),t.d(r,"b",(function(){return m})),t.d(r,"h",(function(){return i})),t.d(r,"f",(function(){return s}));var a=t(88);function n(e){return Object(a.a)({url:"/system/dict/labels",method:"POST"})}function l(e){return Object(a.a)({url:"/v1/drama/list",data:e})}function u(e){return Object(a.a)({url:"/v1/store/list",data:e,method:"post"})}function o(e){return Object(a.a)({url:"/system/menu/list",data:e,method:"post"})}function c(e){return Object(a.a)({url:"/v1/drama/add",data:e})}function m(e){return Object(a.a)({url:"/v1/store/add",data:e})}function i(e){return Object(a.a)({url:"/v1/store/edit",data:e})}function s(){return Object(a.a)({url:"/system/basic/regions",method:"GET"})}}}]);