(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{181:function(e,r,n){"use strict";n.r(r);var t=n(5),a=n.n(t),o=(n(65),n(24)),u=(n(112),n(40)),c=n(56),l=n.n(c),s=(n(254),n(96)),i=(n(253),n(73)),m=n(35),f=n.n(m),p=n(0),b=n.n(p),d=n(111),_="/Users/mrhh/Desktop/gbs-admin/src/pages/role-user/form/index.jsx",N=i.a.Item,w={labelCol:{span:7},wrapperCol:{span:17}},g={wrapperCol:{span:17,offset:7}};r.default=function(e){var r=e.nowrole_code,n=e.closeModalAndReqTable,t=e.userListData,c=e.clickItem;console.log("nowrole_code");var m=Object(p.useRef)();return Object(p.useEffect)((function(){m.current.setFieldsValue(c)}),[]),b.a.createElement("div",{style:{maxWidth:650},__source:{fileName:_,lineNumber:33,columnNumber:5}},b.a.createElement(i.a,a()({ref:m},w,{size:"default",onSubmit:function(e){console.log(e)},onValuesChange:function(e,r){console.log("onValuesChange: ",e,r)},scrollToFirstError:!0,__source:{fileName:_,lineNumber:34,columnNumber:7}}),b.a.createElement(N,{field:"user_list",label:"添加用户",__source:{fileName:_,lineNumber:44,columnNumber:9}},b.a.createElement(s.a,{filterOption:function(e,r){return r.props.value.toLowerCase().indexOf(e.toLowerCase())>=0||r.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},showSearch:!0,allowClear:!0,mode:"multiple",__source:{fileName:_,lineNumber:45,columnNumber:11}},t.map((function(e){return b.a.createElement(s.a.Option,{key:e.user_account,value:e.user_account,__source:{fileName:_,lineNumber:56,columnNumber:17}},e.user_name)})))),b.a.createElement(N,a()({},g,{__source:{fileName:_,lineNumber:63,columnNumber:9}}),b.a.createElement(o.a,{onClick:l()(f.a.mark((function e(){var t,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.current){e.next=35;break}return e.prev=1,e.next=4,m.current.validate();case 4:return(t=m.current.getFields()).role_code=r,t.user_list=t.user_list.map((function(e){return{user_id:"",user_account:e}})),e.next=9,Object(d.l)(t);case 9:return 200===e.sent.code&&(u.a.success("添加成功"),n()),e.abrupt("return");case 17:a=e.sent,e.next=27;break;case 20:return o=m.current.getFields(),console.log("param: ",o),e.abrupt("return");case 26:a=e.sent;case 27:200===a.code&&(u.a.success("添加成功"),n()),e.next=35;break;case 30:e.prev=30,e.t0=e.catch(1),console.log(e.t0),console.log(m.current.getFieldsError()),u.a.error("校验失败，请检查字段！");case 35:case"end":return e.stop()}}),e,null,[[1,30]])}))),type:"primary",style:{marginRight:24},__source:{fileName:_,lineNumber:64,columnNumber:11}},"提交"),b.a.createElement(o.a,{onClick:function(){m.current.resetFields()},__source:{fileName:_,lineNumber:113,columnNumber:11}},"重置"))))}}}]);